using System;
using System.Collections.Generic;
using System.Threading;
using EXILED;
using EXILED.ApiObjects;
using EXILED.Extensions;
using Grenades;
using MEC;
using Mirror;
using Telepathy;
using UnityEngine;
using UnityEngine.Android;
using UnityEngine.Assertions.Must;
namespace PlayerStats
{
    public class EventHandlers
    {
        public static string url = "http://127.0.0.1:4578/";

        private int scp079id = -1;
        private bool h;
        private bool choise;

        private ReferenceHub scp;
        private bool die;
        private bool start;
        private int int222;
        private DateTime maxtime;
        public static List<String> scp_999 = new List<String>();



        private string SCP173;
        private string SCP049;
        private string SCP079;
        private string SCP096;
        private string SCP939_89;
        private string SCP939_53;
        private string SCP106;
        private int s173;
        public int s049;
        private int s096;
        private int s939_53;
        private int s939_89;
        private int s106;
        private int KillerID;
        private int PlayerID;
        private int RoleSet = 0;
        public bool roundstart = false;
        public int[] GuardType = new int[200];
        public int Guardnum = 0;
        public int count = 0;
        public DateTime updatatimer = DateTime.Now;
        public int deadtimer = 0;
        public bool starttimer = false;



        private bool firstscp;
        public bool deadtime = false;
        public int count2 = 0;
        private int waring1;
        private int playernum = 0;
        public bool waring = false;
        public int[] touxiang = new int[0x65];
        private int round = 0;
        public int chaos = 0;
        public int mtf = 0;
        public int mtfchange = 0;
        public int chaoschange = 0;
        private int Count = 0;
        private int issuperTrue = 0;
        private int issuperFalse = 0;
        private int coldtime = 0;
        private int coldtime2 = 2;
        private bool coldbc = false;
        private bool coldtb = false;
        private int ini10;
        private int xp;
        private int lv;
        private bool coldwait233;
        private bool Dio1;
        private bool sjtz1;
        private bool sjtz2;
        private Thread cd;
        private bool ylb1;
        private DateTime updatatimer2 = DateTime.Now;
        private DateTime updatatimer5 = DateTime.Now;
        private DateTime updatatimer6 = DateTime.Now;


        private DateTime updatatimer7 = DateTime.Now;
        private int tiems;
        private int scp073id;
        private bool mrfishzb = true;
        private bool scp076yes;
        private bool scp076iteam;
        private int scp076id;
        private bool xhsnb;
        private int xhsnb2;
        private int scp2818id;
        private bool scp2818pick;
        private bool hhzhgzb = true;
        private int times2;
        private bool scp1143a;
        private int scp1143id;
        private ReferenceHub jwhng;
        private int jwhngid;
        private int times;
        private DateTime updatatimer3 = DateTime.Now;
        private bool bpb;
        private bool jljy1;
        private bool jljyzb;
        private ReferenceHub scp181;
        private int scp181id;
        private ReferenceHub cxk;


        //181µÄ±äÁ¿²âÊÔ
        public int cxkid;
        public bool jntm;
        public bool cxkyes;
        private bool cxkflash;
        public int scp817id;
        private ReferenceHub scp817;
        public bool scp817yes;
        public int D9341id;
        private bool d9341flash;
        public bool D9341yes;
        public int times1 = 0;
        public bool jntmlq;
        public int times3 = 0;
        private ReferenceHub scp2006;
        private int scp2006id;
        private bool scp035health;
        public int scp035id;
        private bool scp035item2;
        private int times5 = 1;
        private int scpqblid2;
        private ReferenceHub scpqbl;
        private string scpqblid;
        private int scp914mid;
        private DateTime updatatimer181 = DateTime.Now;
        private DateTime updatatimer182 = DateTime.Now;
        private DateTime updatatimer183 = DateTime.Now;
        private DateTime updatatimer184 = DateTime.Now;
        private DateTime updatatimer185 = DateTime.Now;
        private DateTime updatatimer186 = DateTime.Now;
        private int scp939id;
        private bool jkl;
        private string jklid;
        private bool qblcq2;
        private ReferenceHub xywj;
        private string xywjid;
        private bool bscp79;
        private int jwhhkid;
        private bool jwhngyes;
        private bool jwhngitem;
        private bool jwhngshuachu;
        private bool hrss;
        private int hktime;
        private bool csm;
        private int csmtime;
        private bool a127;
        private bool a127c;
        private int a127b;
        private ReferenceHub xtd;
        private int xtdid;
        private bool stealcd;
        private bool scp457a;
        private bool scp457die;
        private int scp457id;
        private int time2;
        private int time3;
        private bool scp005;
        private int scp005aid;
        private bool scp073a;
        private bool scp073zb = true;
        private bool a127d;
        private bool scp650yes;
        private ReferenceHub scp650;
        private int scp650id;
        private bool scp3108pick;
        private int scp3108playerid;
        private bool scp3108shotyes;
        private bool scp1577bj;
        private DateTime updatatimerscp1577;
        private bool scp1577pick;
        private int gjtr;
        private bool bhsx;
        private int njsxtimes;
        private bool yshkq;
        private int peaple;
        private bool sjqx;
        private DateTime upwait = DateTime.Now;
        private readonly Plugin plugin;
        public EventHandlers(Plugin plugin) => this.plugin = plugin;
        public Dictionary<string, Stats> Stats = new Dictionary<string, Stats>();
        public List<CoroutineHandle> Coroutines = new List<CoroutineHandle>();
        private Thread pmd;
        private ReferenceHub D9341;
        private RoleType D9341js;
        private List<string> scp2006a = new List<string>();
        private ReferenceHub scp035;
        private ReferenceHub scp914m;
        private ReferenceHub scp076;
        private List<ReferenceHub> player233 = new List<ReferenceHub>();
        private List<ReferenceHub> player22 = new List<ReferenceHub>();
        private List<string> hd = new List<string>();
        private List<int> jw = new List<int>();
        private ReferenceHub jwhhk;
        private Vector3 hkzb;
        private ReferenceHub scp073;
        private List<Inventory.SyncItemInfo> D9341Item;
        private Vector3 D9341zb;
        private ReferenceHub scp457;
        private List<string> Dio2 = new List<string>();
        private ReferenceHub scpqbl3;
        private ReferenceHub qblcq;
        private List<string> HDZHG2 = new List<string>();
        private List<int> LLBS233 = new List<int>();
        private List<Door> door2 = new List<Door>();
        private List<string> jljy2 = new List<string>();
        private Door door3;
        private List<string> scp682 = new List<string>();
        private List<string> ylb2 = new List<string>();
        private List<int> bpb2 = new List<int>();
        private List<int> scp1577id = new List<int>();
        private List<Door> doord = new List<Door>();
        private ReferenceHub scp2818;
        private ReferenceHub Dio;
        private List<ReferenceHub> player5 = new List<ReferenceHub>();
        private List<Vector3> pos1 = new List<Vector3>();
        private Vector3 scp1577pos;
        private List<ReferenceHub> playerqwq = new List<ReferenceHub>();
        private ReferenceHub scp1143;
        private ReferenceHub HDZHG;
        private ReferenceHub mrfish;
        private Vector3 pos4;
        private ReferenceHub jljy;
        private Vector3 scp457b;
        private ReferenceHub ylb;
        private Vector3 pos3;
        private ReferenceHub scp106a;
        private List<ReferenceHub> scpd79 = new List<ReferenceHub>();
        private Vector3 LCZ;
        private Vector3 scp3108shotatplayerpos;
        private Vector3 pos2;
        private int d = 0;
        private int s;
        private int card;
        private bool scp2006coin;
        private bool scp999yes;
        private bool scp457tp;
        private bool diotp;
        private int ragdolltime;
        private int itemtime; 
        private bool scp999tp;
        private List<ReferenceHub> playerdio = new List<ReferenceHub>();
        private bool scp035goout;
        private bool diyicizhixingzheli;
        private bool xitonghedan;
        private Vector3 pos5;
        private bool jwhngwufashanghai;
        private bool bscd;
        private ReferenceHub hpsz;
        private int hpszid;
        private ReferenceHub scp550;
        private int scp550id;
        private bool scp550item;
        private bool scp550yes;
        private bool scp550shuachu;
        private List<Inventory.SyncItemInfo> scp035item;
        private bool scp035yes;
        private bool mzyes;
        private ReferenceHub mz;
        private int mzid;
        private bool mzzb;
        private List<Inventory.SyncItemInfo> item;
        private float health;
        private bool meitunshi;
        private int tssj;
        private int scp550lv;
        private int tssl;
        private bool scp79;
        private float scp457health;

        public void SetPlayerScale(GameObject target, float x, float y, float z)
        {
            try
            {
                NetworkIdentity identity = target.GetComponent<NetworkIdentity>();
                

                target.transform.localScale = new Vector3(1 * x, 1 * y, 1 * z);

                ObjectDestroyMessage destroyMessage = new ObjectDestroyMessage();
                destroyMessage.netId = identity.netId;


                foreach (GameObject player in PlayerManager.players)
                {
                    if (player == target)
                        continue;

                    NetworkConnection playerCon = player.GetComponent<NetworkIdentity>().connectionToClient;

                    playerCon.Send(destroyMessage, 0);

                    object[] parameters = new object[] { identity, playerCon };
                    typeof(NetworkServer).InvokeStaticMethod("SendSpawnMessage", parameters);
                }
            }
            catch (Exception e)
            {
                Log.Info($"´óÐ¡ÉèÖÃÊ§°Ü: {e}");
            }
        }
        public void ONWarheadCancelled(WarheadCancelEvent ev)
        {
            if (xitonghedan == true)
            {
                ev.Player.Broadcast(2, "<color=red>[¾¯¸æ]</color>\n<color=lime>ÏµÍ³ºËµ¯ÎÞ·¨¹Ø±Õ</color>", false);
                ev.Allow = false;

            }
        }
        public void OnWaitingForPlayers()
        {
            pmd = new Thread(PMD);
            pmd.Start();

            Coroutines.Add(Timing.RunCoroutine(SecondCounter()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter2()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter3()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter4()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter5()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter6()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter7()));

            Coroutines.Add(Timing.RunCoroutine(SecondCounter8()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter9()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter10()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter11()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter12()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter13()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter14()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter15()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter16()));

            Coroutines.Add(Timing.RunCoroutine(SecondCounter18()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter19()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter17()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter20()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter21()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter22()));
            Coroutines.Add(Timing.RunCoroutine(SecondCounter23()));

        }
        private IEnumerator<float> SecondCounter28()
        {
            yield return Timing.WaitForSeconds(2f);
            foreach(Inventory.SyncItemInfo item2 in D9341.GetAllItems())
            {
                D9341.RemoveItem(item2);
            }
            foreach (Inventory.SyncItemInfo item2 in D9341Item)
            {
                D9341.AddItem(item2);
            }
            D9341.SetPosition(D9341zb);
        }
        private IEnumerator<float> RunRestoreMaxHp(ReferenceHub player, int maxHp)
        {
            yield return Timing.WaitForSeconds(0.1f);
            
            player.playerStats.maxHP = maxHp;
            player.SetHealth(maxHp);
        }
        private IEnumerator<float> SecondCounter25()
        {
            yield return Timing.WaitForSeconds(2f);

            foreach (Inventory.SyncItemInfo syncItemInfo in jwhng.GetAllItems())
            {
                jwhng.RemoveItem(syncItemInfo);
            }

            foreach (Inventory.SyncItemInfo syncItemInfo in item)
            {
                jwhng.AddItem(syncItemInfo);
            }

            jwhng.SetHealth(health);
            bscd = true;
        }
        private IEnumerator<float> SecondCounter24()
        {
            yield return Timing.WaitForSeconds(2f);
            Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(scp035, 500)));

            foreach (Inventory.SyncItemInfo item in scp035.GetAllItems())
            {
                scp035.RemoveItem(item);
            }
            foreach (Inventory.SyncItemInfo item in scp035item)
            {
                scp035.AddItem(item);
            }
        }

        private IEnumerator<float> SecondCounter23()
        {
            for (; ; )
            {
                if (jwhngwufashanghai == true)
                {
                    yield return Timing.WaitForSeconds(120f);
                    jwhngwufashanghai = false;
                    jwhng.ClearBroadcasts();
                    jwhng.Broadcast(10, "<color=red>ÄãÏÖÔÚ¿ÉÒÔ±ä³É»ìãç¹¥»÷¾ÅÎ²ºüÁË</color>",false);
                }
                foreach (ReferenceHub referenceHub1 in Player.GetHubs())
                {
                    if (referenceHub1.GetHealth() <= 0)
                    {
                        referenceHub1.SetRole(RoleType.Spectator);
                    }
                }
                if(scp035yes == true)
                {
                    scp035.AddHealth(-10);
                    if(scp035.GetHealth() <= 0)
                    {
                        scp035.SetRole(RoleType.Spectator);
                        scp035id = 0;
                        scp035goout = false;
                        scp035yes = false;
                        scp035 = null;
                    }
                }
                yield return Timing.WaitForSeconds(10f);
            }

        }


        private IEnumerator<float> SecondCounter22()
        {
            for (; ; )
            {
                if (scp457a == true)
                {
                    scp457b = scp457.GetPosition();
                    float num2 = scp457b.x + 4;
                    float num3 = scp457b.y + 4;
                    float num4 = scp457b.z + 4;
                    float num5 = scp457b.x - 4;
                    float num6 = scp457b.y - 4;
                    float num7 = scp457b.z - 4;

                    foreach (ReferenceHub player in Player.GetHubs())
                    {
                        if ((player.GetTeam() != Team.SCP) && (player.GetPlayerId() != scp457id) && (player.GetPosition().x <= num2) && (player.GetPosition().x >= num5) && (player.GetPosition().y <= num3) && (player.GetPosition().y >= num6) && (player.GetPosition().z <= num4) && (player.GetPosition().z >= num7))
                        {
                            player.AddHealth(-3);
                            player.Broadcast(1, "SCP-457ÔÚÄã¸½½üÄãÕýÔÚ³ÖÐø¿ÛÑª", false);
                        }
                    }
                }

                yield return Timing.WaitForSeconds(1f);
            }

        }


        private IEnumerator<float> SecondCounter21()
        {
            for (; ; )
            {
                if(starttimer ==true)
                {
                    yield return Timing.WaitForSeconds(1800f);
                    Map.StartNuke();
                    xitonghedan = true;
                    Map.Broadcast("<color=red>[¾¯¸æ]</color>\n<color=lime>ÏµÍ³ºËµ¯ÒÑ¿ªÆôÎÞ·¨¹Ø±Õ</color>", 4,  false);

                }
                yield return Timing.WaitForSeconds(5f);

            }

        }

        private IEnumerator<float> SecondCounter20()
        {
            for (; ; )
            {
                if((starttimer == true) &&(diyicizhixingzheli ==true))
                {
                    yield return Timing.WaitForSeconds(10f);
                    string[] textArray1 = new string[] { "[<color=#FFA500>", SCP173, "</color> <color=#008000>", SCP049, "</color> <color=#FF8C00>", SCP079, "</color> <color=#808080>", SCP096, "</color> <color=#800000>", SCP939_89, "</color> <color=#CD5C5C>", SCP939_53, "</color> <color=#D2691E>", SCP106, "</color>", "]\n<color=#FF0000>¼ì²âµ½ÒÔÉÏSCPÒÑÍ»ÆÆÊÕÈÝ</color>" };
                    Map.Broadcast(string.Concat(textArray1), 12, false);
                    if (card == 1)
                    {
                        scp181.AddItem(ItemType.KeycardChaosInsurgency);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);
                    }
                    if (card == 2)
                    {
                        scp181.AddItem(ItemType.KeycardContainmentEngineer);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);
                        
                    }
                    if (card == 4)
                    {
                        scp181.AddItem(ItemType.KeycardJanitor);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);

                    }
                    if (card == 5)
                    {
                        scp181.AddItem(ItemType.KeycardScientistMajor);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);

                    }
                    if (card == 6)
                    {
                        scp181.AddItem(ItemType.KeycardNTFCommander);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);

                    }
                    if (card == 7)
                    {
                        scp181.AddItem(ItemType.KeycardNTFLieutenant);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);

                    }
                    if (card == 8)
                    {
                        scp181.AddItem(ItemType.KeycardO5);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);

                    }
                    if (card == 9)
                    {
                        scp181.AddItem(ItemType.KeycardScientist);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);
                    }
                    if (card == 10)
                    {
                        scp181.AddItem(ItemType.KeycardZoneManager);
                        card = 0;
                        scp181.AddItem(ItemType.Coin);

                    }
                    if(scp035item2 == true)
                    {
                        Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(scp035, 300)));

                        scp035.AddItem(ItemType.GunUSP);
                        scp035.AddItem(ItemType.Ammo9mm);
                        scp035.AddItem(ItemType.Ammo9mm);
                        scp035.AddItem(ItemType.Ammo9mm);
                        scp035.AddItem(ItemType.KeycardScientist);
                        scp035item2 = false;
                        foreach (GameObject door in GameObject.FindGameObjectsWithTag("Door"))
                        {
                            if(door.name == "173_ARMORY")
                            {
                                scp035.SetPosition(door.transform.position.x, door.transform.position.y+(float)1.5, door.transform.position.z);
                            }
                        }
                            
                    }
                    if (scp2006coin == true)
                    {
                        scp2006.AddItem(ItemType.Coin);
                        scp2006.AddItem(ItemType.Coin);
                        scp2006.AddItem(ItemType.Coin);
                        scp2006.AddItem(ItemType.Coin);
                        scp2006.AddItem(ItemType.Coin);
                        scp2006.AddItem(ItemType.Coin);
                        scp2006.AddItem(ItemType.Coin);
                        scp2006.AddItem(ItemType.Coin);
                        scp2006coin = false;
                    }
                    if (d9341flash == true)
                    {
                        D9341.AddItem(ItemType.Flashlight);
                        D9341.AddItem(ItemType.GrenadeFlash);
                        d9341flash = false;
                    }
                    if (cxkflash == true)
                    {
                        cxk.AddItem(ItemType.Flashlight);
                        cxkflash = false;
                    }
                    if (scp035health == true)
                    {
                        Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(scp035, 500)));

                        scp035health = false;
                    }
                    if (scp076iteam == true)
                    {
                        scp076.AddItem(ItemType.GunE11SR);
                        scp076.AddItem(ItemType.Radio);
                        scp076.AddItem(ItemType.Adrenaline);
                        scp076.AddItem(ItemType.GrenadeFrag);
                        scp076.AddItem(ItemType.GrenadeFrag);
                        scp076.AddItem(ItemType.MicroHID);
                        scp076iteam = false;
                    }
                    diyicizhixingzheli = false;
                }

                yield return Timing.WaitForSeconds(10f);

            }

        }
        private IEnumerator<float> wdzs()
        {
            yield return Timing.WaitForSeconds(10f);

            foreach (ReferenceHub player3 in Player.GetHubs())
            {
                if (player3.GetRole() == RoleType.Scp173)
                {
                    if(player3.GetPlayerId()!= scp650id)
                    {
                        player3.SetHealth(4200);
                        player3.SetGodMode(false);
                    }

                }
            }
            xhsnb = false;
        }
        private IEnumerator<float> SecondCounter19()
        {
            for (; ; )
            {
                if(scp035goout == true)
                {

                    scp035.SetRank("SCP-035", "red", true);
                    Map.Broadcast("<color=red>ÒòÎªSCP-035ÌÓ³öÉèÊ© Ã¿150s»áËæ»úËÀÍöÒ»¸ö¾ÅÎ²ºüÕóÓªÍæ¼Ò</color>", 10, false);
                    yield return Timing.WaitForSeconds(150f);
                    foreach(ReferenceHub referenceHub in Player.GetHubs())
                    {
                        if(referenceHub.GetTeam() == Team.MTF)
                        {
                            referenceHub.Kill();
                            referenceHub.SetRole(RoleType.Spectator);
                            break;
                        }
                    }
                }
                yield return Timing.WaitForSeconds(1f);

            }

        }      
        private IEnumerator<float> SecondCounter18()
        {
            for (; ; )
            {
                if (roundstart == true)
                {
                    yield return Timing.WaitForSeconds(100f);
                    if(choise == false)
                    {
                        choise = true;
                        foreach (ReferenceHub p in Player.GetHubs())
                        {
                            if (p.GetRole() == RoleType.Scp079)
                            {
                                p.SetRank("SCP079 - °ïÖúSCP", "aqua", true);
                            }
                        }
                        Map.Broadcast("<color=#FFC0CB>---[SCP079]---</color>\n<color=aqua>ÈËÀà¸ÐÊÜ¿Ö¾å°É ±¾¾ÖSCP079Ñ¡Ôñ°ïÖúSCP</color>\n<color=aqua>SCP²»»áÊÜµ½µçÍøµÄÉËº¦</color>", 10, false);
                    }

                }
                yield return Timing.WaitForSeconds(1f);

            }
        }
        private IEnumerator<float> SecondCounter17()
        {
            for (; ; )
            {
                if (times5 == 6)
                {
                    foreach (ReferenceHub player in Player.GetHubs())
                    {
                        if (player.GetUserId() == "76561198197721054@steam")
                        {
                            player.SetRank("Çó±ðÂÒÉ±DD", "yellow",  true);
                        }
                        if (player.GetUserId() == "76561198441344563@steam")
                        {
                            player.SetRank("·þÄÚ×îË§´óÀÐ", "yellow",  true);
                        }
                        if (player.GetUserId() == "76561198816705835@steam")
                        {
                            player.SetRank("¹Â¶ÀÒ»Éú", "lime", true);
                        }
                        if (player.GetUserId() == "76561198369468432@steam")
                        {
                            player.SetRank("°×æÎ´ó·¨ºÃ", "yellow",  true);
                        }
                        if (player.GetUserId() == "76561198997348090@steam")
                        {
                            player.SetRank("ÒòÎªÊÇÄ§ÍõËùÒÔºÜ°ôÑ½", "yellow", true);
                        }
                        if (player.GetUserId() == "76561198893112896@steam")
                        {
                            player.SetRank("µÏ°Â¡¤²¼À¼¶È", "cyan", true);
                        }
                        if (player.GetUserId() == "76561198377975833@steam")
                        {
                            player.SetRank("ÄÔÌ±ÄÔÌ±", "cyan", true);
                        }
                    }
                    times5 = 1;
                }
                if (times5 == 5)
                {
                    foreach (ReferenceHub player in Player.GetHubs())

                    {
                        if (player.GetUserId() == "76561198197721054@steam")
                        {
                            player.SetRank("Çó±ðÂÒÉ±DD", "green",  true);
                        }
                        if (player.GetUserId() == "76561198441344563@steam")
                        {
                            player.SetRank("·þÄÚ×îË§´óÀÐ", "green",  true);
                        }
                        if (player.GetUserId() == "76561198816705835@steam")
                        {
                            player.SetRank("¹Â¶ÀÒ»Éú", "crimson", true);
                        }
                        if (player.GetUserId() == "76561198369468432@steam")
                        {
                            player.SetRank("°×æÎ´ó·¨ºÃ", "green",  true);
                        }
                        if (player.GetUserId() == "76561198997348090@steam")
                        {
                            player.SetRank("ÒòÎªÊÇÄ§ÍõËùÒÔºÜ°ôÑ½", "green", true);
                        }
                        if (player.GetUserId() == "76561198893112896@steam")
                        {
                            player.SetRank("µÏ°Â¡¤²¼À¼¶È", "green",  true);
                        }
                        if (player.GetUserId() == "76561198377975833@steam")
                        {
                            player.SetRank("ÄÔÌ±ÄÔÌ±", "green", true);
                        }
                    }
                    times5 = 6;
                }
                if (times5 == 4)
                {
                    foreach (ReferenceHub player in Player.GetHubs())

                    {
                        if (player.GetUserId() == "76561198197721054@steam")
                        {
                            player.SetRank("Çó±ðÂÒÉ±DD", "red",  true);
                        }
                        if (player.GetUserId() == "76561198441344563@steam")
                        {
                            player.SetRank("·þÄÚ×îË§´óÀÐ", "red",  true);
                        }
                        if (player.GetUserId() == "76561198816705835@steam")
                        {
                            player.SetRank("¹Â¶ÀÒ»Éú", "cyan",  true);
                        }
                        if (player.GetUserId() == "76561198369468432@steam")
                        {
                            player.SetRank("°×æÎ´ó·¨ºÃ", "red",  true);
                        }
                        if (player.GetUserId() == "76561198997348090@steam")
                        {
                            player.SetRank("ÒòÎªÊÇÄ§ÍõËùÒÔºÜ°ôÑ½", "red", true);
                        }
                        if (player.GetUserId() == "76561198893112896@steam")
                        {
                            player.SetRank("µÏ°Â¡¤²¼À¼¶È", "red",  true);
                        }
                        if (player.GetUserId() == "76561198377975833@steam")
                        {
                            player.SetRank("ÄÔÌ±ÄÔÌ±", "red", true);
                        }
                    }
                    times5 = 5;
                }
                if (times5 == 3)
                {
                    foreach (ReferenceHub player in Player.GetHubs())

                    {
                        if (player.GetUserId() == "76561198197721054@steam")
                        {
                            player.SetRank("Çó±ðÂÒÉ±DD", "cyan",  true);
                        }
                        if (player.GetUserId() == "76561198441344563@steam")
                        {
                            player.SetRank("·þÄÚ×îË§´óÀÐ", "cyan",  true);
                        }
                        if (player.GetUserId() == "76561198816705835@steam")
                        {
                            player.SetRank("¹Â¶ÀÒ»Éú", "red",  true);
                        }
                        if (player.GetUserId() == "76561198369468432@steam")
                        {
                            player.SetRank("°×æÎ´ó·¨ºÃ", "cyan",  true);
                        }
                        if (player.GetUserId() == "76561198997348090@steam")
                        {
                            player.SetRank("ÒòÎªÊÇÄ§ÍõËùÒÔºÜ°ôÑ½", "cyan",  true);
                        }
                        if (player.GetUserId() == "76561198893112896@steam")
                        {
                            player.SetRank("µÏ°Â¡¤²¼À¼¶È", "pink",  true);
                        }
                        if (player.GetUserId() == "76561198377975833@steam")
                        {
                            player.SetRank("ÄÔÌ±ÄÔÌ±", "pink", true);
                        }
                    }
                    times5 = 4;
                }
                if (times5 == 2)
                {
                    foreach (ReferenceHub player in Player.GetHubs())

                    {
                        if (player.GetUserId() == "76561198197721054@steam")
                        {
                            player.SetRank("Çó±ðÂÒÉ±DD", "crimson", true);
                        }
                        if (player.GetUserId() == "76561198441344563@steam")
                        {
                            player.SetRank("·þÄÚ×îË§´óÀÐ", "crimson",  true);
                        }
                        if (player.GetUserId() == "76561198816705835@steam")
                        {
                            player.SetRank("¹Â¶ÀÒ»Éú", "green", true);
                        }
                        if (player.GetUserId() == "76561198369468432@steam")
                        {
                            player.SetRank("°×æÎ´ó·¨ºÃ", "crimson",  true);
                        }
                        if (player.GetUserId() == "76561198997348090@steam")
                        {
                            player.SetRank("ÒòÎªÊÇÄ§ÍõËùÒÔºÜ°ôÑ½", "crimson", true);
                        }
                        if (player.GetUserId() == "76561198893112896@steam")
                        {
                            player.SetRank("µÏ°Â¡¤²¼À¼¶È", "orange",  true);
                        }
                        if (player.GetUserId() == "76561198377975833@steam")
                        {
                            player.SetRank("ÄÔÌ±ÄÔÌ±", "orange", true);
                        }
                    }
                    times5 = 3;
                }
                if (times5 == 1)
                {
                    foreach (ReferenceHub player in Player.GetHubs())

                    {
                        if (player.GetUserId() == "76561198197721054@steam")
                        {
                            player.SetRank("Çó±ðÂÒÉ±DD", "lime", true);
                        }
                        if (player.GetUserId() == "76561198441344563@steam")
                        {
                            player.SetRank("·þÄÚ×îË§´óÀÐ", "lime",  true);
                        }
                        if (player.GetUserId() == "76561198816705835@steam")
                        {
                            player.SetRank("¹Â¶ÀÒ»Éú", "yellow",  true);
                        }
                        if (player.GetUserId() == "76561198369468432@steam")
                        {
                            player.SetRank("°×æÎ´ó·¨ºÃ", "lime",  true);
                        }
                        if (player.GetUserId() == "76561198997348090@steam")
                        {
                            player.SetRank("ÒòÎªÊÇÄ§ÍõËùÒÔºÜ°ôÑ½", "lime",  true);
                        }
                        if (player.GetUserId() == "76561198893112896@steam")
                        {
                            player.SetRank("µÏ°Â¡¤²¼À¼¶È", "yellow",  true);
                        }
                        if (player.GetUserId() == "76561198377975833@steam")
                        {
                            player.SetRank("ÄÔÌ±ÄÔÌ±", "yellow", true);
                        }
                    }
                    times5 = 2;
                }
                yield return Timing.WaitForSeconds(6f);
            }
        }
        private IEnumerator<float> SecondCounter16()
        {
            for (; ; )
            {
                foreach(ReferenceHub hub in Player.GetHubs())
                {
                    if(hub.GetRole() != RoleType.Scp173)
                    {
                        hub.SetGodMode(false);
                    }

                }
                bscd = false;
                yield return Timing.WaitForSeconds(10f);
            }
        }
        private IEnumerator<float> SecondCounter14()
        {
            for (; ; )
            {
                if (ylb1 == true)
                {
                    Vector3 pos2 = ylb.GetPosition();
                    float num2 = pos2.x + 3;
                    float num3 = pos2.y + 3;
                    float num4 = pos2.z + 3;
                    float num5 = pos2.x - 3;
                    float num6 = pos2.y - 3;
                    float num7 = pos2.z - 3;

                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if ((player3.GetTeam() == Team.MTF) && (player3.GetPosition().x <= num2) && (player3.GetPosition().x >= num5) && (player3.GetPosition().y <= num3) && (player3.GetPosition().y >= num6) && ((player3.GetPosition().z <= num4) && (player3.GetPosition().z >= num7)))
                        {
                            player3.AddHealth(1);
                            player3.Broadcast(5, "ÄãµÄÉË¿ÚÕýÔÚÓúºÏ", false);
                        }
                    }

                }
                if (lv == 1)
                {
                    foreach (ReferenceHub player3 in Player.GetHubs())

                    {
                        if (player3.GetRole() == RoleType.Scp049)
                        {
                            player3.AddHealth(5);
                        }
                    }
                }
                if (lv == 2)
                {
                    ;
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp049)
                        {
                            player3.AddHealth(10);
                        }
                    }
                }
                if (lv == 3)
                {
                    foreach (ReferenceHub player3 in Player.GetHubs())

                    {
                        if (player3.GetRole() == RoleType.Scp049)
                        {
                            player3.AddHealth(15);
                        }
                    }
                }
                if (scp999yes == true)
                {
                    foreach (ReferenceHub player2 in Player.GetHubs())
                    {
                        if (player2.GetRole() == RoleType.FacilityGuard)
                        {
                            scp = player2;
                            die = false;
                            ScpSpawn();
                            scp999yes = false;
                            break;
                        }
                    }
                }
                yield return Timing.WaitForSeconds(5f);

            }
        }
        private IEnumerator<float> SecondCounter3()
        {
            for (; ; )
            {
                if (sjtz1 == true)
                {
                    foreach (ReferenceHub referenceHub in Player.GetHubs())
                    {
                        if(Dio2.Contains(referenceHub.GetUserId())==false)
                        {
                            referenceHub.SetPosition(referenceHub.GetPosition());
                        }
                    }
                    //for (int i = 0; i < playerdio.Count; i++)
                    //{
                      //  if (Dio2.Contains(playerdio[i].GetUserId()) == false)
                        //{
                          //  playerdio[i].SetPosition(pos1[i]);
                        //}
                   // }
                }
                if (qblcq2 == true)
                {
                    qblcq.SetPosition(scpqbl3.GetPosition());
                }
                yield return Timing.WaitForSeconds((float)0.2);
            }
        }

        private IEnumerator<float> SecondCounter12()
        {
            for (; ; )
            {
                if (cxkyes == true)
                {
                    yield return Timing.WaitForSeconds(100f);
                    cxk.AddItem(ItemType.Flashlight);
                    cxk.Broadcast(4, "¼¦ÄãÌ«ÃÀ³äÄÜÍê±Ï", false);
                }
                

                yield return Timing.WaitForSeconds(1f);
            }
        }
        private IEnumerator<float> SecondCounter13()
        {
            for (; ; )
            {
                if(scp817yes == true)
                {
                    yield return Timing.WaitForSeconds(150f);
                    pos3 = scp817.GetPosition();

                    int Rolenum = new System.Random().Next(1, 14);
                    if (Rolenum == 1)
                    {
                        scp817.SetRole(RoleType.Scientist, true);
                    }
                    if (Rolenum == 2)
                    {
                        scp817.SetRole(RoleType.ChaosInsurgency, true);
                    }
                    if (Rolenum == 3)
                    {
                        scp817.SetRole(RoleType.FacilityGuard, true);
                    }
                    if (Rolenum == 4)
                    {
                        scp817.SetRole(RoleType.NtfCadet, true);
                    }
                    if (Rolenum == 5)
                    {
                        scp817.SetRole(RoleType.NtfCommander, true);
                    }
                    if (Rolenum == 6)
                    {
                        scp817.SetRole(RoleType.NtfLieutenant, true);
                    }
                    if (Rolenum == 7)
                    {
                        scp817.SetRole(RoleType.NtfScientist, true);
                    }
                    if (Rolenum == 8)
                    {
                        scp817.SetRole(RoleType.Scp079, true);
                    }
                    if (Rolenum == 9)
                    {
                        scp817.SetRole(RoleType.Scp106, true);
                    }
                    if (Rolenum == 10)
                    {
                        scp817.SetRole(RoleType.Scp173, true);
                    }
                    if (Rolenum == 11)
                    {
                        scp817.SetRole(RoleType.Scp93953, true);
                    }
                    if (Rolenum == 12)
                    {
                        scp817.SetRole(RoleType.Scp93989, true);
                    }
                    if (Rolenum == 13)
                    {
                        scp817.SetRole(RoleType.Tutorial,true);
                    }

                    scp817.Broadcast(5, "±äÉíÍê±Ïqwq", false);
                    times3 = 1;
                    scp817.SetPosition(pos3);
                }
                yield return Timing.WaitForSeconds(10f);
            }
        }
        private IEnumerator<float> SecondCounter11()
        {
            for (; ; )
            {
                if(jntm == true)
                {
                    yield return Timing.WaitForSeconds(10f);
                    jntm = false;
                }
                yield return Timing.WaitForSeconds(1f);
            }
        }
        private IEnumerator<float> SecondCounter10()
        {
            for (; ; )
            {
                scp076.AddItem(ItemType.MicroHID);
                yield return Timing.WaitForSeconds(240f);
            }
        }
        private IEnumerator<float> SecondCounter9()
        {
            for (; ; )
            {
                if (scp3108shotyes == true)
                {
                    scp3108playerid = 0;
                }
                scp2006.AddItem(ItemType.Coin);
                foreach (ReferenceHub player in Player.GetHubs())
                {
                    if (player.GetTeam() == Team.SCP)
                    {
                        player.AddHealth(25);
                    }
                }
                if (bpb == true)
                {
                    foreach (ReferenceHub player in Player.GetHubs())
                    {
                        if (bpb2.Contains(player.GetPlayerId()))
                        {
                            player.AddItem(ItemType.GrenadeFrag);
                        }
                    }
                }
                if (ylb1 == true)
                {
                    ylb.AddItem(ItemType.Medkit);
                }
                yield return Timing.WaitForSeconds(100f);
            }
        }
        private IEnumerator<float> SecondCounter8()
        {
            for (; ; )
            {

                foreach (GameObject d in GameObject.FindGameObjectsWithTag("Door"))
                {
                
                }
                foreach (ReferenceHub player in Player.GetHubs())
                {
                    if (player.GetUserId() == "76561198133773112@steam")
                    {
                        player.SetRank("BILIBILI_ÓÅÀÖÃÀ", "lime", true);
                    }
                    if (player.GetUserId() == "76561198335932913@steam")
                    {
                        player.SetRank("ÕÐ²Æß÷~", "lime", true);
                    }
                    if (player.GetUserId() == "76561198376557635@steam")
                    {
                        player.SetRank("VIP1", "lime", true);
                    }
                    if (player.GetUserId() == "76561198425823494@steam")
                    {
                        player.SetRank("Ë¹´óÁÖ", "red", true);
                    }
                    if (player.GetUserId() == "76561198979881230@steam")
                    {
                        player.SetRank("±¾Èº³£×¤UPÖ÷", "aqua", true);
                    }
                    if (player.GetUserId() == "76561198401019684@steam")
                    {
                        player.SetRank("²»ÊÇÐ¡Ñ§ÉúÊÇÉÙÄêÒôÐ¡½ã½ã", "lime", true);
                    }
                    if (player.GetUserId() == "76561198416583969@steam")
                    {
                        player.SetRank("É³µñÖÕ½áÕß", "blue", true);
                    }
                    if (player.GetUserId() == "76561198961941280@steam")
                    {
                        player.SetRank("BILIBILI_ÔªÆøÉÙÄêÂåð°", "aqua", true);
                    }
                    if (player.GetUserId() == "76561198359791579@steam")
                    {
                        player.SetRank("D-17396", "yellow", true);
                    }
                    if (player.GetUserId() == "76561198977855934@steam")
                    {
                        player.SetRank("49·òÈË", "pink", true);
                    }
                    if (player.GetUserId() == "76561198845175801@steam")
                    {
                        player.SetRank("ÆßÑÕÏ²49", "lime", true);
                    }
                    if (player.GetUserId() == "76561198414605683@steam")
                    {
                        player.SetRank("BILILBILI_éäÐ¡ÍØ", "lime", true);
                    }
                    if (player.GetUserId() == "76561198360004164@steam")
                    {
                        player.SetRank("bilibiliÀä»ÃcQWQ", "lime", true);
                    }
                    if (player.GetUserId() == "76561198865192444@steam")
                    {
                        player.SetRank("ÀÏÍ·ÊÕÈÝÆïÊ¿", "red", true);
                    }




                }
                yield return Timing.WaitForSeconds(60f);
            }
        }
        private IEnumerator<float> SecondCounter7()
        {
            for (; ; )
            {
                if(starttimer == true)
                {
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>400s</color>ºóÇåÀí·þÎñÆ÷", 10, false);
                    yield return Timing.WaitForSeconds(200f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>200s</color>ºóÇåÀí·þÎñÆ÷", 10, false);
                    yield return Timing.WaitForSeconds(150f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>50s</color>ºóÇåÀí·þÎñÆ÷", 10, false);
                    yield return Timing.WaitForSeconds(40f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>10s</color>ºóÇåÀí·þÎñÆ÷", 5, false);
                    yield return Timing.WaitForSeconds(5f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>5s</color>ºóÇåÀí·þÎñÆ÷", 1, false);
                    yield return Timing.WaitForSeconds(1f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>4s</color>ºóÇåÀí·þÎñÆ÷", 1, false);
                    yield return Timing.WaitForSeconds(1f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>3s</color>ºóÇåÀí·þÎñÆ÷", 1, false);
                    yield return Timing.WaitForSeconds(1f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>2s</color>ºóÇåÀí·þÎñÆ÷", 1, false);
                    yield return Timing.WaitForSeconds(1f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ÍÛÄãÃÇ°×¸øÁËºÃ¶àÀ¬»ø³É¶ÑÁËÑ½</color>\nÎÒ»áÔÚ<color=red>1s</color>ºóÇåÀí·þÎñÆ÷", 1, false);
                    yield return Timing.WaitForSeconds(1f);
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>¿ªÊ¼ÇåÀí</color>", 4, false);
                    foreach (Ragdoll ragdoll in UnityEngine.Object.FindObjectsOfType<Ragdoll>())
                    {
                        NetworkServer.Destroy(ragdoll.gameObject);
                        ragdolltime++;
                        
                    }
                    foreach (Pickup item in UnityEngine.Object.FindObjectsOfType<Pickup>())
                    {
                        if (item.ItemId == ItemType.Ammo556 || item.ItemId == ItemType.Ammo762 || item.ItemId == ItemType.Ammo9mm || item.ItemId == ItemType.GunE11SR || item.ItemId == ItemType.WeaponManagerTablet || item.ItemId == ItemType.GrenadeFlash || item.ItemId == ItemType.GrenadeFrag || item.ItemId == ItemType.Disarmer || item.ItemId == ItemType.GunLogicer || item.ItemId == ItemType.GunProject90 || item.ItemId == ItemType.Radio)
                        {
                            item.Delete();
                            itemtime++;
                        }

                    }
                    Map.Broadcast("<color=#FFFF00>[Ð¡Óã·þÎñÆ÷ÇåÀí´óÊ¦]</color>\n<color=#66FFFF>ºÃ±¥Ñ½</color>\n±¾´ÎÇåÀíÁË" + itemtime.ToString() + "¸öÎïÆ·" + ragdolltime.ToString() + "¸öÊ¬Ìå", 4, false);
                    itemtime = 0;
                    ragdolltime = 0;
                    yield return Timing.WaitForSeconds(100f);

                }
                yield return Timing.WaitForSeconds(1f);

            }
        }
        private IEnumerator<float> SecondCounter6()
        {
            for (; ; )
            {
                yield return Timing.WaitForSeconds(10f);
                int i = 0;
                foreach (ReferenceHub referenceHub in Player.GetHubs())
                {
                    i++;
                    playerqwq.Add(referenceHub);
                }
                if (scp650yes == true)
                {
                    int cardup = new System.Random().Next(1, i);

                    if ((playerqwq[cardup].GetTeam() != Team.SCP) && (playerqwq[cardup].GetRole() != RoleType.Spectator))
                    {
                        scp650.SetPosition(playerqwq[cardup].GetPosition());
                    }
                    foreach (ReferenceHub player in Player.GetHubs())
                    {
                        if (player.GetPlayerId() == scp650id)
                        {
                            if (player.GetRole() != RoleType.Scp173)
                            {
                                scp650.SetGodMode(false);
                            }
                        }
                    }
                }

                if (scp1143a == true)
                {
                    yield return Timing.WaitForSeconds(2f);

                    scp1143.AddItem(ItemType.GrenadeFrag);
                }
                //1143¸øÊÖÁñµ¯
                if(mzzb == false)
                {
                    yield return Timing.WaitForSeconds(2f);

                    Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(mz, 500)));

                    mz.AddItem(ItemType.SCP500);
                    mz.AddItem(ItemType.Adrenaline);
                    mzzb = true;
                    Map.Broadcast("§³§å§Ü§Ñ §Ò§Ý§ñ§Õ§î ÎÚÀ­   §Ò§å§ä§í§Ý§Ü§Ñ §Ó§à§Õ§Ü§Ú  ", 5, false);
                    
                }
                if (hhzhgzb == false)
                {
                    yield return Timing.WaitForSeconds(2f);

                    HDZHG.ClearBroadcasts();
                    HDZHG.Broadcast(5, "ÄãÊÇ»ìãçÖ¸»Ó¹Ù°´~´ò¿ª¿ØÖÆÌ¨ÊäÈë.help»ñµÃÖ¸Áî°ïÖú", false);
                    HDZHG.SetRank("»ìãçÖ¸»Ó¹Ù", "yello", true);
                    Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(HDZHG, 150)));

                    HDZHG.AddItem(ItemType.KeycardO5);
                    HDZHG2.Add(HDZHG.GetUserId());
                    hhzhgzb = true;
                }
                //»ìãçÖ¸»Ó¹Ù·ÖÅä
                if (scp073zb == false)
                {
                    yield return Timing.WaitForSeconds(2f);

                    scp073.SetRole(RoleType.NtfLieutenant);
                    scp073zb = true;
                }
                if (mrfishzb == false)
                {
                    yield return Timing.WaitForSeconds(3f);

                    mrfish.SetRole(RoleType.Scientist,true);
                    mrfish.SetHealth(120);
                    mrfish.AddItem(ItemType.KeycardO5);
                    mrfish.AddItem(ItemType.MicroHID);
                    mrfish.AddItem(ItemType.MicroHID);
                    mrfish.AddItem(ItemType.GunLogicer);
                    mrfish.AddItem(ItemType.GrenadeFrag);
                    mrfish.AddItem(ItemType.Radio);
                    mrfish.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 400);
                    mrfish.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 400);
                    mrfish.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 400);

                    mrfishzb = true;
                }
                if (jljyzb == true)
                {
                    yield return Timing.WaitForSeconds(2f);

                    jljy.SetRole(RoleType.Tutorial);
                    jljy.SetPosition(Map.GetRandomSpawnPoint(RoleType.FacilityGuard));
                    jljy.AddItem(ItemType.GunE11SR);
                    jljy.AddItem(ItemType.MicroHID);
                    jljy.AddItem(ItemType.MicroHID);
                    jljy.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 400);
                    jljy.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 400);
                    jljy.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 400);
                    jljy.AddItem(ItemType.KeycardNTFCommander);
                    Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(jljy, 250)));

                    jljy2.Add(jljy.GetUserId());
                    jljy.SetRank("¼ªÁ¼¼ªÓ°", "red", true);
                    jljyzb = false;
                }
                if(scp1577bj == true)
                {
                    yield return Timing.WaitForSeconds(2f);
                    Vector3 vector3 = new Vector3(scp1577pos.x, scp1577pos.y + 2, scp1577pos.z);
                    Map.SpawnItem(ItemType.SCP500, 500, vector3);
                    Map.SpawnItem(ItemType.SCP500, 500, vector3);
                    Map.SpawnItem(ItemType.Medkit, 500, vector3);
                    Map.SpawnItem(ItemType.MicroHID, 500, vector3);
                    Map.SpawnItem(ItemType.KeycardO5, 500, vector3);
                    scp1577bj = false;
                }
                if(jwhngitem ==false)
                {
                    yield return Timing.WaitForSeconds(2f);

                    jwhngitem = true;
                    foreach (Inventory.SyncItemInfo item in jwhng.GetAllItems())
                    {
                        jwhng.RemoveItem(item);
                    }
                    jwhng.ClearBroadcasts();
                    jwhng.Broadcast(5, "<color=lime>[¾ÅÎ²ºüÄÚ¹í]</color>\n<color=yello>ÄãÊÇ¾ÅÎ²ºüÖÐµÄÄÚ¹íHP:350ÄãÓÐ120sµÄ×¼±¸Ê±¼ä</color>\n<color=yellow>¶ªÏÂÉÁ¹âµ¯ÇÐ»»Òþ²ØÄ£Ê½</color>");
                    jwhng.Broadcast(5, "<color=lime>[¾ÅÎ²ºüÄÚ¹í]</color>\n<color=yello>²¹³äËµÃ÷ ÄãÔÚÒþ²ØÄ£Ê½±»¾ÅÎ²É¨µ½»áµôÑªµ«ÊÇ²»»á±©Â¶</color>\n<color=yellow>120sÖ®Ç°¾ÅÎ²²»»á¶ÔÄãÔì³ÉÉËº¦ÄãÒ²ÎÞ·¨±äÉí</color>");
                    jwhng.AddItem(ItemType.KeycardChaosInsurgency);
                    jwhng.AddItem(ItemType.GunE11SR);
                    jwhng.AddItem(ItemType.Radio);
                    jwhng.AddItem(ItemType.GrenadeFlash);
                    jwhng.AddItem(ItemType.Adrenaline);
                    Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(jwhng, 500)));

                }
                if (scp550item == true)
                {
                    yield return Timing.WaitForSeconds(2f);

                    scp550item = false;
                    Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(scp550, 5000)));

                    scp550.SetRank("SCP-550", "red", true);
                    meitunshi = true;
                    scp550.Broadcast(10, "<color=lime>[SCP550]</color>\n<color=yello>ÄãÊÇÊ³Ê¬¹í:HP:5000 Èç¹û30sÄÚÃ»ÍÌÊÉÊ¬ÌåÃ¿ÃëËðÊ§8HP</color>\n<color=yellow>Õ¾ÔÚÊ¬Ìå±ßÉÏ¼´¿ÉÍÌÊÉÊ¬Ìå ÍÌÊÉÍê³ÉºóÄã»á»ñµÃÄÜÁ¦µÄÌáÉý</color>");
                    Coroutines.Add(Timing.RunCoroutine(SecondCounter26()));
                    scp550.AddItem(ItemType.GunProject90);
                }

            }
        }
        private IEnumerator<float> SecondCounter27()
        {
            for (; ; )
            {
                if(scp550yes == true)
                {
                    Vector3 pos2 = scp550.GetPosition();
                    float num2 = pos2.x + 3;
                    float num3 = pos2.y + 3;
                    float num4 = pos2.z + 3;
                    float num5 = pos2.x - 3;
                    float num6 = pos2.y - 3;
                    float num7 = pos2.z - 3;



                    foreach (Ragdoll ragdoll in UnityEngine.Object.FindObjectsOfType<Ragdoll>())
                    {
                        if ((ragdoll.transform.position.x <= num2) && (ragdoll.transform.position.x >= num5) && (ragdoll.transform.position.y <= num3) && (ragdoll.transform.position.y >= num6) && ((ragdoll.transform.position.z <= num4) && (ragdoll.transform.position.z >= num7)))
                        {
                            tssj++;
                            scp550.Broadcast(1, "<color=lime>[ÌáÊ¾]ÍÌÊÉÊ¬ÌåÖÐ½ø¶È</color>" + tssj);
                            if (scp550lv == 0)
                            {
                                if(tssj >= 14)
                                {
                                    tssj = 0;
                                    tssl++;
                                    meitunshi = true;
                                    scp550.AddHealth(100);
                                    scp550.SetRank("SCP550|ÍÌÊÉÊ¬ÌåÊýÁ¿:" + tssl + "|µÈ¼¶:" + scp550lv,"red",true);
                                    NetworkServer.Destroy(ragdoll.gameObject);
                                }
                            }
                            if(scp550lv == 1)
                            {
                                if (tssj >= 12)
                                {
                                    tssj = 0;
                                    meitunshi = true;
                                    tssl++;
                                    scp550.AddHealth(100);
                                    scp550.SetRank("SCP550|ÍÌÊÉÊ¬ÌåÊýÁ¿:" + tssl + "|µÈ¼¶:" + scp550lv, "red", true);
                                    NetworkServer.Destroy(ragdoll.gameObject);
                                }
                            }
                            if (scp550lv >= 2)
                            {
                                if (tssj >= 10)
                                {
                                    meitunshi = true;
                                    tssj = 0;
                                    tssl++;
                                    scp550.AddHealth(100);
                                    scp550.SetRank("SCP550|ÍÌÊÉÊ¬ÌåÊýÁ¿:" + tssl + "|µÈ¼¶:" + scp550lv, "red", true);
                                    NetworkServer.Destroy(ragdoll.gameObject);
                                }
                            }

                            break;
                        }
                        else
                        {
                            tssj = 0;
                        }
                    }
                }
                if (scp550yes == true)
                {
                    if (tssl == 5)
                    {
                        meitunshi = true;
                        scp550lv = 1;
                        scp550.SetRank("SCP550|ÍÌÊÉÊ¬ÌåÊýÁ¿:" + tssl + "|µÈ¼¶:" + scp550lv, "red", true);
                    }
                    if (tssl == 10)
                    {
                        meitunshi = true;
                        scp550lv = 2;
                        scp550.SetRank("SCP550|ÍÌÊÉÊ¬ÌåÊýÁ¿:" + tssl + "|µÈ¼¶:" + scp550lv, "red", true);
                    }
                    if (tssl == 15)
                    {
                        meitunshi = true;
                        scp550lv = 3;
                        scp550.SetRank("SCP550|ÍÌÊÉÊ¬ÌåÊýÁ¿:" + tssl + "|µÈ¼¶:" + scp550lv, "red", true);
                    }
                    if (tssl == 30)
                    {
                        meitunshi = true;
                        scp550lv = 4;
                        scp550.SetRank("SCP550|ÍÌÊÉÊ¬ÌåÊýÁ¿:" + tssl + "|µÈ¼¶:" + scp550lv, "red", true);
                    }
                    if (scp550lv == 1)
                    {
                        scp550.AddHealth(2);
                    }
                    if (scp550lv == 2)
                    {
                        scp550.AddHealth(4);
                    }
                    if (scp550lv == 3)
                    {
                        scp550.AddHealth(6);
                    }
                    if (scp550lv == 4)
                    {
                        scp550.AddHealth(8);
                    }
                }
                yield return Timing.WaitForSeconds(1f);

            }
        }

        private IEnumerator<float> SecondCounter26()
        {
            for (; ; )
            {
                if(meitunshi == true)
                {
                    yield return Timing.WaitForSeconds(30f);
                    meitunshi = false;
                }
                if(meitunshi == false)
                {
                    if(scp550.GetHealth() >= 300)
                    {
                        scp550.AddHealth(-8);
                    }
                }
                yield return Timing.WaitForSeconds(1f);

            }
        }
        private IEnumerator<float> SecondCounter5()
        {
            for (; ; )
            {
 
                int sjsj2 = new System.Random().Next(1, 31);
                Log.Info(sjsj2.ToString());

                if ((scp457die == false) && (scp457a == false))
                {
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Spectator)
                        {
                            scp457 = player3;
                            scp457a = true;
                            Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");

                            scp457id = scp457.GetPlayerId();
                            scp457.SetRank("SCP-457", "red", true);
                            scp457.SetRole(RoleType.Tutorial);
                            scp457tp = true;

                            Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(scp457, 4000)));

                            Map.Broadcast("<color=red>SCP457ÒÑ¾­³öÏÖÇë¾¡¿ìÏûÃð</color>", 10, false);
                            scp457.Broadcast(10, "<color=#FFC0CB>---[SCP457]---</color>\n<color=#00FFFF>HP:4000  </color>ÄãÓµÓÐÒ»ÖÖÌØÊâÄÜÁ¦\n<color=#FFD700>ÔÚÄãÖÜÎ§µÄÈË¶¼»á¿ÛÑª</color>", false);
                            break;
                        }
                    }
                }
                if (sjsj2 == 1)
                {
                    Map.Broadcast("<color=#BB1444>¶¾ÆøÐ¹Â©£¡-ÊÂ¼þ£ºËùÓÐÉú´æÈËÀàÍæ¼Ò½«ÔÚ30ÃëÄÚ¿Û³ýµô1-12hp</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())

                    {
                        int kx = new System.Random().Next(1, 12);
                        if (player3.GetTeam() > Team.SCP)
                        {
                            player3.AddHealth(-kx);
                        }
                    }
                }
                if (sjsj2 == 2)
                {
                    Map.Broadcast("<color=#BB1444>DDÔì·´£¡£¡-ÊÂ¼þ£ºËùÓÐ´æ»îµÄClass-D»ñµÃ¡°Ôì·´ÎïÆ·¡±</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())

                    {
                        if (player3.GetRole() == RoleType.ClassD)
                        {
                            player3.AddItem(ItemType.GunCOM15);
                            player3.AddItem(ItemType.Ammo762);
                            player3.AddItem(ItemType.GunCOM15);
                        }
                    }
                }
                if (sjsj2 == 3)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>²©Ê¿µÄË½»õ£¡£¡-ÊÂ¼þ£ºËùÓÐ´æ»î²©Ê¿»ñµÃµç´ÅÅÚx2ºÍ500hp</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())

                    {
                        if (player3.GetRole() == RoleType.Scientist)
                        {
                            player3.AddItem(ItemType.MicroHID);
                            player3.AddItem(ItemType.MicroHID);
                            player3.SetHealth(player3.GetHealth() + 500);
                        }
                    }

                }
                if (sjsj2 == 4)
                {
                    Map.Broadcast("<color=#BB1444>ÎÒÒªÏÂ°à-ÊÂ¼þ£ºËæ»úÒ»Ãû±£°²»ñµÃÒ»ÕÅºÚ¿¨</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.FacilityGuard)
                        {
                            player3.AddItem(ItemType.KeycardO5);
                            break;
                        }
                    }
                }
                if (sjsj2 == 5)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>ÖíÊÇµÄÄîÀ´¹ýµ¹-ÊÂ¼þ£ºÔÚ³¡µÄËùÓÐÍæ¼Ògetµ½ÁËÒ»¸öÐ¦µã</color>", 10, false);
                }
                if (sjsj2 == 6)
                {
                    Map.Broadcast("<color=#BB1444>¹§Ï²·¢²Æ£¡-ÊÂ¼þ£ºËùÓÐ´æ»îÍæ¼Ò»ñµÃÒ»´ó¶ÑÓ²±Ò</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        player3.AddItem(ItemType.Coin);
                        player3.AddItem(ItemType.Coin);
                        player3.AddItem(ItemType.Coin);
                        player3.AddItem(ItemType.Coin);
                        player3.AddItem(ItemType.Coin);
                    }

                }
                if (sjsj2 == 7)
                {
                    Map.Broadcast("<color=#BB1444>ÇÉ¿ËÁ¦ÕæºÃ³Ô£¡-ÊÂ¼þ£º»¨Éú³Ôµô×Ô¼ºÊÖÊÖ</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp173)
                        {
                            
                            player3.AddHealth(-50);
                        }
                    }

                }
                if (sjsj2 == 8)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>ÎÞµÐÕ½Éñ£¡-ÊÂ¼þ£º»¨Éú-1HP²¢ÇÒÎÞµÐ »Ö¸´ºóÂúÑª¸´»îqwq</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp173)
                        {
                            player3.SetHealth(1);
                            player3.SetGodMode(true);
                        }

                    }
                    xhsnb = true;
                }
                if (sjsj2 == 9)
                {
                    Map.Broadcast("<color=#BB1444>±§±§ÀÏµù£¡-ÊÂ¼þ£ºSCP-106Ëæ»ú´«ËÍµ½Ò»ÃûD¼¶ÈËÔ±Éí±ß</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp106)
                        {
                            scp106a = player3;
                            break;
                        }
                    }
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.ClassD)
                        {
                            scp106a.SetPosition(player3.GetPosition());
                            break;
                        }

                    }
                }
                if (sjsj2 == 10)
                {
                    Map.Broadcast("<color=#BB1444>±ÏÒµÑ§Í½£¡-ÊÂ¼þ£ºSCP-49-2±äÎªSCP049</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp0492)
                        {
                            player3.SetRole(RoleType.Scp049,true);
                            break;
                        }
                    }
                }
                if (sjsj2 == 11)
                {
                    Map.Broadcast("<color=#BB1444>µõÏúÖ´ÕÕ£¡-ÊÂ¼þ£ºSCP-49±äÎªSCP-049-2</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp049)
                        {
                            pos5 = player3.GetPosition();
                            player3.SetRole(RoleType.Scp0492,true);

                            player3.SetHealth(5000);
                            break;
                        }
                    }
                }
                if (sjsj2 == 12)
                {
                    Map.Broadcast("<color=#BB1444>¾´ÀÏÔº£¡-ÊÂ¼þ£º¶à³öÀ´Ò»¸öÀÏÍ·</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Spectator)
                        {
                            player3.SetRole(RoleType.Scp106);
                            break;
                        }
                    }
                }
                if (sjsj2 == 13)
                {
                    Map.Broadcast("<color=#BB1444>343µÄÀ¡Ôù£¡-ÊÂ¼þ£ºÒ»ÃûÍæ¼Ò»ñµÃ µç´ÅÅÚ ÊÖÀ× ºÚ¿¨</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if ((player3.GetTeam() > Team.SCP) && (player3.GetRole() != RoleType.Spectator))
                        {
                            player3.AddItem(ItemType.KeycardO5);
                            player3.AddItem(ItemType.MicroHID);
                            player3.AddItem(ItemType.GrenadeFrag);
                            break;
                        }
                    }
                }
                if (sjsj2 == 14)
                {
                    Map.Broadcast("<color=#BB1444>DDÃÇµÄ¸´³ð£¡-ÊÂ¼þ£ºÈ«²¿D¸´»î ²¢Ð¯´øÊÖÇ¹</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Spectator)
                        {
                            player3.SetRole(RoleType.ClassD);
                            player3.AddItem(ItemType.GunCOM15);
                        }
                    }
                    csm = true;
                }
                if (sjsj2 == 15)
                {
                    Map.Broadcast("<color=#BB1444>Ï´ÔèÕæÊæ·þ£¡-ÊÂ¼þ£ºÀÏÍ·Ï´°×±ä³É96</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp106)
                        {
                            player3.SetRole(RoleType.Scp096,true);
                        }
                    }
                }
                if (sjsj2 == 16)
                {
                    Map.Broadcast("<color=#BB1444>Äà°ÍÕæºÃÍæ£¡-ÊÂ¼þ£º96±äºÚÁË</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp096)
                        {
                            player3.SetRole(RoleType.Scp106, true);
                        }
                    }
                }
                if (sjsj2 == 17)
                {
                    Map.Broadcast("<color=#BB1444>ÎÒÁ·¹¦·¢×ÔÕæÐÄ£¡-ÊÂ¼þ£ºÒ»ÃûD¼¶±ä³ÉSCP079</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.ClassD)
                        {
                            player3.SetRole(RoleType.Scp079);
                            scpd79.Add(player3);
                            break;
                        }
                    }
                }
                if (sjsj2 == 18)
                {
                    Map.Broadcast("<color=#BB1444>Ð¡ÈËÄ£Ê½£¡-ÊÂ¼þ£ºËùÓÐÍæ¼Ò³ß´çËõÐ¡</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        SetPlayerScale(player3.gameObject, (float)0.7, (float)0.7, (float)0.7);
                    }
                }
                if (sjsj2 == 19)
                {
                    Map.Broadcast("<color=#BB1444>ÑîÓÀÐÅÍø½äËù£¡-ÊÂ¼þ£ºÒ»ÃûÊÂ¼þË¢³É079±ä»ØD¼¶</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Scp079)
                        {
                            player3.SetRole(RoleType.ClassD);
                        }
                    }
                }
                if (sjsj2 == 20)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>079°ïÖúSCP£¡-ÊÂ¼þ£º±¾»ØºÏSCPÓÐ5%¼¸ÂÊ¿ªÃÅ</color>", 10, false);
                    bscp79 = true;
                }
                if (sjsj2 == 21)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>µ÷Æ¤µÄ´«ËÍÃÅ£¡-ÊÂ¼þ£º10ÃëÄÚ100%´¥·¢Ëæ»úÃÅ</color>", 10, false);
                    csm = true;
                }
                if (sjsj2 == 22)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>ÇÇ±ÌÂÜµÄÄæÏ®£¡-ÊÂ¼þ£ºÇÇ±ÌÂÜ»Ö¸´ÉËº¦</color>", 10, false);
                    qblcq = null;
                    qblcq2 = false;
                    scpqbl = null;
                    scpqbl3 = null;
                    scpqblid = null;
                    scpqblid2 = 0;

                }
                if (sjsj2 == 23)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>¿ÕÍ¶µ¯Ò©£¡-ÊÂ¼þ£ºËùÓÐÈË×Óµ¯¼Ó200·¢</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        player3.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, player3.GetAmmo(EXILED.ApiObjects.AmmoType.Dropped5) + 200);
                        player3.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, player3.GetAmmo(EXILED.ApiObjects.AmmoType.Dropped7) + 200);
                        player3.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, player3.GetAmmo(EXILED.ApiObjects.AmmoType.Dropped9) + 200);
                    }
                }
                if (sjsj2 == 24)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>·ÊÕ¬¿ìÀÖD£¡-ÊÂ¼þ£ºËùÓÐ´æ»îD¼¶»ñµÃ¿ÉÀÖ</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.ClassD)
                        {
                            player3.AddItem(ItemType.SCP207);
                        }
                    }
                }
                if (sjsj2 == 25)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>»¨ÉúÓÍ£¡-ÊÂ¼þ£º¸´»î3¸öÐ¡»¨Éúµ«HP£ºÖ»ÓÐ30HP</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Spectator)
                        {
                            time3++;
                            player3.SetRole(RoleType.Scp173);
                            player3.SetHealth(30);
                            if (time3 >= 3)
                            {
                                break;
                            }

                        }
                    }

                }
                if (sjsj2 == 26)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>¾ÅÎ²ºüÄãÃÇµÄ¿ìµÝµ½ÁË£¡-ÊÂ¼þ£º¾ÅÎ²ºü³öÉúµãË¢Á½¸öµç´ÅÅÚ</color>", 10, false);
                    Map.SpawnItem(ItemType.MicroHID, 500, Map.GetRandomSpawnPoint(RoleType.NtfCommander));
                    Map.SpawnItem(ItemType.MicroHID, 500, Map.GetRandomSpawnPoint(RoleType.NtfCommander));
                }
                if (sjsj2 == 27)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>Ëæ»ú¾ªÏ²£¡-ÊÂ¼þ£ºËæÒâµØµãË¢Ò»¸öºÚ¿¨</color>", 10, false);
                    Map.SpawnItem(ItemType.KeycardO5, 500, Map.GetRandomSpawnPoint(RoleType.ClassD));

                }
                if (sjsj2 == 28)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>Äê¾ÃÊ§ÐÞ£¡-ÊÂ¼þ£ºÉèÊ©ÃÅÓÐ¼¸ÂÊÎÞ·¨¿ªÆô</color>", 10, false);
                    bhsx = true;

                }
                if (sjsj2 == 29)
                {
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    Map.Broadcast("<color=#BB1444>DDÃÇ¶àÄêµÄ´æ¿î£¡-ÊÂ¼þ£ºClass-D»ñµÃ Îï×ÊÒ»·Ý</color>", 10, false);
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.ClassD)
                        {
                            player3.AddItem(ItemType.GunE11SR);
                            player3.AddHealth(50);
                            player3.AddItem(ItemType.KeycardNTFCommander);
                        }
                    }
                }
                if (sjsj2 == 30)
                {
                    Map.Broadcast("<color=#BB1444>ÍÛ£¡¹âÍ·£¡-ÊÂ¼þ£º¶à³öÀ´Ò»¸ö96</color>", 10, false);
                    Log.Info("Ëæ»úÊÂ¼þ²âÊÔ");
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Spectator)
                        {
                            player3.SetRole(RoleType.Scp096);
                            break;
                        }
                    }
                }

                if (Dio1 == false)
                {
                    foreach (ReferenceHub player3 in Player.GetHubs())
                    {
                        if (player3.GetRole() == RoleType.Spectator)
                        {
                            Dio = player3;
                            Dio1 = true;
                            Map.Broadcast("<color=#BB1444>Dio:</color>\n<color=#BB1444>ÂÖµ½ÎÒÉÏÏß×°±ÆÁË</color>", 10, false);
                            Dio.SetRole(RoleType.Tutorial);
                            Dio.SetPosition(Map.GetRandomSpawnPoint(RoleType.ChaosInsurgency));
                            Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(Dio, 500)));
                            Dio.AddItem(ItemType.Flashlight);
                            Dio.AddItem(ItemType.GunE11SR);
                            Dio.AddItem(ItemType.MicroHID);
                            Dio.AddItem(ItemType.MicroHID);
                            Dio.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 400);
                            Dio.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 400);
                            Dio.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 400);
                            Dio.AddItem(ItemType.KeycardNTFCommander);
                            Dio.ClearBroadcasts();
                            Dio.Broadcast(6, "ÄãÊÇDio¶ªµôÊÖµçÊ¹ÓÃÊ±¼äÍ£Ö¹", false);
                            Dio.SetRank("Dio", "red", true);
                            Dio2.Add(Dio.GetUserId());
                            diotp = true;

                            break;
                            

                        }
                    }

                }
                yield return Timing.WaitForSeconds(200f);
            }
        }
        private IEnumerator<float> SecondCounter4()
        {
            for (; ; )
            {

                if (bhsx == true)
                {
                    if (njsxtimes == 1)
                    {
                        njsxtimes = 0;
                        bhsx = false;
                    }
                }
                updatatimerscp1577 = DateTime.Now.AddSeconds(300.0);
                njsxtimes++;
                stealcd = false;
                Map.Broadcast("<color=#00FFFF>Èç¹ûÄãÓÐÊ²Ã´ºÃµã×Ó»òÕßÓÎÍæÖÐÓÐÊ²Ã´ÎÊÌâ»¶Ó­Äú¼ÓÈºÅ¶\n979685108</color>", 7, false);
                Map.Broadcast("<color=#00FFFF>·þÎñÆ÷Èç¹ûÊ®·Ö¿¨¶Ù£¬ËµÃ÷·þÎñÆ÷±»¹¥»÷£¬ÁªÏµ·þÖ÷ÏÂÁÐ±í\nÉÏÕâÀï979685108ÕÒÈºÖ÷</color>", 7, false);
                yield return Timing.WaitForSeconds(300f);
            }
        }
        private IEnumerator<float> SecondCounter15()
        {
            for (; ; )
            {
                if (!die && start)
                {
                    scp.AddItem(ItemType.Medkit);
                    scp.AddHealth(80);
                }
                coldwait233 = false;//038cd 120s
                yield return Timing.WaitForSeconds(120f);
            }
        }
        private IEnumerator<float> SecondCounter2()
        {
            for (; ; )
            {
                foreach (ReferenceHub p in Player.GetHubs())
                {
                    if ((p.GetPosition().y <= -1000) && (p.GetPosition().y >= -1006))
                    {
                        int222++;
                        p.Broadcast(5, "ÄãÕýÔÚ²ð³ýµçÄÔµ±Ç°½ø¶È(ÄãµÄµç´ÅÅÚÕýÔÚ³äÄÜ)" + int222, false);
                        if ((int222 == 10) || (int222 == 20) || (int222 == 30) || (int222 == 50) || (int222 == 60) || (int222 == 70) && (int222 == 80) && (int222 == 90))
                        {
                            p.AddItem(ItemType.MicroHID);
                            p.Broadcast(5, "µç´ÅÅÚ³äÄÜÍê±Ï", false);
                        }
                        if (int222 >= 100)
                        {
                            foreach (ReferenceHub player in Player.GetHubs())
                            {
                                if (player.GetRole() == RoleType.Scp079)
                                {
                                    player.Kill(DamageTypes.Tesla);
                                }
                            }
                            int222 = 0;
                            Map.Broadcast("µçÄÔÒÑ¾­±©Á¦²ð³ý", 10, false);
                        }
                    }
                }
                if (diotp == true)
                {
                    diotp = false;
                    Dio.SetPosition(Map.GetRandomSpawnPoint(RoleType.ChaosInsurgency));
                    yield return Timing.WaitForSeconds(2f);

                    Dio.SetPosition(Map.GetRandomSpawnPoint(RoleType.ChaosInsurgency));

                }
                if (scp457tp == true)
                {
                    scp457tp = false;
                    scp457.SetPosition(Map.GetRandomSpawnPoint(RoleType.Scp096));
                    yield return Timing.WaitForSeconds(2f);
                    scp457.SetPosition(Map.GetRandomSpawnPoint(RoleType.Scp096));

                }
                if (scp999tp == true)
                {
                    scp999tp = false;
                    scp.SetPosition(Map.GetRandomSpawnPoint(RoleType.FacilityGuard));
                    yield return Timing.WaitForSeconds(2f);
                    scp.SetPosition(Map.GetRandomSpawnPoint(RoleType.FacilityGuard));
                    scp.SetGodMode(false);
                }
                yield return Timing.WaitForSeconds(20f);
            }
        }
        private IEnumerator<float> SecondCounter()
        {
            for (; ; )
            {

                Dio.SetGodMode(false);
                scp457.SetGodMode(false);

                if (csm)
                {

                    csmtime++;
                    if (csmtime == 10)
                    {
                        csm = false;
                        csmtime = 0;
                    }
                }
                if (hrss)
                {
                    hktime++;
                    float num2 = hkzb.x + 2;
                    float num3 = hkzb.y + 2;
                    float num4 = hkzb.z + 2;
                    float num5 = hkzb.x - 2;
                    float num6 = hkzb.y - 2;
                    float num7 = hkzb.z - 2;
                    foreach (ReferenceHub player in Player.GetHubs())
                    {
                        if ((player.GetTeam() != Team.MTF) && (player.GetRole() != RoleType.Scientist) && (player.GetPosition().x <= num2) && (player.GetPosition().x >= num5) && (player.GetPosition().y <= num3) && (player.GetPosition().y >= num6) && ((player.GetPosition().z <= num4) && (player.GetPosition().z >= num7)))
                        {
                            jwhhk.SetRole(RoleType.NtfScientist , true);
                            jwhhk.SetPosition(hkzb);
                            hktime = 0;
                            hrss = false;
                        }
                    }
                    if (hktime == 60)
                    {
                        foreach (ReferenceHub player in Player.GetHubs())
                        {
                            if (player.GetPlayerId() == jwhhkid)
                            {
                                jwhhk.SetRole(RoleType.NtfScientist,true);
                                jwhhk.SetPosition(hkzb);
                                hktime = 0;
                                hrss = false;

                            }
                        }
                    }
                }

                if(starttimer)
                {
                    deadtimer = deadtimer++;
                    waring1 = waring1++;
                    if (deadtimer >= 100)
                    {
                        xywj = null;
                        xywjid = null;
                    }
                    if (coldbc)
                    {
                        coldtime++;
                        if (coldtime == 80)
                        {
                            coldbc = false;
                            coldtime = 0;
                        }
                    }
                    if (coldtb)
                    {
                        coldtime2++;
                        if (coldtime2 == 300)
                        {
                            coldtb = false;
                            coldtime = 0;
                        }
                    }
                    if (deadtimer <= 30)
                    {

                        foreach (ReferenceHub player in Player.GetHubs())
                        {
                            if (player.GetRole() == RoleType.Spectator)
                            {
                                int num = new System.Random().Next(1, 100);
                                if ((num >= 0) && (num <= 0x19))
                                {
                                    if ((s173 == 0) && (player.GetRole() == RoleType.Spectator))
                                    {
                                        player.SetRole(RoleType.Scp173);
                                        s173 = 1;
                                        num = 0;
                                    }
                                    else if ((s096 == 0) && (player.GetRole() == RoleType.Spectator))
                                    {
                                        player.ClearBroadcasts();
                                        player.SetRole(RoleType.Scp096);
                                        player.Broadcast(10, "<color=#FFC0CB>[ÏûÏ¢]</color>\nÓÉÓÚÄãÁ¬½ÓÍíÁË\nÒÑÎªÄã×Ô¶¯·ÖÅäÕóÓª½ÓÊÜ°¤´ò", false);
                                        player.Broadcast(10, "[<color=#FFA500>" + SCP173 + "</color> <color=#008000>" + SCP049 + "</color> <color=#FF8C00>" + SCP079 + "</color> <color=#808080>" + SCP096 + "</color> <color=#800000>" + SCP939_89 + "</color> <color=#CD5C5C>" + SCP939_53 + "</color> <color=#D2691E>" + SCP106 + "</color>]\n<color=#FF0000>±¾¾ÖÄúµÄ¶ÓÓÑ</color>", false);
                                        s096 = 1;
                                        num = 0;
                                        Log.Info("Ò»ÃûÍæ¼ÒÑÓ³Ù¼ÓÈë±äÎªÁË: SCP096");
                                    }
                                    else if ((s106 == 0) && (player.GetRole() == RoleType.Spectator))
                                    {
                                        player.ClearBroadcasts();
                                        player.SetRole(RoleType.Scp106);
                                        player.Broadcast(10, "<color=#FFC0CB>[ÏûÏ¢]</color>\nÓÉÓÚÄãÁ¬½ÓÍíÁË\nÒÑÎªÄã×Ô¶¯·ÖÅäÕóÓª½ÓÊÜ°¤´ò", false);
                                        player.Broadcast(10, "[<color=#FFA500>" + SCP173 + "</color> <color=#008000>" + SCP049 + "</color> <color=#FF8C00>" + SCP079 + "</color> <color=#808080>" + SCP096 + "</color> <color=#800000>" + SCP939_89 + "</color> <color=#CD5C5C>" + SCP939_53 + "</color> <color=#D2691E>" + SCP106 + "</color>]\n<color=#FF0000>±¾¾ÖÄúµÄ¶ÓÓÑ</color>", false);
                                        s106 = 1;
                                        num = 0;
                                        Log.Info("Ò»ÃûÍæ¼ÒÑÓ³Ù¼ÓÈë±äÎªÁË: SCP106");
                                    }
                                    else if ((s939_53 == 0) && (player.GetRole() == RoleType.Spectator))
                                    {
                                        player.ClearBroadcasts();
                                        player.SetRole(RoleType.Scp93953);
                                        player.Broadcast(10, "<color=#FFC0CB>[ÏûÏ¢]</color>\nÓÉÓÚÄãÁ¬½ÓÍíÁË\nÒÑÎªÄã×Ô¶¯·ÖÅäÕóÓª½ÓÊÜ°¤´ò", false);
                                        player.Broadcast(10, "[<color=#FFA500>" + SCP173 + "</color> <color=#008000>" + SCP049 + "</color> <color=#FF8C00>" + SCP079 + "</color> <color=#808080>" + SCP096 + "</color> <color=#800000>" + SCP939_89 + "</color> <color=#CD5C5C>" + SCP939_53 + "</color> <color=#D2691E>" + SCP106 + "</color>]\n<color=#FF0000>±¾¾ÖÄúµÄ¶ÓÓÑ</color>", false);
                                        s939_53 = 1;
                                        num = 0;
                                        Log.Info("Ò»ÃûÍæ¼ÒÑÓ³Ù¼ÓÈë±äÎªÁË: SCP939_53");
                                    }
                                    else if ((s939_89 == 0) && (player.GetRole() == RoleType.Spectator))
                                    {
                                        player.ClearBroadcasts();
                                        player.SetRole(RoleType.Scp93989);
                                        player.Broadcast(10, "<color=#FFC0CB>[ÏûÏ¢]</color>\nÓÉÓÚÄãÁ¬½ÓÍíÁË\nÒÑÎªÄã×Ô¶¯·ÖÅäÕóÓª½ÓÊÜ°¤´ò", false);
                                        player.Broadcast(10, "[<color=#FFA500>" + SCP173 + "</color> <color=#008000>" + SCP049 + "</color> <color=#FF8C00>" + SCP079 + "</color> <color=#808080>" + SCP096 + "</color> <color=#800000>" + SCP939_89 + "</color> <color=#CD5C5C>" + SCP939_53 + "</color> <color=#D2691E>" + SCP106 + "</color>]\n<color=#FF0000>±¾¾ÖÄúµÄ¶ÓÓÑ</color>", false);
                                        s939_89 = 1;
                                        num = 0;
                                        Log.Info("Ò»ÃûÍæ¼ÒÑÓ³Ù¼ÓÈë±äÎªÁË: SCP939_89");
                                    }
                                    else if ((s049 == 0) && (player.GetRole() == RoleType.Spectator))
                                    {
                                        player.SetRole(RoleType.Scp049);
                                        s049 = 1;
                                        num = 0;

                                    }
                                    else
                                    {
                                        player.SetRole(RoleType.ClassD);
                                        num = 0;
                                    }
                                }
                                else if ((num >= 0x33) && (num <= 100))
                                {
                                    player.SetRole(RoleType.ClassD);
                                    num = 0;

                                }
                                else if ((num >= 0x1a) && (num <= 50))
                                {
                                    player.SetRole(RoleType.FacilityGuard);
                                    num = 0;
                                }
                                else
                                {
                                    player.SetRole(RoleType.ClassD);
                                    num = 0;
                                }
                                break;
                            }
                        }
                    }
                }


                yield return Timing.WaitForSeconds(1f);
            }
        }
        public void ScpSpawn()
        {
            if (!die)
            {
                scp.SetRole(RoleType.Tutorial,true);
                scp.AddItem(ItemType.Disarmer);
                scp.AddItem(ItemType.Flashlight);
                scp.AddItem(ItemType.KeycardGuard);
                scp.AddItem(ItemType.Radio);
                scp.AddItem(ItemType.GunMP7);
                scp.SetRank("SCP-999", "pink", true);
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(scp, 5000)));

                scp.ClearBroadcasts();
                scp.Broadcast(10, "ÄãÊÇ[<color=red>SCP-999</color>],°´~»ò`²é¿´½Ì³Ì", false);
                scp.SetAmmo(AmmoType.Dropped5, 500);
                scp.SetAmmo(AmmoType.Dropped7, 500);
                scp.SetAmmo(AmmoType.Dropped9, 500);
                scp.SendConsoleMessage(string.Concat(new object[] { "\nSCP999²å¼þËµÃ÷:\nSCP999ÓµÓÐ[", 5000, "]ÑªÁ¿,¹¥»÷µ½µÄ¶ÔÏó½«»Ö¸´[", 5, "]µÄÑªÁ¿,SCP999Ã¿[", 150, "]Ãë»á»Ø¸´80HP,SCP999²»Ó°ÏìÓÎÏ·½áÊøÌõ¼þ" }), "green");
                maxtime = DateTime.Now.AddSeconds(120);
                start = true;
                scp_999.Add(scp.GetUserId());
                scp999tp = true;
                Log.Info("SCP999ÒÑË¢ÐÂ£¬Íæ¼ÒÎª:" + scp.GetNickname() + start.ToString());
            }
        }
        public void On914KnobChange(ref Scp914KnobChangeEvent ev)
        {
            if (ev.Player.GetTeam() == Team.CDP)
            {
                ev.Player.Broadcast(5,"914µ±Ç°ÉèÖÃ£º"+ev.KnobSetting+ "¸ü¸ÄÈËÔ±£º"+ev.Player.GetNickname(), false);
            }

            if (ev.Player.GetTeam() == Team.MTF)
            {
                ev.Player.Broadcast(5, "914µ±Ç°ÉèÖÃ£º" + ev.KnobSetting + "¸ü¸ÄÈËÔ±£º" + ev.Player.GetNickname(), false);

            }

            if (ev.Player.GetTeam() == Team.CHI)
            {
                ev.Player.Broadcast(5, "914µ±Ç°ÉèÖÃ£º" + ev.KnobSetting + "¸ü¸ÄÈËÔ±£º" + ev.Player.GetNickname(), false);

            }

            if (ev.Player.GetTeam() == Team.RSC)
            {
                ev.Player.Broadcast(5, "914µ±Ç°ÉèÖÃ£º" + ev.KnobSetting + "¸ü¸ÄÈËÔ±£º" + ev.Player.GetNickname(), false);

            }

            if (ev.Player.GetTeam() == Team.TUT)
            {
                ev.Player.Broadcast(5, "914µ±Ç°ÉèÖÃ£º" + ev.KnobSetting + "¸ü¸ÄÈËÔ±£º" + ev.Player.GetNickname(), false);
            }

        }
        public void OnScp096Enrage(ref Scp096EnrageEvent ev)
        {

            Map.Broadcast("<color=red>[¾¯¸æ]</color>\n"+ev.Player.GetNickname()+"ÐÀÉÍÁËSCP096µÄÁ³", 5,false);

        }
        public void OnRoundStart()
        {
            diyicizhixingzheli = true;
            Map.SpawnItem(ItemType.GunCOM15, 500, Map.GetRandomSpawnPoint(RoleType.Scp173));
            List<ReferenceHub> list = new List<ReferenceHub>();
            List<ReferenceHub> list2 = new List<ReferenceHub>();
            starttimer = true;
            firstscp = true;
            Map.Broadcast("±¾´Î¸üÐÂÈÕÆÚ2020.6.14´ËÈÕÆÚÈÃÄãÃÇ´ß¸üÓÃ", 5, false);
            foreach (GameObject door in GameObject.FindGameObjectsWithTag("Door"))
            {
                if (new System.Random().Next(1, 12) == 5)
                {
                    Vector3 pos = new Vector3(door.transform.position.x, door.transform.position.y + (float)2.0, door.transform.position.z);
                    Map.SpawnItem(ItemType.Coin, 500, pos);
                    time2++;
                }
            }
            Map.Broadcast("<color=lime>±¾¾ÖÒÑÉú³É</color>" + time2 + "<color=lime>¸öÐÒÔËÓ²±Ò</color>", 10, false);
            Map.Broadcast("<color=red>¿ªÊ¼³éÈ¡ÐÒÔËÍæ¼Ò</color>", 3, false);
            foreach (ReferenceHub player in Player.GetHubs())
            {
                xywj = player;
                xywjid = xywj.GetUserId();
            }
            Map.Broadcast("<color=lime>¡ý¡ý¡ý¡ý±¾»ØºÏÐÒÔËÍæ¼Ò¡ý¡ý¡ý¡ý</color>\n" + "<color=lime>" + xywj.GetNickname() + "</color>\n<color=red>Äã¿ÉÒÔ°´~×ÔÑ¡ÈËÎïÁË</color>", 2, false);
            Map.Broadcast("<color=lime>¡ý¡ý¡ý¡ý±¾»ØºÏÐÒÔËÍæ¼Ò¡ý¡ý¡ý¡ý</color>\n" + "<color=red>" + xywj.GetNickname() + "</color>\n<color=red>Äã¿ÉÒÔ°´~×ÔÑ¡ÈËÎïÁË</color>", 2, false);
            Map.Broadcast("<color=lime>¡ý¡ý¡ý¡ý±¾»ØºÏÐÒÔËÍæ¼Ò¡ý¡ý¡ý¡ý</color>\n" + "<color=green>" + xywj.GetNickname() + "</color>\n<color=red>Äã¿ÉÒÔ°´~×ÔÑ¡ÈËÎïÁË</color>", 2, false);
            xywj.SendConsoleMessage(".s173 ±äÎª173\n.s106 ±äÎª106\n.sD ±äÎªD¼¶\n.sS ±äÎª¿ÆÑ§¼Ò\n.sG ±äÎª±£°²\n×¢ÒâÕâ»áÇå³ýÄãµÄÌØÊâÈËÎï", "green");
            Map.Broadcast("ÓÉÓÚ×î½üDDOSÑÏÖØ·þÎñÆ÷¿ÉÄÜÎÞ·¨Ò»Ö±ÔÚÁÐ±í ÇëÎñ±Ø¼ÓÈº£º979685108", 15, false);
            int num = 0;
            foreach (ReferenceHub player in Player.GetHubs())
            {
                num++;
            }
            if (num < 3)
            {
                die = true;
                Log.Info("Íæ¼Ò²»×ãÈýÈË,SCP999ÎÞ·¨Ë¢ÐÂ");
            }
            else
            {
                scp999yes = true;
            }


            times = 0;


            coldwait233 = false;
            starttimer = true;
            roundstart = true;
            deadtime = true;
            Map.Broadcast("ÓÉÓÚ·þÎñÆ÷²å¼þÎÊÌâÃ¿´ÎÍæÍêÒ»»ØºÏ¿ÉÄÜ¾Í»áÕ¨·þ\nÖ±½Óµã»÷Ö±ÏßÁ¬½Ó²»ÓÃÊäÈëIp¼´¿ÉÖØÁ¬", 7, false);
            Map.Broadcast("<color=#FF0000>¾¯¸æ:</color>Õ¾µã·¢ÉúÊÕÈÝÊ§Ð§,Alphaµ¯Í·Ð­Òé½«»á´Ý»Ù´ËÕ¾µã\nÇëÔÚ30·ÖÖÓÄÚ¶ôÖÆÖØÐÂÊÕÈÝËùÓÐSCPÏîÄ¿", 10, false);
            Map.Broadcast("<color=#FFFF00>[½øÈëÍ¶½µÄ£Ê½]</color>\n---|<color=#FF0000>µã»÷¼üÅÌÉÏµÄ ~ ¼ü[Êý×Ö1×ó±ß]</color>|---\nÊäÈë<color=#9400D3>.tx</color>¼´¿É½øÈë<color=#9400D3>Í¶½µÄ£Ê½</color>", 10, false);

        }
        public void OnRoundEnd()
        {
            scp79 = false;
            scp550lv = 0;
            tssl = 0;
            mz = null;
            mzid = 0;
            mzyes = false;
            scp035yes = false;
            xitonghedan = false;
            jwhngitem = true;
            this.scp079id = -1;
            h = false;
            roundstart = false;
            choise = false;
            scp035goout = false;
            jwhng = null;
            jwhngwufashanghai = false;
            jwhhkid = 0;
            jwhngyes = false;
            jwhngshuachu = false;
            scp550shuachu = false;
            Timing.KillCoroutines(Coroutines);
            Coroutines.Clear();
            scp999yes = false;
            scp = null;
            die = true;
            start = false;
            scp_999.Clear();
            card = 0;
            s = 0;
            d = 0;
            SCP049 = "";
            SCP079 = "";
            SCP096 = "";
            SCP939_53 = "";
            SCP939_89 = "";
            SCP106 = "";
            KillerID = 0;
            PlayerID = 0;
            RoleSet = 0;
            s173 = 0;
            s049 = 0;
            s096 = 0;
            s939_53 = 0;
            s939_89 = 0;
            s106 = 0;
            Guardnum = 0;
            deadtimer = 0;
            waring1 = 0;
            ini10 = 0;
            coldwait233 = false;
            Dio = null;
            Dio1 = false;
            Dio2.Clear();
            tiems = 0;
            sjtz1 = false;
            scp076 = null;
            scp035yes = false;
            scp076yes = false;
            scp2818 = null;
            scp2818pick = false;
            scp1143a = false;
            scp1143 = null;
            times = 0;
            Map.Broadcast("»ØºÏ½áÊøÓÑÉË±£»¤¹Ø±Õ", 5, false);
            jljy = null;
            jljy1 = false;
            jljy2.Clear();
            jljyzb = false;
            sjtz2 = false;
            ylb1 = false;
            HDZHG2.Clear();
            coldwait233 = false;
            coldbc = false;
            coldtb = false;
            coldtime = 0;
            mtf = 0;
            chaos = 0;
            mtfchange = 0;
            chaoschange = 0;
            round = 0;
            Array.Clear(touxiang, 0, touxiang.Length);
            playernum = 0;
            roundstart = false;
            player233.Clear();
            starttimer = false;
            deadtime = false;
            KillerID = 0;
            PlayerID = 0;
            RoleSet = 0;
            Guardnum = 0;
            deadtimer = 0;
            waring1 = 0;
            ini10 = 0;
            Dio = null;
            Dio1 = false;
            Dio2.Clear();
            xywj = null;
            xywjid = null;
            //181endÎ²²¿
            bpb = false;
            bpb2.Clear();
            xhsnb2 = 0;
            scp2818id = 0;
            xhsnb = false;
            mrfishzb = true;
            scp1143id = 0;
            xp = 0;
            lv = 0;
            coldbc = false;
            coldtb = false;
            HDZHG2.Clear();
            coldtime = 0;
            mtf = 0;
            chaos = 0;
            mtfchange = 0;
            chaoschange = 0;
            round = 0;
            Array.Clear(touxiang, 0, touxiang.Length);
            playernum = 0;
            roundstart = false;
            player233.Clear();
            starttimer = false;
            deadtime = false;
            SCP173 = "";
            sjqx = false;
            yshkq = false;
            bhsx = false;
            gjtr = 0;
            scp1577pick = false;
            scp1577bj = false;
            scp1577id = new List<int>();
            scp1577pos = new Vector3();
            scp3108shotyes = false;
            scp3108shotatplayerpos = new Vector3();
            scp3108playerid = 0;
            scp3108pick = false;
            a127d = false;
            HDZHG = null;
            scp650yes = false;
            scp650 = null;
            scp650id = 0;
            scp073 = null;
            scp073a = false;
            scp073zb = true;
            scp076id = 0;
            scp005 = false;
            scp005aid = 0;
            time2 = 0;
            scp457die = false;
            scp457 = null;
            scp457a = false;
            scp457id = 0;
            xtd = null;
            xtdid = 0;
            a127 = false;
            a127b = 0;
            a127c = false;
            scp914mid = 0;
            scp914m = null;
            scp1143 = null;
            scp1143id = 0;
            scp1143a = false;
            csm = false;
            jwhhk = null;
            jwhhkid = 0;
            qblcq2 = false;
            qblcq = null;
            scpqbl3 = null;
            scp682.Clear();
            scp939id = 0;
            jkl = false;
            jklid = null;
            //181endÍ·
            times5 = 1;
            scp035 = null;
            scp035id = 0;
            scp181id = 0;
            cxkid = 0;
            scp817id = 0;
            scp817 = null;
            cxk = null;
            cxkyes = false;
            scp817yes = false;
            D9341 = null;
            D9341id = 0;
            D9341Item = null;
            D9341yes = false;
            D9341zb = new Vector3();
            jntm = false;
            starttimer = false;
            scp2006 = null;
            scp2006a.Clear();
            scp2006id = 0;
            times3 = 0;
            deadtimer = 0;
            scpqblid2 = 0;
            scpqbl = null;
            scpqblid = null;
        }
        public void OnPlayerJoin(PlayerJoinEvent ev)
        {
            if (ev.Player.GetUserId() == "76561198377975833@steam")
            {
                Map.Broadcast("<color=green>"+ev.Player.GetNickname()+ "ÈÕ³£Ï×¼ÀÊ®ÄêÊÙÃü»»scp! </color>", 8, false);

            }
            if (ev.Player.GetUserId() == "76561198369468432@steam")
            {
                Map.Broadcast("<color=#6699FF>·¢³ö¸ß¼Û»ØÊÕµÄÉùÒô:50°üÓÊ!</color>", 2, false);
                Map.Broadcast("<color=#FF0033>·¢³ö¸ß¼Û»ØÊÕµÄÉùÒô:50°üÓÊ!</color>", 2, false);
                Map.Broadcast("<color=#FFFF00>·¢³ö¸ß¼Û»ØÊÕµÄÉùÒô:50°üÓÊ!</color>", 2, false);

            }
            if (ev.Player.GetUserId() == "76561198893112896@steam")
            {
                Map.Broadcast("<color=yellow>ÔÒÍÛÂ·¶à£¬DIOÓÃ¡ºÊÀ½ç¡»ÔÝÍ£ÁËÊ±¼ä²¢ÇÒ¼ÓÈëÁË·þÎñÆ÷</color>", 8, false);
            }
            if (ev.Player.GetUserId() == "76561198997348090@steam")
            {
                Map.Broadcast("<color=#FFFF66>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#CCFF00>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#99FF00>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#FF6633>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#FF3300>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#66FF00>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#6666FF>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#FF0033>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
                Map.Broadcast("<color=#66CCFF>Ë³Ë³´óÄ§ÍõÆï×ÅÆ¤Æ¤Ïº³ª×Å¸èÒ¥½øÀ´ÁË:Æ¤Æ¤ÏºÎÒÃÇ×ßÈ¥ÕÒÒ»¸öºÃÅóÓÑ!</color>", 1, false);
            }
            if (ev.Player.GetUserId() == "76561198145812844@steam")
            {
                Map.Broadcast("<color=#66FF00>[×¢Òâ£¡ÀÏÒõ±È]</color>" + ev.Player.GetNickname() + "<color=#FFFF00>½øÈëÓÎÏ·£¬¸÷Î»×¢Òâ×Ô¼ºµÄ¾Õ»¨</color>", 8, false);
            }
            if (ev.Player.GetUserId() == "76561198401019684@steam")
            {
                Map.Broadcast("<color=#66FF00>[×¢Òâ£¡49³Õºº]</color>" + ev.Player.GetNickname() + "<color=#FFFF00>½øÈëÓÎÏ·</color>", 8, false);
            }
            if (ev.Player.GetUserId() == "76561198441344563@steam")
            {
                Map.Broadcast("<color=#66FF00>[È«·þ×îË§µÄÈËµ½´ïÕ½³¡]</color>" + ev.Player.GetNickname() + "<color=#FFFF00>½øÈëÓÎÏ·</color>", 8, false);
            }
            if (ev.Player.GetUserId() == "76561198816705835@steam")
            {
                Map.Broadcast("<color=#66FF00>[È«·þ×î²ËµÄ´óÀÐ]</color>" + ev.Player.GetNickname() + "<color=#FFFF00>½øÈëÓÎÏ·</color>", 8, false);
            }
            if (ev.Player.GetUserId() == "76561198149835838@steam")
            {
                Map.Broadcast("<color=red>[SCP079±£»¤Ð­»á»á³¤]</color>" + ev.Player.GetNickname() + "<color=#red>½øÈëÓÎÏ·</color>", 8, false);
            }
            if (ev.Player.GetUserId() == "76561198425823494@steam")
            {
                Map.Broadcast("<color=#66FF00>[È«·þ×îË§µÄÈËµ½´ïÕ½³¡]</color>" + ev.Player.GetNickname() + "<color=#FFFF00>½øÈëÓÎÏ·</color>", 8, false);
            }
            string name = ev.Player.GetNickname();
            if (!player233.Contains(ev.Player))
            {
                player233.Add(ev.Player);
            }
            playernum++;
            object[] objArray1 = new object[] { "<color=#FFD700>[", name, "]</color>£¬»¶Ó­Äã¼ÓÈë±¾·þÎñÆ÷\nµ±Ç°ÈËÊý:<color=#00FF00>[", playernum, "/35]</color>\n+±¾·þ²å¼þ:<color=#00FFFF>ºÜ¶à´ò²»ÏÂ</color>+" };
            ev.Player.Broadcast(5, string.Concat(objArray1), false);

            ev.Player.Broadcast(8, "°´~¿ªÆô¿ØÖÆÌ¨£¬ÔÚ¿ØÖÆÌ¨ÊäÈë.list»ñÈ¡Íæ¼Ò±àºÅ", false);
            ev.Player.Broadcast(10, "<color=#BB1444>Èç¹ûÄã¿´µ½ÕâÌõÏûÏ¢Ö¤Ã÷Ëæ»úÊÂ¼þ²å¼þÒÑ¾­ÔÚÔËÐÐ</color>\n<color=#FFFF00>ÈçÓÐÆÆ»µÓÎÏ·ÌåÑéµÈÎÊÌâÇëÔÚÈºÄÚÖ§³öqwq</color>", false);
            int num3 = new System.Random().Next(1, 11);
            if (num3 == 1)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[SCP038]</color>\n<color=#FFFF00>ÍòÏóÊ÷ÔÚ012·¿¼ä¿ÉÒÔ¸´ÖÆÎïÆ·qwq</color>", false);
            }
            if (num3 == 2)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[Í¨Öª]</color>\n<color=#FFFF00>²å¼þ½éÉÜ»¹ÔÚ¹¾¹¾¹¾</color>", false);
            }
            if (num3 == 3)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[SCP817]</color>\n<color=#FFFF00>ËæÒâÈË\n150Ãë±ä»»Ò»´Î½ÇÉ«</color>", false);
            }
            if(num3 == 4)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[¾ÅÎ²ºüÄÚ¹í]</color><color=#FFFF00>\nÇ°120ÃëÎÞ·¨±»¾ÅÎ²ÉËº¦ 120sºó»á±»¾ÅÎ²ºüÉËº¦\nÎ±×°Ä£Ê½ÎÞ·¨¶Ô¾ÅÎ²ºüÔì³ÉÉËº¦</color>", false);
            }
            if (num3 == 5)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[SCP999]</color><color=#FFFF00>\n´òÈËÎª»ØÑª¶ÔSCP»ØÑªÁ¿Îª5¶ÔÈËÀà»ØÑªÁ¿Îª2 Íæ·¨ÌáÊ¾£º\n¿ª¾ÖÕÒ±£°²½»Ò×°å×Ó È¥914ºÍ³ÉUSP¿ÉÒÔÔì³ÉÉËº¦Å¶(½öÏÞÓÚ×ÔÎÀ ²»¿ÉËæÒâÉ±ÈË)</color>", false);
            }
            if (num3 == 6)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[²ÌÐìÀ¤]</color><color=#FFFF00>\n¶ªÏÂÊÖµçÍ²¿ÉÒÔÊ¹ÓÃ¼¦ÄãÌ«ÃÀ\nÍæ·¨ÌáÊ¾£º¿ª¾ÖÊÖµçÍ²Áôµ½ABµçÌÝÖ±½ÓõßÃÅÌÓÉú</color>", false);
            }
            if (num3 == 7)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[²ÌÐìÀ¤]</color><color=#FFFF00>\n¶ªÏÂÊÖµçÍ²¿ÉÒÔÊ¹ÓÃ¼¦ÄãÌ«ÃÀ\nÍæ·¨ÌáÊ¾£º¿ª¾ÖÊÖµçÍ²Áôµ½ABµçÌÝÖ±½ÓõßÃÅÌÓÉú</color>", false);
            }
            if (num3 == 8)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[ÌáÊ¾]</color><color=#FFFF00>\n¾ÅÎ²ºüÖ¸»Ó¹ÙºÍ»ìãçÖ¸»Ó¹Ù ÓÐÌØÊâ¹¦ÄÜÅ¶\nÍæ·¨ÌáÊ¾£º¿ÉÒÔÊäÈë.help²é¿´ÄãµÄÖ¸Áî</color>", false);
            }
            if (num3 == 9)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[SCP079]</color><color=#FFFF00>\n¿ª¾ÖÄã¿ÉÒÔÑ¡Ôñ°ïÖúSCP»¹ÊÇÈËÀà\nÍæ·¨ÌáÊ¾£ºÈç¹û²»Ñ¡ÔñÔòÎªÄ¬ÈÏ°ïÖúSCP</color>", false);
            }
            if (num3 == 10)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[SCP181]</color><color=#FFFF00>\nÄãÔÚÀÏÍ·¿Õ¼ä×ö´íÂ·²»»áËÀÅ¶\nÍæ·¨ÌáÊ¾£ºÔÚÀÏÍ·¿Õ¼ä²»Òª×ßµÃÌ«Éî»áµôÏÂÈ¥</color>", false);
            }
            if (num3 == 11)
            {
                ev.Player.Broadcast(5, "<color=#FF3300>[SCP181]</color><color=#FFFF00>\nÄãÔÚÀÏÍ·¿Õ¼ä×ö´íÂ·²»»áËÀÅ¶\nÍæ·¨ÌáÊ¾£ºÔÚÀÏÍ·¿Õ¼ä²»Òª×ßµÃÌ«Éî»áµôÏÂÈ¥</color>", false);
            }
            int num = new System.Random().Next(1, 101);
            if (num <= 20)
            {
                int num2 = new System.Random().Next(1, 7);
                if (num2 == 1)
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>¶÷¶ÏÒå¾ø¾¯¸æ</color>", false);
                }
                else if (num2 == 2)
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>ÄãÂèµÄ£¬ÎªÊ²Ã´</color>", false);
                }
                else if (num2 == 3)
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>Äã´òÓÎÏ·Ïñ²ÌÐìÀ¤</color>", false);
                }
                else if (num2 == 4)
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>Äã³¤µÃÏñÇÇ±ÌÂÜ</color>", false);
                }
                else if (num2 == 5)
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>¹þ¹þ¹þÈõ±¬ÁË</color>", false);
                }
                else
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>àÛÌ«²ËÁË</color>", false);
                }
            }
            if ((num >= 0x15) && (num <= 40))
            {
                int num2 = new System.Random().Next(1, 7);
                if (num2 == 1)
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>Á½ÐÐÀáÁ½ÐÐÀá</color>", false);
                }
                else if (num2 == 2)
                {
                    object[] objArray2 = new object[] { "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>", num, "</color>%]\n<color=#FF00FF>ß÷¹þ¹þ¹þ¹þ¹þ¹þ¹þ²Å", num, "%</color>" };
                    ev.Player.Broadcast(7, string.Concat(objArray2), false);
                }
                else if (num2 == 3)
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>LOLÒ»°ã°ãÀ²±ðÉËÐÄÃÀºÃµÄÈËÉú</color>", false);
                }
                else
                {
                    ev.Player.Broadcast(7, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>=w= qwq qaq awa AWSL</color>", false);
                }
            }
            if ((num >= 0x29) && (num <= 0x31))
            {
                if (new System.Random().Next(1, 6) == 1)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>¸æËßÄãÒ»¸öÃØÃÜ,ÏÂ°àµÄÉñÃØ´úÂë¸´ÖÆµ½Ñ¸À×</color>", false);
                }
                else if (new System.Random().Next(1, 6) == 2)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>ÉñÃØ´úÂë²»¿ÉÄÜ¸øÄãµÄ233</color>", false);
                }
                else
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>ÆäÊµ50%ÒÔÏÂ±È50%»¹ºÃÏàÐÅÎÒ!</color>", false);
                }
            }
            if (num == 50)
            {
                int num5 = new System.Random().Next(1, 6);
                switch (num5)
                {
                    case 1:
                        ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>Ò²²»²îÂï~²»¹ýµç´ÅÅÚ¿ÉÄÜºÏ²»³öÀ´ÍÛßÇßÇ</color>", false);
                        goto Label_037D;

                    case 2:
                        ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>50%ÊÇºÃ»¹ÊÇ»µÄØ</color>", false);
                        goto Label_037D;

                    case 3:
                        ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>¸Ä±à²»ÊÇÂÒ±à!Ï·Ëµ²»ÊÇºúËµ!</color>", false);
                        break;
                }
                if (num5 == 3)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>¸Ä±à²»ÊÇÂÒ±à!Ï·Ëµ²»ÊÇºúËµ!</color>", false);
                }
                else
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>50%...Èç¹û¼Ó1%»á²»»á±äµÃ¸üÇ¿ÄØ?</color>", false);
                }
            }
        Label_037D:
            if ((num >= 51) && (num <= 80))
            {
                int num6 = new System.Random().Next(1, 6);
                switch (num6)
                {
                    case 1:
                        ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>ÎÒ¾õµÃº£ÐÇ</color>", false);
                        goto Label_0468;

                    case 2:
                        ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>¿ìÀÖDDÃ¿Ò»Ìì</color>", false);
                        goto Label_0468;

                    case 3:
                        ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>²»ÐÐ°¡£¬Ì«¶ÌÁËÂú×ã²»ÁËÎÒ</color>", false);
                        break;
                }
                if (num6 == 3)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>²»ÐÐ°¡£¬Ì«¶ÌÁËÂú×ã²»ÁËÎÒ</color>", false);
                }
                else
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>Äã¿´Äã¶ÓÓÑ´òÓÎÏ·Ïñ²ÌÐìÀ¤</color>", false);
                }
            }
        Label_0468:
            if ((num >= 80) && (num <= 90))
            {
                int num2 = new System.Random().Next(1, 6);

                if (num2 == 1)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>ÂèÂèßäÒ®£¬Å·»Ê£¿ÎÒÏÈÎüµôÄãÅ·ÆøÎª¾´!</color>", false);
                }
                if (num2 == 2)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>wdnmÄãÌ«Ç¿ÁË</color>", false);
                }
                if (num2 == 3)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>ÄãµÄÅ·ÆøÒÑ±»ºóÌ¨×ªÒÆµ½·þÖ÷ÉíÉÏ</color>", false);
                }
                if (num2 == 4)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>ÄãµÄÈËÆ·½ñÌìÒÑ¾­»¨ÔÚ±¾·þÁË,ÇÐÎð³é¿¨233!</color>", false);
                }

            }

            if (num == 100)
            {
                if (new System.Random().Next(1, 6) <= 3)
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>....²»¾ÍÊÇ100%[²Å²»ÊÇÏÛÄ½],Äã¿ÉÒÔ°ÑÕâÌõÐÅÏ¢½ØÍ¼¸ø·þÖ÷ÐãÒ»²¨ÁË</color>", false);
                }
                else
                {
                    ev.Player.Broadcast(15, "=w= ¾­¹ý±¾ÓãµÄ¼ì²â,Äã±¾»ØºÏÈËÆ·Ö¸ÊýÎª\n[<color=#FFC0CB>" + num + "</color>%]\n<color=#FF00FF>100%!¹§Ï²Äã,µ«ÊÇÕâÌõÐÅÏ¢½ØÍ¼Ò²ÎÞÐ§233333</color>", false);
                }
            }
        }
        public void OnPlayerDeath(ref PlayerDeathEvent ev)
        {
            if(ev.Player.GetPlayerId() == scp550id)
            {
                scp550.SetRank("", "", true);
                Map.Broadcast("----[<color=#32CD32>SCP550</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                scp550id = 0;
                scp550yes = false;
                scp550 = null;
                scp550lv = 0;
                tssl = 0;

            }
            if(ev.Killer.GetPlayerId() == scp035id)
            {
                scp035item = ev.Killer.GetAllItems();
                scp035.SetRole(ev.Player.GetRole(), true);
                Coroutines.Add(Timing.RunCoroutine(SecondCounter24()));

            }
            if(ev.Player.GetPlayerId() == mzid)
            {
                mz = null;
                mzid = 0;
            }
            if (ev.Player.GetPlayerId() == jwhhkid)
            {

                Map.Broadcast("----[<color=#32CD32>¾ÅÎ²ºüÄÚ¹í</color>]----\n<color=#FF0000>[ÒÑ±»ÏûÃð]</color>\nÏûÃðÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                jwhng = null;
                jwhngwufashanghai = true;
                jwhngyes = false;
                jwhngshuachu = true;
                jwhngid = 0;
            }
            peaple = 0;
            if (scp_999.Contains(ev.Player.GetUserId()))
            {
                die = true;
                scp.SetRank("", "", true);
                Log.Info("SCP99ÒÑËÀÍö");
                string Killer999 = ev.Killer.GetNickname();
                scp_999.Clear();
                Map.Broadcast("----[<color=#32CD32>SCP999</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + Killer999 + "</color>", 6, false);
            }
            foreach (ReferenceHub player in Player.GetHubs())
            {
                if (player.GetTeam() == Team.MTF)
                {
                    peaple = peaple + 1;
                }
            }
            if (sjqx == false)
            {
                if (peaple == 2)
                {
                    Map.Broadcast("<color=red>È«´åÈËµÄÏ£Íû</color>\n<color=lime>Äã±»Ç¿»¯ÁË¿ìÉÏ</color>", 5, false);
                    foreach (ReferenceHub player in Player.GetHubs())
                    {
                        if (player.GetTeam() == Team.MTF)
                        {
                            player.AddHealth(200);
                            player.AddItem(ItemType.SCP500);
                            sjqx = true;
                        }
                    }
                }

            }
            for (int i = 0; i <= 0x27; i++)
            {
                if (touxiang[i] == ev.Player.GetPlayerId())
                {
                    Log.Info(string.Concat(new object[] { "ËÀÍöÍ¶½µÍæ¼Ò:", ev.Player.GetNickname(), " ËÀÓÚ:", ev.Killer.GetNickname(), " ×÷Îª:", ev.Killer.GetRole() }));
                    touxiang[i] = 0;
                }
            }

            ev.Player.Broadcast(7, "»¶Ó­»Ø¼Òqwq", false);
            KillerID = ev.Killer.GetPlayerId();
            PlayerID = ev.Player.GetPlayerId();

            if ((scp650yes == true) && (ev.Player.GetPlayerId() == scp650id))
            {

                scp650 = null;
                scp650id = 0;
                scp650yes = false;
                ev.Killer.SetGodMode(false);
                ev.Killer.Kill();

            }
            if (ev.Player.GetPlayerId() == jwhhkid)
            {
                jwhhkid = 0;
                jwhhk = null;
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == scp073id)
            {
                scp073 = null;
                scp073id = 0;
                ev.Player.SetRank("white", "", true);
                Map.Broadcast("----[<color=#32CD32>SCP073</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == scp076id)
            {
                scp076 = null;
                scp076id = 0;
                scp076yes = false;
                ev.Player.SetRank("white", "", true);
                Map.Broadcast("----[<color=#32CD32>SCP076</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == scp005aid)
            {
                scp005aid = 0;

            }
            if (ev.Player.GetPlayerId() == scp457id)
            {
                scp457 = null;
                scp457a = false;
                scp457die = true;
                scp457b = new Vector3();
                ev.Player.SetRank("white", "", true);
                scp457id = 0;
                Map.Broadcast("----[<color=#32CD32>SCP457</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == xtdid)
            {
                xtd = null;
                xtdid = 0;
                xtd.SetRank("white", "", true);

            }
            if ((qblcq2 == true) && (qblcq.GetPlayerId() == ev.Player.GetPlayerId()))
            {
                qblcq2 = false;
                qblcq = null;

            }
            if (scp682.Contains(ev.Player.GetUserId()))
            {
                scp682.Remove(ev.Player.GetUserId());
                ev.Player.SetRank("white", " ", true);
                Map.Broadcast("----[<color=#32CD32>SCP682</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);

            }
            if (scp939id == ev.Player.GetPlayerId())
            {
                ev.Player.SetRank("white", " ", true);
                scp939id = 0;

            }
            if (ev.Player.GetPlayerId() == scp914mid)
            {
                scp914m = null;
                scp914mid = 0;
                Map.Broadcast("----[<color=#32CD32>SCP914-M</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);


            }
            if (ev.Player.GetPlayerId() == scpqblid2)
            {
                scpqblid2 = 0;
                Map.Broadcast("----[<color=#32CD32>SCPÇÇ±ÌÂÜ</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == scp181id)
            {
                scp181id = 0;
                Map.Broadcast("----[<color=#32CD32>SCP181</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == scp035id)
            {
                Map.Broadcast("----[<color=#32CD32>SCP035</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                scp035 = null;
                scp035id = 0;
                scp035goout = false;
                scp035yes = false;
            }
            if (scp2006a.Contains(ev.Player.GetUserId()))
            {
                scp2006a.Clear();
                scp2006 = null;
                Map.Broadcast("----[<color=#32CD32>SCP2006</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == cxkid)
            {
                cxkid = 0;
                cxk = null;
                cxkyes = false;
                string Killercxk = ev.Killer.GetNickname();
                Map.Broadcast("----[<color=#32CD32>SCP²ÌÐìÀ¤</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + Killercxk + "</color>", 6, false);
                Killercxk = null;
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == scp817id)
            {
                scp817id = 0;
                scp817 = null;
                scp817yes = false;
                string Killer817 = ev.Killer.GetNickname();
                Map.Broadcast("----[<color=#32CD32>SCP817</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + Killer817 + "</color>", 6, false);
                Killer817 = null;
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == D9341id)
            {
                if (times >= 5)
                {
                    D9341 = null;
                    D9341id = 0;
                    D9341Item = null;
                    D9341yes = false;
                    D9341zb = new Vector3();
                    ev.Player.SetRank("white", "", true);
                    Map.Broadcast("----[<color=#32CD32>D-9341</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);

                }
            }
            if (bpb2.Contains(ev.Player.GetPlayerId()))
            {
                bpb = false;
                bpb2.Clear();
                ev.Player.SetRank("white", "", true);

            }
            if (LLBS233.Contains(ev.Player.GetPlayerId()))
            {
                Map.Broadcast("<color=#FFFF33>Mr.fish:</color>\n×°±ÆÊ§°Ü", 5, false);
                LLBS233.Remove(ev.Player.GetPlayerId());
                ev.Player.SetRank("white", "", true);

            }
            if (Dio2.Contains(ev.Player.GetUserId()))
            {
                Map.Broadcast("<color=#FFFF33>Dio:</color>\n×°±ÆÊ§°Ü", 5, false);
                Dio2.Remove(ev.Player.GetUserId());
                Dio = null;
                ev.Player.SetRank("white", "", true);

            }
            if (scp1143id == ev.Player.GetPlayerId())
            {
                scp1143 = null;
                scp1143id = 0;
                scp1143a = false;
                Map.Broadcast("----[<color=#32CD32>SCP1143</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);

            }
            if (ylb2.Contains(ev.Player.GetUserId()))
            {
                ev.Player.SetRank("white", "", true);
                ylb = null;
                ylb1 = false;
                ylb2.Clear();

            }
            if (HDZHG2.Contains(ev.Player.GetUserId()))
            {
                HDZHG2.Remove(ev.Player.GetUserId());

            }
            if (ev.Player.GetRole() == RoleType.Scp173)
            {

                s173 = 2;
                if (KillerID == PlayerID)
                {
                    Map.Broadcast("----[<color=#32CD32>SCP173</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÔ­Òò: <color=#40E0D0>×ÔÉ±»òÕß±»·þÎñÆ÷ÈÕÁË</color>", 6, false);
                }
                else
                {
                    if (ev.Killer.GetUserId() == "76561198366416373@steam")
                    {
                        Map.Broadcast("----[<color=#32CD32>SCP173</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\n»¨ÉúÄãºÃÈõ°¡ <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                    }
                    else
                    {
                        Map.Broadcast("----[<color=#32CD32>SCP173</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                    }

                }

            }
            if (ev.Player.GetRole() == RoleType.Scp049)
            {
                s049 = 2;
                if (KillerID == PlayerID)
                {
                    Map.Broadcast("----[<color=#32CD32>SCP049</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÔ­Òò: <color=#40E0D0>×ÔÉ±»òÕß±»·þÎñÆ÷ÈÕÁË</color>", 6, false);
                }
                else
                {
                    Map.Broadcast("----[<color=#32CD32>SCP049</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                }

            }
            if (ev.Player.GetRole() == RoleType.Scp079)
            {
                Map.Broadcast("----[<color=#32CD32>SCP079</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÔ­Òò: <color=#40E0D0>ºË±¬ÁË</color>", 6, false);
                ev.Player.SetRank("red", "SCP079 - ºË±¬ÁË", true);

            }
            if (ev.Player.GetRole() == RoleType.Scp096)
            {
                s096 = 2;
                if (KillerID == PlayerID)
                {
                    Map.Broadcast("----[<color=#32CD32>SCP096</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÔ­Òò: <color=#40E0D0>×ÔÉ±»òÕß±»·þÎñÆ÷ÈÕÁË</color>", 6, false);
                }
                else
                {
                    Map.Broadcast("----[<color=#32CD32>SCP096</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                }

            }
            if (ev.Player.GetRole() == RoleType.Scp93953)
            {
                s939_53 = 2;
                if (KillerID == PlayerID)
                {
                    Map.Broadcast("----[<color=#32CD32>SCP939_53</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÔ­Òò: <color=#40E0D0>×ÔÉ±»òÕß±»·þÎñÆ÷ÈÕÁË</color>", 6, false);
                }
                else
                {
                    Map.Broadcast("----[<color=#32CD32>SCP939_53</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                }

            }
            if (ev.Player.GetRole() == RoleType.Scp93989)
            {
                s939_89 = 2;
                if (KillerID == PlayerID)
                {
                    Map.Broadcast("----[<color=#32CD32>SCP939_89</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÔ­Òò: <color=#40E0D0>×ÔÉ±»òÕß±»·þÎñÆ÷ÈÕÁË</color>", 6, false);
                }
                else
                {
                    Map.Broadcast("----[<color=#32CD32>SCP939_89</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                }

            }
            if (ev.Player.GetRole() == RoleType.Scp106)
            {
                s106 = 2;
                if (KillerID == PlayerID)
                {
                    Map.Broadcast("----[<color=#32CD32>SCP106</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÔ­Òò: <color=#40E0D0>×ÔÉ±»òÕß±»·þÎñÆ÷ÈÕÁË</color>", 6, false);
                }
                else
                {
                    Map.Broadcast("----[<color=#32CD32>SCP106</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + ev.Killer.GetNickname() + "</color>", 6, false);
                }
            }
        }
        public void OnThrowGrenade(ref GrenadeThrownEvent ev)
        {

        }
        public void OnMedicalItem(MedicalItemEvent ev)
        {
            if (ev.Player.GetUserId() == jklid)
            {
                ev.Allow = false;
                ev.Player.AddHealth(1000);
                jklid = null;
            }
            if(ev.Player.GetPlayerId() == scp457id)
            {
                scp457health = ev.Player.GetHealth();
                Coroutines.Add(Timing.RunCoroutine(scp457helth()));
            }
            
        }
        private IEnumerator<float> scp457helth()
        {
            yield return Timing.WaitForSeconds(10f);
            scp457.SetHealth(scp457health);
        }

        public void OnTeamRespawn(ref TeamRespawnEvent ev)
        {
            if (ev.IsChaos == true)
            {
                player22 = ev.ToRespawn;
                times2 = 1;
                foreach (ReferenceHub p in player22)
                {
                    hd.Add(p.GetUserId());
                }
            }
            if (ev.IsChaos == false)
            {
                player22 = ev.ToRespawn;
                tiems = 1;
                foreach (ReferenceHub p in player22)
                {
                    jw.Add(p.GetPlayerId());
                }
            }
        }
        public void OnConsoleCommand(ConsoleCommandEvent ev)
        {
            string name = ev.Player.GetNickname();
            int num = 0;
            int num2 = 0;
            char[] separator = new char[] { ' ' };
            string[] strArray = ev.Command.ToLower().Split(separator);
            foreach (ReferenceHub player in Player.GetHubs())
            {
                if (player.GetRole() == RoleType.ChaosInsurgency)
                {
                    num++;
                }
                if (player.GetTeam() == Team.MTF)
                {
                    num2++;
                }
            }
            if (ev.Player.GetRole() == RoleType.Scp079)
            {
                if (choise == false)
                {
                    if (ev.Command.Contains("scp"))
                    {
                        choise = true;
                        foreach (ReferenceHub player in Player.GetHubs())
                        {
                            if (player.GetRole() == RoleType.Scp079)
                            {
                                player.SetRank("SCP079 - °ïÖúSCP", "aqua", true);
                            }
                        }
                        scp79 = true;
                        Map.Broadcast("<color=#FFC0CB>---[SCP079]---</color>\n<color=aqua>ÈËÀà¸ÐÊÜ¿Ö¾å°É ±¾¾ÖSCP079Ñ¡Ôñ°ïÖúSCP</color>\n<color=aqua>SCP²»»áÊÜµ½µçÍøÉËº¦(ÈËÐÎscp³ýÍâ)</color>", 10,  false);
                    }
                    if (ev.Command.Contains("h"))
                    {
                        foreach (ReferenceHub player in Player.GetHubs())
                        {
                            if (player.GetRole() == RoleType.Scp079)
                            {
                                player.SetRank("SCP079 - ×î´óµçÁ¦:130 | µçÁ¦»Ö¸´:3AP/s   °ïÖúÈËÀà", "aqua", true);
                            }
                        }
                        h = true;
                        ev.Player.SetRank("SCP079 - ×î´óµçÁ¦:130 | µçÁ¦»Ö¸´:3AP/s   °ïÖúÈËÀà", "aqua", true);
                        choise = true;
                        Map.Broadcast("<color=#FFC0CB>---[SCP079]---</color>\n<color=aqua>SCPÃ»Ïëµ½°ÉÎÒÊÇ25×Ð ±¾¾ÖSCP079Ñ¡Ôñ°ïÖúÈËÀà</color>\n<color=aqua>ÈËÀà²»»áÊÜµ½µçÍøÉËº¦</color>", 10,  false);
                        foreach (ReferenceHub p in Player.GetHubs())
                        {
                            if (p.GetTeam() == Team.SCP)
                            {
                                if (p.GetRole() != RoleType.Scp106)
                                {
                                    p.AddHealth(3000);
                                }
                            }
                        }
                    }
                }
            }
            if (ev.Command.Contains("steal") && (ev.Player.GetPlayerId() == xtd.GetPlayerId()) && (stealcd == false))
            {
                stealcd = true;
                foreach (ReferenceHub p in Player.GetHubs())
                {
                    int num4 = new System.Random().Next(1, 10);
                    if (num4 == 1)
                    {
                        ev.Player.AddItem(ItemType.Coin);
                    }
                    if (num4 == 2)
                    {
                        ev.Player.AddItem(ItemType.KeycardNTFCommander);

                    }
                    if (num4 == 3)
                    {
                        ev.Player.AddItem(ItemType.GunE11SR); ;
                    }
                    if (num4 == 4)
                    {
                        ev.Player.AddItem(ItemType.GunUSP);
                    }
                    if (num4 == 5)
                    {
                        ev.Player.AddItem(ItemType.SCP500);
                    }
                    if (num4 == 6)
                    {
                        ev.Player.AddItem(ItemType.KeycardO5);
                    }
                    if (num4 > 6)
                    {
                        ev.Player.SendConsoleMessage("Ê²Ã´¶¼Ã»Íµµ½", "green");
                    }
                    break;

                }
                ev.Player.SendConsoleMessage("ÄãµÄÄÜÁ¦Ã»ÓÐÕÒµ½ÈË", "red");
            }
            if (ev.Player.GetUserId() == xywjid)
            {
                if (ev.Command.Contains("s173"))
                {
                    xywj.SetRole(RoleType.Scp173);
                    xywj = null;
                    xywjid = null;
                }
                if (ev.Command.Contains("s106"))
                {
                    xywj.SetRole(RoleType.Scp106);
                    xywj = null;
                    xywjid = null;
                }
                if (ev.Command.Contains("sD"))
                {
                    xywj.SetRole(RoleType.ClassD);
                    xywj = null;
                    xywjid = null;
                }
                if (ev.Command.Contains("sS"))
                {
                    xywj.SetRole(RoleType.Scientist);
                    xywj = null;
                    xywjid = null;
                }
                if (ev.Command.Contains("sG"))
                {

                    xywj = null;
                    xywjid = null;
                    xywj.Kill();
                    xywj.SetRole(RoleType.FacilityGuard);
                }
                if (ev.Command.Contains("s96"))
                {
                    xywj = null;
                    xywjid = null;
                    xywj.Kill();
                    xywj.SetRole(RoleType.Scp096);
                }
                if ((scp650yes == true) && (ev.Player.GetPlayerId() == scp650id))
                {
                    scp650 = null;
                    scp650id = 0;
                    scp650yes = false;
                    Map.Broadcast("----[<color=#32CD32>[SCP650]</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "ÔÚÑ¡ÈËÎïÁË" + "</color>", 6, false);

                }
                if (ev.Player.GetPlayerId() == scp076id)
                {
                    scp076 = null;
                    scp076id = 0;
                    scp076yes = false;
                    Map.Broadcast("----[<color=#32CD32>SCP076</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "×ÔÑ¡ÈËÎïÁË" + "</color>", 6, false);

                }
                
            }

            if (ev.Command.Contains("dk"))
            {
                if (hrss == true)
                {
                    jwhhk.SetRole(RoleType.NtfScientist);
                    jwhhk.SetPosition(hkzb);
                    hktime = 0;
                    hrss = false;
                }
            }

            if (ev.Command.Contains("hk"))
            {
                if ((jwhhkid == ev.Player.GetPlayerId()) && (hrss == false))
                {
                    hrss = true;
                    hkzb = ev.Player.GetPosition();
                    ev.Player.SetRole(RoleType.Scp079);

                }
            }

            if (ev.Command.Contains("tx")&&(ev.Player.GetPlayerId()!= scp035id) && ((ev.Player.GetRole() == RoleType.ClassD) && (Dio2.Contains(ev.Player.GetUserId()) == false) || (ev.Player.GetRole() == RoleType.Scientist)))
            {
                int playerId = ev.Player.GetPlayerId();
                if ((ev.Player.GetRole() == RoleType.ClassD) && (num == 0))
                {
                    touxiang[round] = playerId;
                    ev.Player.Broadcast(10, "<color=#FF00FF>ÄãÒÑ¾­½øÈëÍ¶½µÄ£Ê½</color>ÎÞ·¨È¡Ïû\nµ±ÄãÌÓ³öµÄÊ±ºò<color=#00FF7F>×Ô¶¯±äÎªÏà·´ÕóÓª</color>", false);
                    ev.Player.SetRank("(" + ev.Player.GetPlayerId() + ") Í¶½µÈËÔ±", "default", true);
                    round++;
                }
                else if ((ev.Player.GetRole() == RoleType.ClassD) && (num > 0))
                {
                    ev.Player.Broadcast(10, "<color=#FF00FF>ÄãÎÞ·¨½øÈëÍ¶½µÄ£Ê½</color>\nÒòÎª³¡ÉÏÓÐ<color=#00FF7F>»ìãç</color>", false);
                }
                if ((ev.Player.GetRole() == RoleType.Scientist) && (num2 == 0))
                {
                    touxiang[round] = playerId;
                    ev.Player.Broadcast(10, "<color=#FF00FF>ÄãÒÑ¾­½øÈëÍ¶½µÄ£Ê½</color>ÎÞ·¨È¡Ïû\nµ±ÄãÌÓ³öµÄÊ±ºò<color=#00FF7F>×Ô¶¯±äÎªÏà·´ÕóÓª</color>", false);
                    ev.Player.SetRank("Í¶½µÈËÔ±", "default", true);
                    round++;
                }
                else if ((ev.Player.GetRole() == RoleType.Scientist) && (num2 > 0))
                {
                    ev.Player.Broadcast(10, "<color=#FF00FF>ÄãÎÞ·¨½øÈëÍ¶½µÄ£Ê½</color>\nÒòÎª³¡ÉÏÓÐ<color=#00FF7F>MTF</color>", false);
                }
            }
            if (ev.Command.Contains("pos"))
            {
                Vector3 position = ev.Player.GetPosition();
                object[] objArray1 = new object[] { position.x, "|", position.y, "|", position.z };
                ev.ReturnMessage = string.Concat(objArray1) ?? "";
            }
            if (strArray[0] == "c")
            {
                if (strArray.Length == 1)
                {
                    ev.Player.SendConsoleMessage("ÇëÊäÈëÄÚÈÝ", "yellow");
                }
                if (strArray.Length == 2)
                {
                    ev.Player.SendConsoleMessage("·¢ËÍ³É¹¦", "yellow");
                    if (ev.Player.GetRole() == RoleType.Spectator)
                    {
                        foreach (ReferenceHub player in Player.GetHubs())
                        {
                            if (player.GetRole() == RoleType.Spectator)
                            {
                                player.Broadcast(5, "[Íæ¼Ò]" + ev.Player.GetNickname() + strArray[1], false);
                            }
                        }
                    }
                    if (ev.Player.GetTeam() == Team.SCP)
                    {
                        foreach (ReferenceHub player in Player.GetHubs())
                        {
                            if (player.GetTeam() == Team.SCP)
                            {
                                player.Broadcast(5, "[Íæ¼Ò]" + ev.Player.GetNickname() + strArray[1], false);
                            }
                        }
                    }
                    if (ev.Player.GetTeam() == Team.MTF)
                    {
                        foreach (ReferenceHub player in Player.GetHubs())
                        {
                            if (player.GetTeam() == Team.MTF)
                            {
                                player.Broadcast(5, "[Íæ¼Ò]" + ev.Player.GetNickname() + strArray[1], false);
                            }
                        }
                    }
                }
            }
            if (strArray[0] == "xfuckyou")
            {
                Vector3 vector = new Vector3(ev.Player.GetPosition().x + 3, ev.Player.GetPosition().y, ev.Player.GetPosition().z);

                ev.Player.SetPosition(vector);
            }
            if (strArray[0] == "yfuckyou")
            {
                Vector3 vector = new Vector3(ev.Player.GetPosition().x, ev.Player.GetPosition().y + 3, ev.Player.GetPosition().z);

                ev.Player.SetPosition(vector);
            }
            if (strArray[0] == "zfuckyou")
            {
                Vector3 vector = new Vector3(ev.Player.GetPosition().x, ev.Player.GetPosition().y, ev.Player.GetPosition().z + 3);

                ev.Player.SetPosition(vector);
            }
            if ((ev.Player.GetRole() == RoleType.NtfCommander) && (strArray[0] == "bc"))
            {
                if (strArray.Length == 1)
                {
                    ev.Player.SendConsoleMessage("\nÖ¸»ÓÓãÃüÁîÊ¹ÓÃ½Ì³Ì:\n\n.bc [ÄÚÈÝ]\n\nÄÚÈÝ»áÈ«Í¼·¢ËÍ¸øÓèËùÓÐ¾ÅÎ²ÓãÕóÓªÍæ¼Ò", "yellow");
                }
                else if ((strArray.Length == 2) && !coldbc)
                {
                    coldbc = true;
                    foreach (ReferenceHub player5 in Player.GetHubs())
                    {
                        if (player5.GetTeam() == Team.MTF)
                        {
                            player5.ClearBroadcasts();
                            player5.Broadcast(6, "<color=#4682B4>[À´×ÔÖ¸»ÓÓãµÄÐÅÏ¢]</color>\n" + strArray[1], false);
                        }
                    }

                }
            }
            if (strArray[0] == "f")
            {
                Vector3 pos = scpqbl3.GetPosition();
                float pos2 = pos.x + 3;
                float pos3 = pos.y + 3;
                float pos4 = pos.z + 3;
                float pos5 = pos.x - 3;
                float pos6 = pos.y - 3;
                float pos7 = pos.z - 3;
                ReferenceHub player = ev.Player;
                if (qblcq2 == true)
                {
                    qblcq2 = false;
                }
                else if ((player.GetPosition().x <= pos2) && (player.GetPosition().x >= pos5) && (player.GetPosition().y <= pos3) && (player.GetPosition().y >= pos6) && ((player.GetPosition().z <= pos4) && (player.GetPosition().z >= pos7)))
                {
                    Map.Broadcast(ev.Player.GetNickname() + "ÒÑ¾­µÇÉÏÌ¹¿Ë", 5, false);
                    qblcq = ev.Player;
                    qblcq2 = true;
                }



            }
            if ((ev.Player.GetRole() == RoleType.NtfCommander) && (strArray[0] == "tb"))
            {
                if (strArray.Length == 1)
                {
                    ev.Player.SendConsoleMessage("\nÌá°ÎÊ¹ÓÃ½Ì³Ì:\n\n.tb [±àºÅ]\n\n¿ÉÒÔ½«¾ÅÎ²ºüÐÂ±øÌá°ÎÎª ¾ÅÎ²ºüÊ¿¹Ù 300Ãë1¸öÈË", "yellow");
                }
                else if ((strArray.Length == 2) && !coldtb)
                {
                    coldtb = true;

                    int num4 = int.Parse(strArray[1]);
                    foreach (ReferenceHub player2 in Player.GetHubs())
                    {
                        if ((player2.GetPlayerId() == num4) && (player2.GetRole() == RoleType.NtfCadet))
                        {
                            ev.Player.SendConsoleMessage("Ìá°Î³É¹¦", "yellow");
                            player2.SetRole(RoleType.NtfLieutenant);
                            player2.Broadcast(5, "Äã±íÏÖµÃ³¬¼¶nice±»Ö¸»Ó¹ÙÌá°ÎÁË", false);
                        }
                    }

                }
            }
            if ((HDZHG2.Contains(ev.Player.GetUserId())) && (strArray[0] == "bc"))
            {
                if (strArray.Length == 1)
                {
                    ev.Player.SendConsoleMessage("\n»ìãçÖ¸»ÓÓãÃüÁîÊ¹ÓÃ½Ì³Ì:\n\n.bc [ÄÚÈÝ]\n\nÄÚÈÝ»áÈ«Í¼·¢ËÍ¸øÓèËùÓÐ¾ÅÎ²ÓãÕóÓªÍæ¼Ò", "yellow");
                }
                else if ((strArray.Length == 2))
                {
                    foreach (ReferenceHub player5 in Player.GetHubs())
                    {
                        if (player5.GetTeam() == Team.CHI)
                        {
                            player5.ClearBroadcasts();
                            player5.Broadcast(6, "<color=#4682B4>[À´×Ô»ìãçÖ¸»ÓÓãµÄÐÅÏ¢]</color>\n" + strArray[1], false);
                        }
                    }

                }
            }
            if ((strArray[0] == "list"))
            {
                if (strArray.Length == 1)
                {
                    ev.Player.SendConsoleMessage("È«²¿id", "yellow");
                    foreach (ReferenceHub player5 in Player.GetHubs())
                    {
                        ev.Player.SendConsoleMessage("Íæ¼ÒÃû×Ö:" + player5.GetNickname() + "     Íæ¼Ò±àºÅ:" + player5.GetPlayerId(), "yellow");
                    }
                    ev.Player.SendConsoleMessage("»ñÈ¡Íê±Ï", "yellow");
                }
            }
            if ((strArray[0] == "cz"))
            {
                if (strArray.Length == 1)
                {
                    ev.Player.SendConsoleMessage("ÖØÐÂ×öÈËÖ¸Áî°ïÖú ¿ÉÒÔÈÃÖ¸¶¨µÄ»ìãç±ä³ÉDDÖØÐÂÀ´¹ý", "yellow");

                }
                if (strArray.Length == 2)
                {
                    int num4 = int.Parse(strArray[1]);
                    foreach (ReferenceHub player2 in Player.GetHubs())
                    {
                        if ((player2.GetPlayerId() == num4) && (player2.GetTeam() == Team.CHI) && (!HDZHG2.Contains(player2.GetUserId())))
                        {
                            ev.Player.SendConsoleMessage("Ö´ÐÐÍê³É", "yellow");
                            player2.SetRole(RoleType.ClassD);
                            player2.Broadcast(5, "ÄãÒòÎªÈÇÅ­ÁË»ìãçÖ¸»Ó¹Ù±»¿ª³ý³ÉDD", false);
                        }
                    }
                }
            }
            if ((strArray[0] == "help"))
            {
                if (strArray.Length == 1)
                {
                    if (HDZHG2.Contains(ev.Player.GetUserId()))
                    {
                        ev.Player.SendConsoleMessage("»ìãçÖ¸»Ó¹ÙÊ¹ÓÃ½Ì³Ì\n.bc + [ÄÚÈÝ]°ÑÄÚÈÝ¹ã²¥¸øÈ«Ìå»ìãç\n.cz +[Íæ¼Ò±àºÅ]°ÑÍæ¼Ò¿ª³ý³ÉD¼¶", "green");
                    }
                    if (ev.Player.GetRole() == RoleType.NtfCommander)
                    {
                        ev.Player.SendConsoleMessage("¾ÅÎ²ºüÖ¸»Ó¹ÙÊ¹ÓÃ½Ì³Ì\n.bc + [ÄÚÈÝ]°ÑÄÚÈÝ¹ã²¥¸øÈ«Ìå¾ÅÎ²ºü\n.tb +[Íæ¼Ò±àºÅ]°ÑÍæ¼ÒÉý¼¶", "green");
                    }

                }
            }
            num = 0;
            num2 = 0;
        }
        public void PMD()
        {
        qwq1:

            if (roundstart == false)
            {

                for (int i = 0; i < player233.Count; i++)
                {
                    if (roundstart == false)
                    {
                        if (player233[i].GetUserId() != "76561198284755079@steam"&& player233[i].GetUserId() != "76561198389200613@steam")
                        {
                            player233[i].SetRank("³ÆºÅÔ¤ÁôÎ»ÖÃ", "red", true);
                            if (player233[i].GetUserId() == "76561198425823494@steam")
                            {
                                player233[i].SetRank("Ë¹´óÁÖ", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198388299994@steam")
                            {
                                player233[i].SetRank("BILIBILI_z_zÉ§ÌÇ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561197961446054@steam")
                            {
                                player233[i].SetRank("BILIBILI_Ò»¸ö¸ù´ó»Æ¹Ï", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198190686028@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÊÖ²ÐÖÁ×ð", "cyan", true);
                            }
                            if (player233[i].GetUserId() == "76561198825310613@steam")
                            {
                                player233[i].SetRank("´¥ÊÖTV_¶«ÐÇ.²¨ÉÙ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198384476113@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198381947239@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÊÇÎâÓï", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198816705835@steam")
                            {
                                player233[i].SetRank("¹Â¶ÀÒ»Éú", "silvery", true);
                            }

                            if (player233[i].GetUserId() == "76561198133773112@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÓÅÀÖÃÀ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198335932913@steam")
                            {
                                player233[i].SetRank("ÕÐ²Æß÷~", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198371077590@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198979881230@steam")
                            {
                                player233[i].SetRank("±¾Èº³£×¤UPÖ÷", "aqua", true);
                            }
                            if (player233[i].GetUserId() == "76561198401019684@steam")
                            {
                                player233[i].SetRank("²»ÊÇÐ¡Ñ§ÉúÊÇÉÙÄêÒôÐ¡½ã½ã", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198145812844@steam")
                            {
                                player233[i].SetRank("ÀÏÒõ±È", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198359791579@steam")
                            {
                                player233[i].SetRank("D-17396", "yellow", true);
                            }
                        }

                    }
                }
                Thread.Sleep(5000);
                for (int i = 0; i < player233.Count; i++)
                {

                    if (roundstart == false)
                    {
                        if (player233[i].GetUserId() != "76561198284755079@steam" && player233[i].GetUserId() != "76561198389200613@steam")
                        {
                            player233[i].SetRank("»¶Ó­¼ÓÈëÕâ¸öÆÆ·þÎñÆ÷:979685108 | Çë¿´±êÌâ", "red", true);
                            if (player233[i].GetUserId() == "76561198366416373@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÔÚã¶Éñ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198977855934")
                            {
                                player233[i].SetRank("49·òÈË", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198361793702@steam")
                            {
                                player233[i].SetRank("°®ÊÇÒ»µÀ¹âÈç´ËÃÀÃî", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198841949627@steam")
                            {
                                player233[i].SetRank("ÈÕ³£¿ìÀÖË®µÄÑî½ÌÊÚ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198840690652@steam")
                            {
                                player233[i].SetRank("±¾·þNPC", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198831124013@steam")
                            {
                                player233[i].SetRank("Ô®½»ÉÙÅ®", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198388299994@steam")
                            {
                                player233[i].SetRank("BILIBILI_z_zÉ§ÌÇ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561197961446054@steam")
                            {
                                player233[i].SetRank("BILIBILI_Ò»¸ö¸ù´ó»Æ¹Ï", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198190686028@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÊÖ²ÐÖÁ×ð", "cyan", true);
                            }
                            if (player233[i].GetUserId() == "76561198825310613@steam")
                            {
                                player233[i].SetRank("´¥ÊÖTV_¶«ÐÇ.²¨ÉÙ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198384476113@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198381947239@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÊÇÎâÓï", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198816705835@steam")
                            {
                                player233[i].SetRank("¹Â¶ÀÒ»Éú", "silvery", true);
                            }
                            if (player233[i].GetUserId() == "76561198841744752@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }

                            if (player233[i].GetUserId() == "76561198133773112@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÓÅÀÖÃÀ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198335932913@steam")
                            {
                                player233[i].SetRank("ÕÐ²Æß÷~", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198425823494@steam")
                            {
                                player233[i].SetRank("Ë¹´óÁÖ", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198371077590@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198812450849@steam")
                            {
                                player233[i].SetRank("BILIBILI_gou_mr", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198979881230@steam")
                            {
                                player233[i].SetRank("±¾Èº³£×¤UPÖ÷", "aqua", true);
                            }
                            if (player233[i].GetUserId() == "76561198191585303@steam")
                            {
                                player233[i].SetRank("ÃÀÉÙÅ®", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198401019684@steam")
                            {
                                player233[i].SetRank("²»ÊÇÐ¡Ñ§ÉúÊÇÉÙÄêÒôÐ¡½ã½ã", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198145812844@steam")
                            {
                                player233[i].SetRank("ÀÏÒõ±È", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198359791579@steam")
                            {
                                player233[i].SetRank("D-17396", "yellow", true);
                            }
                        }
                    }

                }
                Thread.Sleep(5000);
                for (int i = 0; i < player233.Count; i++)
                {
                    if (roundstart == false)
                    {
                        if (player233[i].GetUserId() != "76561198284755079@steam" && player233[i].GetUserId() != "76561198389200613@steam")
                        {
                            if (player233[i].GetUserId() == "76561198366416373@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÔÚã¶Éñ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198361793702@steam")
                            {
                                player233[i].SetRank("°®ÊÇÒ»µÀ¹âÈç´ËÃÀÃî", "green", true);
                            }
                            player233[i].SetRank("»¶Ó­¼ÓÈëÕâ¸öÆÆ·þÎñÆ÷:979685108 | Çë¿´±êÌâ", "yellow", true);
                            if (player233[i].GetUserId() == "76561198977855934@steam")
                            {
                                player233[i].SetRank("49·òÈË", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198840690652@steam")
                            {
                                player233[i].SetRank("±¾·þNPC", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198841949627@steam")
                            {
                                player233[i].SetRank("ÈÕ³£¿ìÀÖË®µÄÑî½ÌÊÚ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198831124013@steam")
                            {
                                player233[i].SetRank("Ô®½»ÉÙÅ®", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198388299994@steam")
                            {
                                player233[i].SetRank("BILIBILI_z_zÉ§ÌÇ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561197961446054@steam")
                            {
                                player233[i].SetRank("BILIBILI_Ò»¸ö¸ù´ó»Æ¹Ï", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198190686028@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÊÖ²ÐÖÁ×ð", "cyan", true);
                            }
                            if (player233[i].GetUserId() == "76561198825310613@steam")
                            {
                                player233[i].SetRank("´¥ÊÖTV_¶«ÐÇ.²¨ÉÙ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198384476113@steam")
                            {
                                player233[i].SetRank("lime", "VIP1", true);
                            }
                            if (player233[i].GetUserId() == "76561198381947239@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÊÇÎâÓï", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198816705835@steam")
                            {
                                player233[i].SetRank("¹Â¶ÀÒ»Éú", "silvery", true);
                            }
                            if (player233[i].GetUserId() == "76561198841744752@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }

                            if (player233[i].GetUserId() == "76561198133773112@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÓÅÀÖÃÀ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198335932913@steam")
                            {
                                player233[i].SetRank("ÕÐ²Æß÷~", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198425823494@steam")
                            {
                                player233[i].SetRank("Ë¹´óÁÖ", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198371077590@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198812450849@steam")
                            {
                                player233[i].SetRank("BILIBILI_gou_mr", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198979881230@steam")
                            {
                                player233[i].SetRank("±¾Èº³£×¤UPÖ÷", "aqua", true);
                            }
                            if (player233[i].GetUserId() == "76561198191585303@steam")
                            {
                                player233[i].SetRank("ÃÀÉÙÅ®", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198401019684@steam")
                            {
                                player233[i].SetRank("²»ÊÇÐ¡Ñ§ÉúÊÇÉÙÄêÒôÐ¡½ã½ã", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198145812844@steam")
                            {
                                player233[i].SetRank("ÀÏÒõ±È", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198359791579@steam")
                            {
                                player233[i].SetRank("D-17396", "yellow", true);
                            }
                        }
                    }

                }
                Thread.Sleep(5000);
                for (int i = 0; i < player233.Count; i++)
                {
                    if (roundstart == false)
                    {
                        if (player233[i].GetUserId() != "76561198284755079@steam" && player233[i].GetUserId() != "76561198389200613@steam")
                        {
                            player233[i].SetRank("»¶Ó­¼ÓÈëÕâ¸öÆÆ·þÎñÆ÷:979685108 | Çë¿´±êÌâ", "green", true);
                            if (player233[i].GetUserId() == "76561198366416373@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÔÚã¶Éñ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198361793702@steam")
                            {
                                player233[i].SetRank("°®ÊÇÒ»µÀ¹âÈç´ËÃÀÃî", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198977855934@steam")
                            {
                                player233[i].SetRank("49·òÈË", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198840690652@steam")
                            {
                                player233[i].SetRank("±¾·þNPC", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198831124013@steam")
                            {
                                player233[i].SetRank("pink", "Ô®½»ÉÙÅ®", true);
                            }
                            if (player233[i].GetUserId() == "76561198841949627@steam")
                            {
                                player233[i].SetRank("ÈÕ³£¿ìÀÖË®µÄÑî½ÌÊÚ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198388299994@steam")
                            {
                                player233[i].SetRank("BILIBILI_z_zÉ§ÌÇ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561197961446054")
                            {
                                player233[i].SetRank("BILIBILI_Ò»¸ö¸ù´ó»Æ¹Ï", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198190686028@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÊÖ²ÐÖÁ×ð", "cyan", true);
                            }
                            if (player233[i].GetUserId() == "76561198825310613@steam")
                            {
                                player233[i].SetRank("´¥ÊÖTV_¶«ÐÇ.²¨ÉÙ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198384476113@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198381947239@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÊÇÎâÓï", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198816705835@steam")
                            {
                                player233[i].SetRank("¹Â¶ÀÒ»Éú", "silvery", true);
                            }
                            if (player233[i].GetUserId() == "76561198841744752@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198133773112@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÓÅÀÖÃÀ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198335932913@steam")
                            {
                                player233[i].SetRank("ÕÐ²Æß÷~", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198425823494@steam")
                            {
                                player233[i].SetRank("Ë¹´óÁÖ", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198371077590@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198812450849@steam")
                            {
                                player233[i].SetRank("BILIBILI_gou_mr", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198979881230@steam")
                            {
                                player233[i].SetRank("±¾Èº³£×¤UPÖ÷", "aqua", true);
                            }
                            if (player233[i].GetUserId() == "76561198191585303@steam")
                            {
                                player233[i].SetRank("ÃÀÉÙÅ®", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198401019684@steam")
                            {
                                player233[i].SetRank("²»ÊÇÐ¡Ñ§ÉúÊÇÉÙÄêÒôÐ¡½ã½ã", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198145812844@steam")
                            {
                                player233[i].SetRank("ÀÏÒõ±È", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198359791579@steam")
                            {
                                player233[i].SetRank("D-17396", "yellow", true);
                            }
                        }
                    }
                }
                Thread.Sleep(5000);
                for (int i = 0; i < player233.Count; i++)
                {
                    if (roundstart == false)
                    {
                        if (player233[i].GetUserId() != "76561198284755079@steam" && player233[i].GetUserId() != "76561198389200613@steam")
                        {
                            player233[i].SetRank("»¶Ó­¼ÓÈëÕâ¸öÆÆ·þÎñÆ÷:979685108 | Çë¿´±êÌâ", "pink", true);
                            if (player233[i].GetUserId() == "76561198366416373@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÔÚã¶Éñ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198361793702@steam")
                            {
                                player233[i].SetRank("°®ÊÇÒ»µÀ¹âÈç´ËÃÀÃîÈç´ËÃÀÃî", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198977855934@steam")
                            {
                                player233[i].SetRank("49·òÈË", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198840690652@steam")
                            {
                                player233[i].SetRank("±¾·þNPC", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198841949627@steam")
                            {
                                player233[i].SetRank("ÈÕ³£¿ìÀÖË®µÄÑî½ÌÊÚ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198831124013@steam")
                            {
                                player233[i].SetRank("Ô®½»ÉÙÅ®", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198388299994@steam")
                            {
                                player233[i].SetRank("crimson", "BILIBILI_z_zÉ§ÌÇ", true);
                            }
                            if (player233[i].GetUserId() == "76561197961446054@steam")
                            {
                                player233[i].SetRank("BILIBILI_Ò»¸ö¸ù´ó»Æ¹Ï", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198190686028@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÊÖ²ÐÖÁ×ð", "cyan", true);
                            }
                            if (player233[i].GetUserId() == "76561198825310613@steam")
                            {
                                player233[i].SetRank("´¥ÊÖTV_¶«ÐÇ.²¨ÉÙ", "crimson", true);
                            }
                            if (player233[i].GetUserId() == "76561198384476113@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198381947239@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÎÒÊÇÎâÓï", "pink", true);
                            }
                            if (player233[i].GetUserId() == "76561198816705835@steam")
                            {
                                player233[i].SetRank("¹Â¶ÀÒ»Éú", "silvery", true);
                            }
                            if (player233[i].GetUserId() == "76561198841744752@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198133773112@steam")
                            {
                                player233[i].SetRank("BILIBILI_ÓÅÀÖÃÀ", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198335932913@steam")
                            {
                                player233[i].SetRank("ÕÐ²Æß÷~", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198425823494@steam")
                            {
                                player233[i].SetRank("Ë¹´óÁÖ", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198371077590@steam")
                            {
                                player233[i].SetRank("VIP1", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198812450849@steam")
                            {
                                player233[i].SetRank("BILIBILI_gou_mr", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198979881230@steam")
                            {
                                player233[i].SetRank("±¾Èº³£×¤UPÖ÷", "aqua", true);
                            }
                            if (player233[i].GetUserId() == "76561198191585303@steam")
                            {
                                player233[i].SetRank("ÃÀÉÙÅ®", "red", true);
                            }
                            if (player233[i].GetUserId() == "76561198401019684@steam")
                            {
                                player233[i].SetRank("²»ÊÇÐ¡Ñ§ÉúÊÇÉÙÄêÒôÐ¡½ã½ã", "lime", true);
                            }
                            if (player233[i].GetUserId() == "76561198145812844@steam")
                            {
                                player233[i].SetRank("ÀÏÒõ±È", "green", true);
                            }
                            if (player233[i].GetUserId() == "76561198359791579@steam")
                            {
                                player233[i].SetRank("D-17396", "yellow", true);
                            }

                        }
                    }

                }
                Thread.Sleep(5000);
            }
            else
            {
                pmd.Abort();
            }
            goto qwq1;
        }
        public void OnPocketDimDeath(PocketDimDeathEvent ev)
        {
            if (scp_999.Contains(ev.Player.GetUserId()))
            {
                ev.Allow = false;
            }
            if (ev.Player.GetPlayerId() == scp457id)
            {
                ev.Allow = false;
            }
            if (ev.Player.GetPlayerId() == scp181id)
            {
                ev.Allow = false;
            }
        }
        public void OnCheckEscape(ref CheckEscapeEvent ev)
        {
            if(scp035id == ev.Player.GetPlayerId())
            {
                ev.Allow = false;
                Map.Broadcast("<color=#red>¾¯¸æ£¡£¡£¡[SCP-035]ÒÑ¾­ÌÓ³öÉèÊ© Çë¾¡¿ìÏûÃð</color>", 10, false);
                scp035goout = true;
            }

            if (LLBS233.Contains(ev.Player.GetPlayerId()))
            {
                ev.Allow = false;
            }
            foreach (ReferenceHub player in Player.GetHubs())
            {
                if (player.GetRole() == RoleType.ChaosInsurgency)
                {
                    chaos++;
                }
                if (player.GetTeam() == Team.MTF)
                {
                    mtf++;
                }
            }
            Log.Info("»ìãçÈËÊý:" + chaos);
            Log.Info("MTFÈËÊý:" + mtf);
            foreach (int num2 in touxiang)
            {
                if (num2 == ev.Player.GetPlayerId())
                {
                    Log.Info("Í¶½µÍæ¼ÒÊÇ:" + ev.Player.GetNickname());
                }
                if (((num2 == ev.Player.GetPlayerId()) && (ev.Player.GetRole() == RoleType.ClassD)) && (chaos == 0))
                {
                    Log.Info("Íæ¼Ò¼´½«±äÎªNTFÑ§Ô±");
                    Log.Info("Íæ¼ÒÃû:" + ev.Player.GetNickname());
                    ev.Player.SetRole(RoleType.NtfCadet);
                    for (int i = 0; i <= 100; i++)
                    {
                        if (touxiang[i] == ev.Player.GetPlayerId())
                        {
                            touxiang[i] = 0;
                        }
                    }
                    chaos = 0;
                    mtf = 0;
                    return;
                }
                if (((num2 == ev.Player.GetPlayerId()) && (ev.Player.GetRole() == RoleType.Scientist)) && (mtf == 0))
                {
                    Log.Info("Íæ¼Ò¼´½«±äÎª»ìãç");
                    Log.Info("Íæ¼ÒÃû:" + ev.Player.GetNickname());
                    ev.Player.SetRole(RoleType.ChaosInsurgency);
                    for (int i = 0; i <= 100; i++)
                    {
                        if (touxiang[i] == ev.Player.GetPlayerId())
                        {
                            touxiang[i] = 0;
                        }
                    }
                    chaos = 0;
                    mtf = 0;
                    return;
                }
            }
            chaos = 0;
            mtf = 0;
        }
        public void OnDoorInteract(ref DoorInteractionEvent ev)
        {
            if (door2.Contains(ev.Door) && (jljy2.Contains(ev.Player.GetUserId()) == false))
            {
                ev.Player.AddHealth(-50);
                ev.Player.Broadcast(5, "¼ªÁ¼¼ªÓ°ÎªÄãµãÔÞ", false);
                door2.Remove(ev.Door);

            }


           // foreach (GameObject door in GameObject.FindGameObjectsWithTag("Door"))
            //{
              //  System.Random num111 = new System.Random();
                //if ((num111.Next(1, 301) >= 299) && (deadtimer <= 1800))
                //{
                //
                  //  ev.Player.SetPosition(new Vector3(door.transform.position.x, door.transform.position.y + (float)1.5, door.transform.position.z));
                    //ev.Player.ClearBroadcasts();
                    //ev.Player.Broadcast(5, "----[<color=#32CD32>SCP247</color>]----\n<color=#FF0000>ÄãÅöµ½ÁËËæ»úÃÅÒÔ±»´«ËÍ</color>", false);

                //}
            //}
                   

           
            if (bhsx == true)
            {
                if (new System.Random().Next(0, 100) >= 97)
                {
                    ev.Allow = false;
                }
            }
            if ((ev.Player.GetRole() == RoleType.Scp096) && (new System.Random().Next(1, 100) <= 3))
            {
                ev.Allow = true;
            }
            if ((ev.Door.DoorName == "NUKE_SURFACE") && (ev.Player.inventory.GetItemInHand().id == ItemType.KeycardNTFCommander) || (ev.Player.inventory.GetItemInHand().id == ItemType.KeycardChaosInsurgency))
            {
                ev.Allow = true;
            }
            //            if (csm == true)
            //{
            // Doors = Map.Doors;
            //System.Random random = new System.Random();
            //door3 = Doors[random.Next(Doors.Count)];
            //ev.Player.SetPosition(new Vector3(door3.localPos.x, door3.localPos.y + (float)1.5, door3.localPos.z));
            // ev.Player.ClearBroadcasts();
            //         ev.Player.Broadcast(5, "----[<color=#32CD32>SCP247</color>]----\n<color=#FF0000>ÄãÅöµ½ÁËËæ»úÃÅÒÔ±»´«ËÍ</color>", false);

            //     }
            if (bscp79 == true)
            {
                if (ev.Player.GetTeam() == Team.SCP)
                {
                    if (new System.Random().Next(0, 100) >= 95)
                    {
                        ev.Allow = true;
                    }
                }
            }

            if ((scp005 == true) && (ev.Player.GetPlayerId() == scp005aid))
            {
                ev.Allow = true;

            }

            if (scp682.Contains(ev.Player.GetUserId()) && (ev.Player.GetRole() == RoleType.Scp93989))
            {
                if (new System.Random().Next(0, 100) >= 90)
                {
                    ev.Door.DestroyDoor(true);
                    ev.Allow = true;
                }

            }

            if (ev.Player.GetPlayerId() == scp181id)
            {
                System.Random random = new System.Random();
                if (random.Next(1, 0x1f) == 0x18)
                {
                    ev.Allow = true;
                }

            }

            if (ev.Player.GetPlayerId() == cxkid)
            {
                System.Random random = new System.Random();
                if (random.Next(1, 5) == 2)
                {
                    ev.Allow = false;
                    ev.Player.Broadcast(3, "ÄãÌ«²ËÁËµ¼ÖÂÃÅÃ»´ò¿ª", false);
                }
                if (jntm == true)
                {
                    ev.Allow = true;
                    ev.Door.DestroyDoor(true);
                    ev.Player.ClearBroadcasts();
                    ev.Player.Broadcast(4, "Äã·¢¶¯¼¦ÄãÌ«ÃÀÃÅ¶¼¿´²»ÏÂÈ¥ÁË", false);

                }

            }

            if ((ev.Player.GetRole() == RoleType.FacilityGuard) && (ev.Door.DoorName == "INTERCOM"))
            {
                ev.Door.DestroyDoor(true);
                Map.Broadcast("±©ÔêÀÏ¸ç" + ev.Player.GetNickname() + "Ò»jioõß¿ªÁË¹ã²¥ÊÒ", 5, false);

            }
            if ((ev.Player.GetTeam() == Team.MTF) && (ev.Door.DoorName == "INTERCOM"))
            {
                ev.Door.DestroyDoor(true);

                Map.Broadcast("±©ÔêÀÏ¸ç" + ev.Player.GetNickname() + "Ò»jioõß¿ªÁË¹ã²¥ÊÒ", 5, false);

            }
            if ((Dio2.Contains(ev.Player.GetUserId())) && (sjtz1 == true))
            {
                ev.Door.DestroyDoor(true);

                ev.Allow = true;

            }
            if ((Dio2.Contains(ev.Player.GetUserId()) == false) && (sjtz1 == true))
            {
                ev.Allow = false;

            }
            if (jljy2.Contains(ev.Player.GetUserId()))
            {
                int num3 = new System.Random().Next(1, 100);
                if (num3 >= 99)
                {
                    door2.Add(ev.Door);
                    ev.Player.Broadcast(5, "ÒÑ¾­°²·ÅÕ¨µ¯", false);
                }
            }
        }
        public void OnScp106Contain(Scp106ContainEvent ev)
        {
            Map.ClearBroadcasts();
            Map.Broadcast("<color=red>¹ã²¥</color>:(Òò´óÍÈ¹Ç·ÛËé»ú¶øÍ´¿à´ó½Ð)\nÎªÊ²Ã´? ÎªÊ²Ã´!\nÎØÎØÎØÎØÎØÎØÎØ", 20, false);
        }
        public void OnGeneratorUnlock(ref GeneratorUnlockEvent ev)
        {
            if(h == true)
            {
                ev.Allow = false;
                ev.Player.Broadcast(5, "µ±Ç°79ÊôÓÚÈËÀàÕóÓª", false);
            }
        }
        public void OnCheckRoundEnd(ref CheckRoundEndEvent ev)
        {
            int num = 0;
            int num2 = 0;
            int num3 = 0;
            int num4 = 0;
            int num5 = 0;
            foreach (ReferenceHub player in Player.GetHubs())
            {
                if ((player.GetTeam() == Team.SCP) && (player.GetPlayerId() != scp650id))
                {
                    num++;
                }
                if (player.GetTeam() == Team.CHI)
                {
                    num2++;
                }
                if (player.GetRole() == RoleType.Scientist)
                {
                    num3++;
                }
                if ((player.GetRole() == RoleType.ClassD) && (player.GetPlayerId() != scp035id))
                {
                    num4++;
                }
                if (player.GetTeam() == Team.MTF)
                {
                    num5++;
                }
                if(h == true)
                {
                    if(player.GetRole()==RoleType.Scp079)
                    {
                        num--;
                    }
                }

            }

            
            if ((num4 == 0) && (num >= 1) && (num5 == 0) && (num3 == 0))
            {
                ev.LeadingTeam = RoundSummary.LeadingTeam.Anomalies;
                ev.ForceEnd = true;

            }
            if ((num == 0) && (num4 == 0) && (num5 >= 1))
            {
                ev.LeadingTeam = RoundSummary.LeadingTeam.FacilityForces;
                ev.ForceEnd = true;
            }

        }
        public void OnDropItem(ref DropItemEvent ev)
        {
            Vector3 room = ev.Player.GetPosition();
            if(jwhngwufashanghai == false)
            {
                if(bscd == false)
                {
                    if (ev.Player.GetPlayerId() == jwhngid)
                    {
                        if (ev.Item.id == ItemType.GrenadeFlash)
                        {
                            ev.Allow = false;
                            item = ev.Player.GetAllItems();
                            health = ev.Player.GetHealth();
                            if (ev.Player.GetRole() == RoleType.ChaosInsurgency)
                            {
                                ev.Player.SetRole(RoleType.NtfCadet, true);
                                foreach (Inventory.SyncItemInfo syncItemInfo in ev.Player.GetAllItems())
                                {
                                    ev.Player.RemoveItem(syncItemInfo);
                                }

                            }
                            if (ev.Player.GetRole() == RoleType.NtfCadet)
                            {
                                ev.Player.SetRole(RoleType.ChaosInsurgency, true);
                                foreach (Inventory.SyncItemInfo syncItemInfo in ev.Player.GetAllItems())
                                {
                                    ev.Player.RemoveItem(syncItemInfo);
                                }
                            }

                            Coroutines.Add(Timing.RunCoroutine(SecondCounter25()));


                        }
                    }
                }


            }
            if (ev.Player.GetPlayerId() == D9341id)
            {
                if (ev.Item.id == ItemType.GrenadeFlash)
                {
                    D9341.Broadcast(6, "´æµµ³É¹¦", false);
                    ev.Allow = false;
                    ev.Player.RemoveItem(ev.Item);
                    D9341.AddItem(ItemType.GrenadeFlash);
                    D9341Item = D9341.GetAllItems();
                    D9341zb = D9341.GetPosition();

                    D9341js = D9341.GetRole();
                }
                if (ev.Item.id == ItemType.Flashlight)
                {
                    if (times <= 5)
                    {
                        D9341.SetRole(D9341js);
                        Coroutines.Add(Timing.RunCoroutine(SecondCounter23()));

                        times++;
                    }

                }
            }
            if (scp2006id == ev.Player.GetPlayerId())
            {
                if (ev.Item.id == ItemType.Coin)
                {

                    foreach (GameObject door in GameObject.FindGameObjectsWithTag("Door"))
                    {
                        int door2 = new System.Random().Next(1, 100);
                        if (door2 >= 80)
                        {
                            ev.Player.SetPosition(new Vector3(door.transform.position.x, door.transform.position.y + (float)1.5, door.transform.position.z));
                            break;
                        }
                    }
                }
            }
            if (ev.Player.GetPlayerId() == cxkid)
            {
                if (ev.Item.id == ItemType.Flashlight)
                {
                    jntm = true;
                    ev.Player.ClearBroadcasts();
                    ev.Allow = false;
                    ev.Player.RemoveItem(ev.Item);
                    ev.Player.AddItem(ItemType.Coin);
                    ev.Player.Broadcast(10, "³É¹¦·¢¶¯¼¦ÄãÌ«ÃÀÊ±³¤10Ãë", false);

                }
            }
            if ((room.y <= -1f) && (room.y >= -7f))
            {
                if (coldwait233 == false)
                {
                    ev.Player.AddItem(ev.Item.id);
                    ev.Player.AddItem(ev.Item.id);
                    ev.Player.Broadcast(5, "¸´ÖÆ³É¹¦", false);
                    coldwait233 = true;
                }
                if (coldwait233 == true)
                {
                    ev.Player.Broadcast(5, "038:ÀÛËÀÎÒÁËÒ»»áÔÙÀ´ßÂQAQ", false);
                }
            }
            if (scp2818pick == true)
            {
                if ((ev.Item.id == ItemType.GunCOM15) && (scp2818.GetPlayerId() == ev.Player.GetPlayerId()))
                {
                    ev.Player.Broadcast(5, "SCP2818ÒÑ¾­±»ÈÓÏÂ", false);
                    scp2818pick = false;
                    scp2818id = 0;
                    scp2818 = null;
                }
            }

            if ((Dio2.Contains(ev.Player.GetUserId())) && (ev.Item.id == ItemType.Flashlight) && (sjtz2 == false))
            {
                ev.Player.AddItem(ItemType.Coin);
                Map.ClearBroadcasts();
                Map.Broadcast("<color=#99FF00>Dio·¢¶¯ÁËÊ±¼äÍ£Ö¹</color>", 12, false);
                cd = new Thread(CD);
                cd.Start();
                sjtz1 = true;
                sjtz2 = true;
            }

        Label_01E9:
            if ((((((s173 == 0) || (s173 == 2)) && ((s096 == 0) || (s096 == 2))) && (((s939_53 == 0) || (s939_53 == 2)) && ((s939_89 == 0) || (s939_89 == 2)))) && ((s049 == 0) || (s049 == 2))) && ((s106 == 1) && (RoleSet != 1)))
            {
                Log.Info("µ±Ç°³¡ÉÏÖ»Ê£ÓàÒ»¸öSCPÁË");
                if (ev.Player.GetRole() == RoleType.NtfCommander)
                {
                    ev.Player.ClearBroadcasts();
                    ev.Player.Broadcast(5, "µ±Ç°³¡ÉÏÖ»Ê£ÏÂÒ»¸öSCPÁË\n<color=#FF1493>Äã¿ÉÒÔ°ÑÄãµÄÖ¸»Ó¹Ù¿¨¶ª³öÀ´</color>\n±äÎªÊÕÈÝ¹¤³ÌÊ¦¿¨", false);
                    if (ev.Item.id == ItemType.KeycardNTFCommander)
                    {
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        RoleSet = 1;
                    }
                }
            }
            else if ((((((s106 == 0) || (s106 == 2)) && ((s096 == 0) || (s096 == 2))) && (((s939_53 == 0) || (s939_53 == 2)) && ((s939_89 == 0) || (s939_89 == 2)))) && ((s049 == 0) || (s049 == 2))) && ((s173 == 1) && (RoleSet != 1)))
            {
                Log.Info("µ±Ç°³¡ÉÏÖ»Ê£ÓàÒ»¸öSCPÁË");
                if (ev.Player.GetRole() == RoleType.NtfCommander)
                {
                    ev.Player.ClearBroadcasts();
                    ev.Player.Broadcast(5, "µ±Ç°³¡ÉÏÖ»Ê£ÏÂÒ»¸öSCPÁË\n<color=#FF1493>Äã¿ÉÒÔ°ÑÄãµÄÖ¸»Ó¹Ù¿¨¶ª³öÀ´</color>\n±äÎªÊÕÈÝ¹¤³ÌÊ¦¿¨", false);
                    if (ev.Item.id == ItemType.KeycardNTFCommander)
                    {
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        RoleSet = 1;
                    }
                }
            }
            else if ((((((s106 == 0) || (s106 == 2)) && ((s173 == 0) || (s173 == 2))) && (((s939_53 == 0) || (s939_53 == 2)) && ((s939_89 == 0) || (s939_89 == 2)))) && ((s049 == 0) || (s049 == 2))) && ((s096 == 1) && (RoleSet != 1)))
            {
                Log.Info("µ±Ç°³¡ÉÏÖ»Ê£ÓàÒ»¸öSCPÁË");
                if (ev.Player.GetRole() == RoleType.NtfCommander)
                {
                    ev.Player.ClearBroadcasts();
                    ev.Player.Broadcast(5, "µ±Ç°³¡ÉÏÖ»Ê£ÏÂÒ»¸öSCPÁË\n<color=#FF1493>Äã¿ÉÒÔ°ÑÄãµÄÖ¸»Ó¹Ù¿¨¶ª³öÀ´</color>\n±äÎªÊÕÈÝ¹¤³ÌÊ¦¿¨", false);
                    if (ev.Item.id == ItemType.KeycardNTFCommander)
                    {
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        RoleSet = 1;
                    }
                }
            }
            else if ((((((s106 == 0) || (s106 == 2)) && ((s173 == 0) || (s173 == 2))) && (((s096 == 0) || (s096 == 2)) && ((s939_89 == 0) || (s939_89 == 2)))) && ((s049 == 0) || (s049 == 2))) && ((s939_53 == 1) && (RoleSet != 1)))
            {
                Log.Info("µ±Ç°³¡ÉÏÖ»Ê£ÓàÒ»¸öSCPÁË");
                if (ev.Player.GetRole() == RoleType.NtfCommander)
                {
                    ev.Player.ClearBroadcasts();
                    ev.Player.Broadcast(5, "µ±Ç°³¡ÉÏÖ»Ê£ÏÂÒ»¸öSCPÁË\n<color=#FF1493>Äã¿ÉÒÔ°ÑÄãµÄÖ¸»Ó¹Ù¿¨¶ª³öÀ´</color>\n±äÎªÊÕÈÝ¹¤³ÌÊ¦¿¨", false);
                    if (ev.Item.id == ItemType.KeycardNTFCommander)
                    {
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        RoleSet = 1;
                    }
                }
            }
            else if ((((((s106 == 0) || (s106 == 2)) && ((s173 == 0) || (s173 == 2))) && (((s096 == 0) || (s096 == 2)) && ((s939_53 == 0) || (s939_53 == 2)))) && ((s049 == 0) || (s049 == 2))) && ((s939_89 == 1) && (RoleSet != 1)))
            {
                Log.Info("µ±Ç°³¡ÉÏÖ»Ê£ÓàÒ»¸öSCPÁË");
                if (ev.Player.GetRole() == RoleType.NtfCommander)
                {
                    ev.Player.ClearBroadcasts();
                    ev.Player.Broadcast(5, "µ±Ç°³¡ÉÏÖ»Ê£ÏÂÒ»¸öSCPÁË\n<color=#FF1493>Äã¿ÉÒÔ°ÑÄãµÄÖ¸»Ó¹Ù¿¨¶ª³öÀ´</color>\n±äÎªÊÕÈÝ¹¤³ÌÊ¦¿¨", false);
                    if (ev.Item.id == ItemType.KeycardNTFCommander)
                    {
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        RoleSet = 1;
                    }
                }
            }
            else if ((((((s106 == 0) || (s106 == 2)) && ((s173 == 0) || (s173 == 2))) && (((s096 == 0) || (s096 == 2)) && ((s939_53 == 0) || (s939_53 == 2)))) && ((s939_89 == 0) || (s939_89 == 2))) && ((s049 == 1) && (RoleSet != 1)))
            {
                Log.Info("µ±Ç°³¡ÉÏÖ»Ê£ÓàÒ»¸öSCPÁË");
                if (ev.Player.GetRole() == RoleType.NtfCommander)
                {
                    ev.Player.ClearBroadcasts();
                    ev.Player.Broadcast(5, "µ±Ç°³¡ÉÏÖ»Ê£ÏÂÒ»¸öSCPÁË\n<color=#FF1493>Äã¿ÉÒÔ°ÑÄãµÄÖ¸»Ó¹Ù¿¨¶ª³öÀ´</color>\n±äÎªÊÕÈÝ¹¤³ÌÊ¦¿¨", false);
                    if (ev.Item.id == ItemType.KeycardNTFCommander)
                    {
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        RoleSet = 1;
                    }
                }
            }
        }
        public void CD()
        {
            Dio.AddHealth(120);
            Thread.Sleep(12000);
            pos1.Clear();
            sjtz1 = false;
            cd.Abort();
        }
        public void OnShoot(ref ShootEvent ev)
        {
            if (ev.Shooter.GetPlayerId() == scp3108playerid)
            {
                
                if (ev.Shooter.inventory.GetItemInHand().id == ItemType.GunCOM15)
                {
                    ev.Shooter.RemoveItem(ev.Shooter.inventory.GetItemInHand());
                    scp3108shotyes = true;
                }
            }
            if (scp1577id.Contains(ev.Shooter.GetPlayerId()))
            {
                if (ev.Shooter.GetTeam() == Team.MTF)
                {
                    if (ev.Shooter.inventory.GetItemInHand().id == ItemType.GunCOM15)
                    {
                        scp1577pos = ev.Shooter.GetPosition();
                        scp1577bj = true;
                        scp1577id = new List<int>();
                        Map.Broadcast("<color=lime>ÓÐÈËÕÙ»½ÁË²¹¸ø×ø±ê" + scp1577pos.x + "|" + scp1577pos.y + "|" + scp1577pos.z + "°´~ÊäÈë.pos¿É»ñÈ¡ÄãµÄ×ø±ê</color>", 5, false);
                        ev.Shooter.Broadcast(5, "<color=lime>È¥¾¡Çé°×¸ø°Éqwq</color>", false);
                    }
                }
                else
                {
                    if (ev.Shooter.inventory.GetItemInHand().id == ItemType.GunCOM15)
                    {
                        scp1577pos = ev.Shooter.GetPosition();
                        scp1577bj = true;
                        scp1577id = new List<int>();
                        Map.Broadcast("<color=lime>ÓÐÈËÕÙ»½ÁË²¹¸ø×ø±ê" + scp1577pos.x + "|" + scp1577pos.y + "|" + scp1577pos.z + "°´~ÊäÈë.pos¿É»ñÈ¡ÄãµÄ×ø±ê</color>", 5, false);
                        ev.Shooter.Broadcast(5, "<color=lime>ÄãÒÑ¾­ºô½ÐÁË²¹¸ø</color>", false);
                    }
                }

            }
        }
        public void OnPickupItem(ref PickupItemEvent ev)
        {
            if (ylb2.Contains(ev.Player.GetUserId()))
            {
                if (ev.Item.ItemId == ItemType.Flashlight)
                {
                    ev.Allow = false;
                    ev.Item.Delete();

                    ev.Player.AddItem(ItemType.Medkit);

                }
                if (ev.Item.ItemId == ItemType.Radio)
                {

                    ev.Allow = false;

                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.Medkit);
                }

            }
            if (bpb2.Contains(ev.Player.GetPlayerId()))
            {
                if (ev.Item.ItemId == ItemType.Flashlight)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.GrenadeFrag);

                }
                if (ev.Item.ItemId == ItemType.Radio)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.GrenadeFrag);
                }
            }
            if ((a127d == true) && (ev.Item.ItemId == ItemType.GunUSP))
            {
                if (scp3108pick == false)
                {
                    scp3108playerid = ev.Player.GetPlayerId();
                    scp3108pick = true;
                    Map.Broadcast("<color=red>SCP-3108ÒÑ±»¼ñÆð±»´òÖÐµÄÈË»áÇ¿ÐÐ×ª»»Éí·Ý</color>", 5, false);
                    ev.Player.Broadcast(5, "<color=lime>Äã¼ñÆðÁË</color>\n[<color=red>SCP-3108</color>]\n<color=lime>Ê¹ÓÃ±¾ÊÖÇ¹ÉäÖÐÈË»áÈÃËû½ÇÉ«±ä»¯ ÄãÖ»ÄÜ¿ªÒ»Ç¹</color>", false);
                }
            }
            if (ev.Player.GetPlayerId() == scp914mid)
            {
                int cardup = new System.Random().Next(1, 4);
                if (cardup == 2)
                {
                    if (ev.Item.ItemId == ItemType.KeycardScientist)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardScientistMajor);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardJanitor)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardScientist);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardNTFLieutenant)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardNTFCommander);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardScientistMajor)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardChaosInsurgency)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardNTFCommander);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardNTFCommander)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardO5);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardZoneManager)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardContainmentEngineer);
                    }

                    if (ev.Item.ItemId == ItemType.KeycardChaosInsurgency)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardO5);
                    }
                    if (ev.Item.ItemId == ItemType.GunCOM15)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunProject90);
                    }
                    if (ev.Item.ItemId == ItemType.GunCOM15)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunProject90);
                    }
                    if (ev.Item.ItemId == ItemType.GunProject90)
                    {
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunE11SR);
                    }
                    if (ev.Item.ItemId == ItemType.GunE11SR)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunLogicer);
                    }
                    if (ev.Item.ItemId == ItemType.GunLogicer)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.MicroHID);
                    }
                    if (ev.Item.ItemId == ItemType.GunCOM15)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunProject90);
                    }
                    if (ev.Item.ItemId == ItemType.Flashlight)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GrenadeFrag);
                    }

                }
                if (cardup == 3)
                {
                    if (ev.Item.ItemId == ItemType.KeycardScientistMajor)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardScientist);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardScientist)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardJanitor);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardNTFCommander)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardNTFCommander);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardChaosInsurgency)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardScientistMajor);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardChaosInsurgency)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                    }
                    if (ev.Item.ItemId == ItemType.KeycardContainmentEngineer)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardZoneManager);

                    }
                    if (ev.Item.ItemId == ItemType.GunProject90)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunCOM15);

                    }
                    if (ev.Item.ItemId == ItemType.GunProject90)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunCOM15);
                    }
                    if (ev.Item.ItemId == ItemType.GunE11SR)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunProject90);
                    }
                    if (ev.Item.ItemId == ItemType.GunLogicer)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunE11SR);
                    }
                    if (ev.Item.ItemId == ItemType.MicroHID)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunLogicer);
                    }
                    if (ev.Item.ItemId == ItemType.GunProject90)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunCOM15);
                    }
                    if (ev.Item.ItemId == ItemType.GrenadeFrag)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.Flashlight);
                    }
                }
            }
            if (ev.Player.GetPlayerId() == scp181id)
            {
                if (ev.Item.ItemId == ItemType.KeycardScientist)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardScientistMajor);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ¿ÆÑ§¼Ò±ä³ÉÁË´ó¿ÆÑ§¼Ò¿¨</color>]", false);
                    }

                }
                if (ev.Item.ItemId == ItemType.KeycardJanitor)
                {
                    int cardup = new System.Random().Next(1, 100);
                    Log.Info("²âÊÔ" + cardup);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardScientist);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÇå½à¹¤±ä³ÉÁË¿ÆÑ§¼Ò¿¨</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.KeycardNTFLieutenant)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÊ¿¹Ù¿¨±ä³ÉÁËÖ¸»Ó¹Ù¿¨</color>]", false);
                    }
                }

                if (ev.Item.ItemId == ItemType.KeycardScientistMajor)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ´ó¿ÆÑ§¼Ò±ä³ÉÁËÊÕÈÝ¹¤³ÌÊ¦¿¨</color>]", false);
                    }

                }
                if (ev.Item.ItemId == ItemType.KeycardChaosInsurgency)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardNTFCommander);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÊÕÈÝ¹¤³ÌÊ¦¿¨±ä³ÉÁËÖ¸»Ó¹Ù¿¨</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.KeycardNTFCommander)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardO5);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÖ¸»Ó¹Ù¿¨±ä³ÉÁËºÚ¿¨</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.KeycardZoneManager)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÇøÓò×Ü¼à¿¨±ä³ÉÁËÉèÊ©×Ü¼à¿¨</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.KeycardJanitor)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardNTFLieutenant);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ¾ÅÎ²ºüÐÂ±ø¿¨±ä³ÉÁË¾ÅÎ²ºüÊ¿¹Ù¿¨</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.KeycardJanitor)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardJanitor);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ±£°²¿¨±ä³ÉÁËÉèÊ©¾ÅÎ²ºüÐÂ±ø¿¨</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.KeycardContainmentEngineer)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.KeycardO5);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ»ìãç¿¨±ä³ÉÁËÉèÊ©ºÚ¿¨</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.GunCOM15)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunProject90);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÐ¡ÊÖÇ¹±ä³ÉÁËP90</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.GunCOM15)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunProject90);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÐ¡ÊÖÇ¹±ä³ÉÁËP90</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.GunProject90)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunE11SR);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄP90±ä³ÉÁË¾ÅÎ²²½Ç¹</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.GunE11SR)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunLogicer);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ¾ÅÎ²²½Ç¹±ä³ÉÁË´ó²¤ÂÜ</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.GunLogicer)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.MicroHID);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ´ó²¤ÂÜ±ä³ÉÁËµç´ÅÅÚ</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.GunCOM15)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GunProject90);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄ±£°²Ç¹±ä³ÉÁËP90</color>]", false);
                    }
                }
                if (ev.Item.ItemId == ItemType.Flashlight)
                {
                    int cardup = new System.Random().Next(1, 100);
                    if (cardup >= 80)
                    {
                        ev.Allow = false;
                        ev.Item.Delete();
                        ev.Player.AddItem(ItemType.GrenadeFrag);
                        ev.Player.Broadcast(5, "[<color=red>µ±µ±µ±µ±ÄãµÄÉÁ¹âµ¯Ç¹±ä³ÉÁËÊÖÁñµ¯</color>]", false);
                    }
                }
            }
            if ((scp1577pick == false) && (ev.Item.ItemId == ItemType.GunCOM15))
            {
                Vector3 scp1577pos2 = Map.GetRandomSpawnPoint(RoleType.Scp173);
                float num2 = scp1577pos2.x + 10;
                float num3 = scp1577pos2.y + 10;
                float num4 = scp1577pos2.z + 10;
                float num5 = scp1577pos2.x - 10;
                float num6 = scp1577pos2.y - 10;
                float num7 = scp1577pos2.z - 10;
                if ((ev.Player.GetPosition().x <= num2) && (ev.Player.GetPosition().x >= num5) && (ev.Player.GetPosition().y <= num3) && (ev.Player.GetPosition().y >= num6) && ((ev.Player.GetPosition().z <= num4) && (ev.Player.GetPosition().z >= num7)))
                {
                    scp1577pick = true;
                    scp1577id.Add(ev.Player.GetPlayerId());
                    ev.Player.Broadcast(5, "<color=lime>Äã¼ñÆðÁË ÐÅºÅÇ¹</color>\n[<color=red>SCP-1577</color>]\n<color=lime>Ê¹ÓÃ±¾ÊÖÇ¹Éä»÷¿ÉÒÔºô½Ð¿ÕÍ¶</color>", false);
                }
            }
            else
            {
                if ((ev.Item.ItemId == ItemType.GunCOM15) && (scp2818pick == false))
                {
                    Map.Broadcast("SCP-2818ÒÑ¾­±»" + ev.Player.GetNickname() + "¼ñÆð", 5, false);
                    ev.Player.Broadcast(5, "Äã¼ñÆðÁË2818 ¿ªÇ¹ºóË²¼äËÀÍöÉËº¦1000µã", false);
                    scp2818 = ev.Player;
                    scp2818id = ev.Player.GetPlayerId();
                    scp2818pick = true;
                }
            }
            if (ev.Player.GetPlayerId() == scp005aid)
            {
                if (ev.Item.ItemId == ItemType.KeycardJanitor)
                {
                    scp005aid = 0;

                }
            }
            if (ev.Item.ItemId == ItemType.KeycardJanitor)
            {
                if (scp005 == false)
                {
                    scp005aid = ev.Player.GetPlayerId();
                    ev.Player.Broadcast(5, "<color=lime>Äã¼ñÆðÁË</color>[<color=red>SCP-005</color>]", false);
                }
            }

            if (ev.Item.ItemId == ItemType.GunUSP)
            {
                a127 = false;

            }
            if (ev.Item.ItemId == ItemType.Coin)
            {
                int num = new System.Random().Next(1, 13);

                if (num == 1)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.Coin);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[Ó²±Ò]", false);
                    Log.Info("Ó²±Ò±äÎªÁËÓ²±Ò| Íæ¼Ò:" + ev.Player.GetNickname());
                }
                if (num == 2)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.MicroHID);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[µç´ÅÅÚ¡¤ÓÐµç]", false);
                    Log.Info("Ó²±Ò±äÎªÁËµç´ÅÅÚ| Íæ¼Ò:" + ev.Player.GetNickname());
                }
                if (num == 3)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.GunE11SR);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[¾ÅÎ²²½Ç¹]", false);
                    Log.Info("Ó²±Ò±äÎªÁË¾ÅÎ²²½Ç¹| Íæ¼Ò:" + ev.Player.GetNickname());
                }
                if (num == 4)
                {
                    ev.Player.AddItem(ItemType.KeycardChaosInsurgency);
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[ÊÕÈÝ¹¤³ÌÊ¦¿¨]", false);
                    Log.Info("Ó²±Ò±äÎªÁËÊÕÈÝ¹¤³ÌÊ¦¿¨| Íæ¼Ò:" + ev.Player.GetNickname());
                }
                if (num == 5)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.GrenadeFrag);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[ÊÖÀ×]", false);
                    Log.Info("Ó²±Ò±äÎªÁËÊÖÀ×| Íæ¼Ò:" + ev.Player.GetNickname());
                }
                if (num == 6)
                {
                    ev.Player.AddItem(ItemType.Ammo556);
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[5.56×Óµ¯]", false);
                }
                if (num == 7)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.GunLogicer);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[´ó²¤ÂÜ]", false);
                }
                if (num == 8)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.KeycardGuard);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[±£°²¿¨]", false);
                }
                if (num == 9)
                {
                    ev.Player.AddItem(ItemType.Radio);
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[¶Ô½²»úÓÐµç]", false);
                }
                if (num == 10)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.KeycardScientist);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[¿ÆÑ§¼Ò¿¨]", false);
                }
                if (num == 11)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.SCP500);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[¿ÆÑ§¼Ò¿¨]", false);
                }
                if (num == 12)
                {
                    ev.Allow = false;
                    ev.Item.Delete();
                    ev.Player.AddItem(ItemType.Flashlight);
                    ev.Player.Broadcast(5, "<color=#FF1493>ÄãµÄÓ²±Ò±ä³ÉÁË</color>\n[ÊÖµçÍ²]", false);
                    Log.Info("Ó²±Ò±äÎªÁËÊÖµçÍ²| Íæ¼Ò:" + ev.Player.GetNickname());
                }
            }

            if (ev.Player.GetPlayerId() == scp457id)
            {
                ev.Item.Delete();
            }
            if ((a127c == false) && (ev.Item.ItemId == ItemType.GunUSP))
            {
                a127c = true;

                a127 = true;
                ev.Player.Broadcast(5, "<color=lime>Äã¼ñÆðÁË</color>[<color=red>SCP-127</color>]\n<color=lime>µ±ÄãÈÓµô»òÕßËÀÍö¶¼SCP-127¶¼»áÏûÊ§</color>", false);
                Map.Broadcast("SCP127Á¦Á¿ÒÑ¾­³öÏÖ", 10, false);
            }
            Vector3 pos2 = ev.Player.GetPosition();
            if ((pos2.y > -735) && (pos2.y < -730))
            {

                if (jkl == false)
                {
                    jkl = true;
                    jklid = ev.Player.GetUserId();
                    ev.Player.Broadcast(5, "Äã¼ñÆðÁËSCP-½ð¿ÀÀ¬Ê¹ÓÃºó»Ö¸´1000µãÑª", false);
                    Map.Broadcast("SCP-½ð¿ÀÀ¬±»¼ñÆðÁË", 5, false);

                }
            }


            if (Dio2.Contains(ev.Player.GetUserId()))
            {
                ev.Item.Delete();
            }

        }
        public void OnPlayerHurt(ref PlayerHurtEvent ev)
        {
            if (ev.DamageType == DamageTypes.Tesla)
            {
                if (ev.Attacker.GetPlayerId() == ev.Player.GetPlayerId())
                {
                    if (ev.Player.GetTeam() == Team.SCP)
                    {
                        if (scp79==true)
                        {
                            ev.Amount = 0;
                        }
                    }
                    else
                    {
                        if (h == true)
                        {
                            ev.Amount = 0;
                        }
                    }
                }

            }
            
            if (scp_999.Contains(ev.Attacker.GetUserId()) && (ev.DamageType != DamageTypes.Usp) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null))
            {
                ev.Amount = 0;
                if(ev.Player.GetHealth()<=8000)
                {
                    ev.Player.AddHealth(2);
                    if ((ev.Player.GetTeam() == Team.SCP) && (ev.Player.GetRole() != RoleType.Scp096))
                    {
                        ev.Player.AddHealth(3);

                    }

                }

            }
            else if (ev.DamageType == DamageTypes.Tesla)
            {
                if ((scp_999.Contains(ev.Attacker.GetUserId())) && (ev.Attacker.GetPlayerId() != ev.Player.GetPlayerId()))
                {
                    ev.Amount = 0;
                    ev.Player.AddHealth(10);
                }
            }
            if (scp_999.Contains(ev.Player.GetUserId()) && (ev.Attacker.GetTeam() == Team.SCP))
            {
                ev.Amount = 50;
            }
            LCZ = ev.Player.GetPosition();
            int num = 0;
            int num2 = 0;
            if (ev.Attacker.GetPlayerId() == scp650id)
            {
                gjtr++;
                ev.Attacker.Broadcast(4, "<color=red>Í£Ö¹¶à´Î¹¥»÷Ë¢Ñª·ñÔòÄú½«»á±»Çë³ö·þÎñÆ÷</color>", false);
                if (gjtr == 50)
                {
                    ev.Attacker.BanPlayer(0, "Äã´¥·¢650Ë¢ÑªÏÞÖÆ");

                }
            }
            if (ev.Attacker.GetPlayerId() == scp3108playerid)
            {
                if ((ev.DamageType == DamageTypes.Usp) && (ev.Player.GetPlayerId() != scp650id) && (ev.Player.GetPlayerId() != scp457id))
                {
                    scp3108playerid = 0;
                    scp3108shotatplayerpos = ev.Player.GetPosition();
                    int Rolenum = new System.Random().Next(1, 17);
                    if (Rolenum == 1)
                    {
                        ev.Player.SetRole(RoleType.Scientist);
                    }
                    if (Rolenum == 2)
                    {
                        ev.Player.SetRole(RoleType.ChaosInsurgency);
                    }
                    if (Rolenum == 3)
                    {
                        ev.Player.SetRole(RoleType.FacilityGuard);
                    }
                    if (Rolenum == 4)
                    {
                        ev.Player.SetRole(RoleType.NtfCadet);
                    }
                    if (Rolenum == 5)
                    {
                        ev.Player.SetRole(RoleType.NtfCommander);
                    }
                    if (Rolenum == 6)
                    {
                        ev.Player.SetRole(RoleType.NtfLieutenant);
                    }
                    if (Rolenum == 7)
                    {
                        ev.Player.SetRole(RoleType.NtfScientist);
                    }
                    if (Rolenum == 8)
                    {
                        ev.Player.SetRole(RoleType.Scp0492);
                    }
                    if (Rolenum == 9)
                    {
                        ev.Player.SetRole(RoleType.Scp079);
                    }
                    if (Rolenum == 10)
                    {
                        ev.Player.SetRole(RoleType.Scp106);
                    }
                    if (Rolenum == 11)
                    {
                        ev.Player.SetRole(RoleType.Scp173);
                    }
                    if (Rolenum == 12)
                    {
                        ev.Player.SetRole(RoleType.Scp93953);
                    }
                    if (Rolenum == 13)
                    {
                        ev.Player.SetRole(RoleType.Scp93989);
                    }
                    if (Rolenum == 14)
                    {
                        ev.Player.SetRole(RoleType.Tutorial);
                    }
                    ev.Player.Broadcast(5, "<color=red>Äã±»SCP-3108Éä»÷ÒÑ¾­×ª±äÉí·Ý</color>", false);

                    ev.Player.SetPosition(scp3108shotatplayerpos);
                }
            }
            if ((ev.Attacker.GetPlayerId() == scp650id) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
            {
                ev.Amount = 0;

            }
            if ((ev.Attacker.GetRole() == RoleType.Scp173) && (Dio2.Contains(ev.Player.GetUserId())) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
            {
                ev.Amount = 100;
            }
            if ((ev.Attacker.GetTeam() == Team.SCP) && (ev.Player.GetPlayerId() == scp457id))
            {
                ev.Amount = 0;
            }
            if ((ev.Attacker.GetPlayerId() == scp457id) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker.GetRole() == RoleType.Tutorial) && (ev.Player.GetPlayerId() != scp457id))
            {
                ev.Amount = 0;
            }
            if ((ev.Attacker.GetPlayerId() == scp939id) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker.GetRole() == RoleType.Scp93953) && (ev.Player.GetPlayerId() != scp035id) && (LLBS233.Contains(ev.Player.GetPlayerId()) == false))
            {
                ev.Amount = 100f;
            }
            if (ev.Player.GetPlayerId() == cxkid)
            {
                if (jntm == true)
                {
                    int num3 = new System.Random().Next(1, 100);
                    if (num3 >= 50)
                    {
                        ev.Amount = 0;
                    }
                }
            }
            if (ev.Player.GetPlayerId() == scp073id)
            {
                if ((ev.Player.GetPlayerId() != scp650id) && (ev.Attacker.GetTeam() == Team.SCP) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
                {
                    ev.Amount = 10;
                    ev.Attacker.AddHealth(-30);
                }
            }
            if (ev.Player.GetPlayerId() == scp073id)
            {
                if ((ev.Attacker.GetTeam() != Team.MTF) && (ev.Attacker.GetRole() != RoleType.Scientist) && (ev.Attacker.GetTeam() != Team.SCP) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
                {

                    ev.Amount = 3;
                    ev.Attacker.AddHealth(-5);

                }
            }
            if ((scp682.Contains(ev.Attacker.GetUserId())) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Usp) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker.GetRole() == RoleType.Scp93989) && (ev.Player.GetPlayerId() != scp035id) && (LLBS233.Contains(ev.Player.GetPlayerId()) == false))
            {
                ev.Amount = 300f;
                ev.Attacker.AddHealth(100);
            }
            if ((ev.Attacker.GetPlayerId() == scpqblid2) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
            {
                ev.Amount = 0;
            }
            if ((ev.Player.GetUserId() == scpqblid) && (ev.Amount >= scpqbl.GetHealth()))
            {
                ev.Amount = 0;
                scpqbl.SetRole(RoleType.Scp93989);
                scpqblid2 = scpqbl.GetPlayerId();
                scpqbl3 = ev.Player;
                scpqbl = null;
                scpqblid = null;
                ev.Player.SetRank("SCP-ÇÇ±ÌÂÜ", "yellow",  true);
                Map.Broadcast("ÎÒÊÇÑÕÖµÖ÷²¥qwq", 7, false);
            }
            if ((ev.Player.GetPlayerId() == scp181id) && (ev.Attacker.GetTeam() == Team.SCP))
            {
                System.Random random = new System.Random();
                if (random.Next(1, 3) == 2)
                {
                    ev.Attacker.AddHealth(ev.Amount);
                    ev.Amount = 0;
                }
            }
            if (scp2006a.Contains(ev.Player.GetUserId()) && (ev.Attacker.GetPlayerId() != scp650id))
            {
                if (ev.Attacker.GetTeam() > Team.SCP)
                {
                    ev.Amount = 10;
                }
            }
            if ((ev.Player.GetPlayerId() == D9341id))
            {
                if ((ev.Amount >= ev.Player.GetHealth()) && (times <= 5))
                {
                    ev.Amount = 0;
                    D9341.SetRole(D9341js);
                    Coroutines.Add(Timing.RunCoroutine(SecondCounter23()));
                    times++;
                }

            }
            if ((ev.Attacker.GetPlayerId() == scp035id) && (ev.Player.GetTeam() > Team.SCP) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null))
            {
                ev.Amount = 20;
            }
            if ((ev.Player.GetPlayerId() == scp035id) && (ev.Attacker.GetTeam() == Team.SCP) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null))
            {
                ev.Amount = 50;
            }
            if ((ev.Player.GetPlayerId() == scp035id) && (ev.Attacker.GetTeam() > Team.SCP) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null))
            {
                ev.Amount = 50;
            }
            if ((scp2818pick == true))
            {
                if ((scp2818id == ev.Attacker.GetPlayerId()) && (ev.DamageType == DamageTypes.Com15))
                {
                    if (ev.Player.GetRole() == RoleType.Scp106)
                    {
                        ev.Amount = 300;
                        scp2818.Kill();
                        scp2818.SetRole(RoleType.Spectator);
                        scp2818pick = false;
                        scp2818id = 0;
                        scp2818 = null;
                    }
                    else
                    {
                        ev.Amount = 1000;
                        scp2818.Kill();
                        scp2818.SetRole(RoleType.Spectator);
                        scp2818pick = false;
                        scp2818 = null;
                        scp2818id = 0;
                    }
                }
            }
            if (ev.Attacker.GetRole() == RoleType.Scp049)
            {
                if ((lv == 3) && (ev.Player.GetPlayerId() != scp076id) && (LLBS233.Contains(ev.Player.GetPlayerId()) == false) && (ev.Player.GetPlayerId() != scp457id))
                {
                    ev.Amount = 0;
                    ev.Player.SetRole(RoleType.Scp0492 ,true);
                }
            }
            if ((ev.Player.GetPlayerId() != scp650id) && (ev.Player.GetPlayerId() == scp076id))
            {
                if ((ev.Attacker.GetRole() == RoleType.Scp173) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
                {
                    ev.Amount = 20;
                }
                if ((ev.Attacker.GetRole() == RoleType.Scp049) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
                {
                    ev.Amount = 20;
                }
                if ((ev.Attacker.GetRole() == RoleType.Scp0492) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
                {
                    ev.Amount = 10;
                }
                if ((ev.Attacker.GetRole() == RoleType.Scp096) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
                {
                    ev.Amount = 20;
                }
                if ((ev.Attacker.GetRole() == RoleType.Scp93953) || (ev.Attacker.GetRole() == RoleType.Scp93989))
                {
                    ev.Amount = 15;
                }
                if ((ev.Attacker.GetTeam() != Team.SCP) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
                {
                    ev.Amount = 6;
                }
            }
            if (yshkq == false)
            {
                if (roundstart == true)
                {
                    if ((ev.Attacker.GetRole() == RoleType.Scientist) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null))
                    {
                        if (ev.Player.GetRole() == RoleType.Scientist)
                        {
                            ev.Amount = 0;
                        }
                        if (ev.Player.GetTeam() == Team.MTF)
                        {
                            ev.Amount = 0;
                        }
                    }
                    else if (ev.DamageType == DamageTypes.Tesla)
                    {
                        if (ev.Attacker.GetPlayerId() != ev.Player.GetPlayerId())
                        {
                            if (ev.Player.GetRole() == RoleType.Scientist)
                            {
                                ev.Amount = 0;
                            }
                            if (ev.Player.GetTeam() == Team.MTF)
                            {
                                ev.Amount = 0;
                            }
                        }
                    }
                    if ((ev.Attacker.GetTeam() == Team.CHI) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null) && (ev.Player.GetPlayerId() != scp035id))
                    {
                        if (ev.Player.GetRole() == RoleType.ClassD)
                        {
                            ev.Amount = 0;
                        }
                        if (ev.Player.GetTeam() == Team.CHI)
                        {
                            ev.Amount = 0;
                        }
                    }
                    else if (ev.DamageType == DamageTypes.Tesla)
                    {
                        if (ev.Attacker.GetPlayerId() != ev.Player.GetPlayerId())
                        {
                            if (ev.Player.GetRole() == RoleType.Scientist)
                            {
                                ev.Amount = 0;
                            }
                            if (ev.Player.GetTeam() == Team.MTF)
                            {
                                ev.Amount = 0;
                            }
                        }
                    }
                    if ((ev.Attacker.GetRole() == RoleType.ClassD) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null) && (ev.Player.GetPlayerId() != scp035id))
                    {
                        if (ev.Player.GetRole() == RoleType.ClassD)
                        {
                            ev.Amount = 0;
                        }
                        if (ev.Player.GetTeam() == Team.CHI)
                        {
                            ev.Amount = 0;
                        }
                    }
                    else if (ev.DamageType == DamageTypes.Tesla)
                    {
                        if (ev.Attacker.GetPlayerId() != ev.Player.GetPlayerId())
                        {
                            if (ev.Player.GetRole() == RoleType.Scientist)
                            {
                                ev.Amount = 0;
                            }
                            if (ev.Player.GetRole() == RoleType.Scientist)
                            {
                                ev.Amount = 0;
                            }
                        }
                    }
                    if ((ev.Attacker.GetTeam() == Team.MTF) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null))
                    {
                        if (ev.Player.GetRole() == RoleType.Scientist)
                        {
                            ev.Amount = 0;
                        }
                        if (ev.Player.GetTeam() == Team.MTF)
                        {
                            ev.Amount = 0;
                        }
                    }
                    else if (ev.DamageType == DamageTypes.Tesla)
                    {
                        if (ev.Attacker.GetPlayerId() != ev.Player.GetPlayerId())
                        {
                            if (ev.Player.GetRole() == RoleType.Scientist)
                            {
                                ev.Amount = 0;
                            }
                            if (ev.Player.GetTeam() == Team.MTF)
                            {
                                ev.Amount = 0;
                            }
                        }
                    }

                }
            }
            if(jwhngyes == true)
            {
                if (jwhngwufashanghai == false)
                {
                    if (ev.Attacker.GetTeam() == Team.MTF)
                    {
                        if (ev.Player.GetPlayerId() == jwhhkid)
                        {
                            ev.Amount = 20;
                        }
                    }
                    if (ev.Attacker.GetPlayerId() == jwhngid)
                    {
                        if (ev.Attacker.GetTeam() == Team.MTF)
                        {
                            if (ev.Player.GetTeam() == Team.MTF)
                            {
                                ev.Player.Broadcast(1, "ÎÞ·¨¹¥»÷ÄãÏÖÔÚÊÇÎ±×°Ä£Ê½", false);
                                ev.Amount = 0;
                            }
                        }
                    }
                    if (ev.Attacker.GetRole() == RoleType.ChaosInsurgency)
                    {
                        if (ev.Player.GetPlayerId() == jwhngid)
                        {
                            ev.Amount = 0;
                            ev.Player.ClearBroadcasts();
                            ev.Player.Broadcast(1, "Í£»ðÊÇÓÑ¾ü", false);
                        }
                    }
                }
            }
            if ((Dio2.Contains(ev.Player.GetUserId())) && (sjtz1 == true) && (ev.DamageType != DamageTypes.Nuke))
            {
                ev.Amount = 0;
            }
            if (ev.Attacker.GetPlayerId() == scp076id)
            {
                if (ev.Player.GetTeam() == Team.SCP)
                {
                    ev.Amount = ev.Amount + 10;
                }
            }
            foreach (ReferenceHub player in Player.GetHubs())
            {
                if (player.GetRole() == RoleType.ChaosInsurgency)
                {
                    num++;
                }
                if (player.GetTeam() == Team.MTF)
                {
                    num2++;
                }
            }
            foreach (int num4 in touxiang)
            {
                if ((num4 == ev.Player.GetPlayerId()) && ((ev.Attacker.GetTeam() == Team.MTF) || (ev.Attacker.GetRole() == RoleType.Scientist)) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null) && (ev.Player.GetPlayerId() != ev.Attacker.GetPlayerId()) && (num == 0))
                {
                    ev.Attacker.Broadcast(2, "¸ÃÍæ¼Ò´¦ÓÚÍ¶½µ×´Ì¬£¬ÄãÖ»ÄÜ¶ÔËûÔì³É1ÉËº¦\n<color=#00FF7F>Äã×ÔÉíÒ²ÊÜµ½ÁË3ÉËº¦</color>", false);
                    ev.Amount = 1f;
                    Log.Info(string.Concat(new object[] { "Íæ¼Ò: ", ev.Attacker.GetNickname(), " ÕýÔÚ¹¥»÷: ", ev.Player.GetNickname(), " µ±Ç°³¡ÉÏ»ìãç: ", num2 }));
                }
                if ((num4 == ev.Player.GetPlayerId()) && ((ev.Attacker.GetTeam() == Team.MTF) || (ev.Attacker.GetRole() == RoleType.Scientist)) && (num > 0))
                {
                    Log.Info("»ìãçÈËÊý:" + num);
                    Log.Info("MTFÈËÊý:" + num2);
                    ev.Player.Broadcast(2, "ÓÉÓÚ³¡ÉÏ´æÔÚ»ìãç\n<color=#00FF7F>ÄãµÄ±£»¤ÒÑÊ§Ð§</color>", false);
                    Log.Info(string.Concat(new object[] { "Íæ¼Ò: ", ev.Player.GetNickname(), "ÊÜµ½¹¥»÷,µ«ÎÞ±£»¤ | µ±Ç°³¡ÉÏ»ìãç¸öÊý:", num }));
                }
                if ((num4 == ev.Player.GetPlayerId()) && (ev.Attacker.GetRole() == RoleType.ChaosInsurgency) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall)&& (ev.DamageType != DamageTypes.Lure) && (ev.Attacker != null) && (ev.Player.GetPlayerId() != ev.Attacker.GetPlayerId()) && (num2 == 0) && (ev.Player.GetRole() == RoleType.Scientist))
                {
                    Log.Info("»ìãçÈËÊý:" + num);
                    Log.Info("MTFÈËÊý:" + num2);
                    ev.Attacker.Broadcast(2, "¸ÃÍæ¼Ò´¦ÓÚÍ¶½µ×´Ì¬£¬ÄãÖ»ÄÜ¶ÔËûÔì³É1ÉËº¦\n<color=#00FF7F>Äã×ÔÉíÒ²ÊÜµ½ÁË3ÉËº¦</color>", false);

                    Log.Info(string.Concat(new object[] { "Íæ¼Ò: ", ev.Attacker.GetNickname(), " ÕýÔÚ¹¥»÷: ", ev.Player.GetNickname(), " µ±Ç°³¡ÉÏMTF: ", num2 }));
                }
                if ((num4 == ev.Player.GetPlayerId()) && (ev.Attacker.GetRole() == RoleType.ChaosInsurgency) && (num2 > 0))
                {
                    Log.Info("»ìãçÈËÊý:" + num);
                    Log.Info("MTFÈËÊý:" + num2);
                    ev.Player.Broadcast(2, "ÓÉÓÚ³¡ÉÏ´æÔÚMTFÕóÓª\n<color=#00FF7F>ÄãµÄ±£»¤ÒÑÊ§Ð§</color>", false);
                    Log.Info(string.Concat(new object[] { "Íæ¼Ò: ", ev.Player.GetNickname(), "ÊÜµ½¹¥»÷,µ«ÎÞ±£»¤ | µ±Ç°³¡ÉÏ¾ÅÎ²¸öÊý:", num2 }));
                }
                if ((num4 == ev.Attacker.GetPlayerId()) && ((ev.Player.GetTeam() == Team.MTF) || (ev.Player.GetRole() == RoleType.Scientist)) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Player != null) && (ev.Player.GetPlayerId() != ev.Attacker.GetPlayerId()) && (num == 0))
                {
                    ev.Attacker.Broadcast(2, "Äã´¦ÓÚÍ¶½µ×´Ì¬£¬ÄãÎÞ·¨ÉËº¦MTFÕóÓª", false);
                    ev.Amount = 0f;
                }
                if ((num4 == ev.Attacker.GetPlayerId()) && (ev.Player.GetTeam() == Team.CHI) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure) && (ev.Player != null) && (ev.Player.GetPlayerId() != ev.Attacker.GetPlayerId()) && (num2 == 0))
                {
                    ev.Attacker.Broadcast(2, "Äã´¦ÓÚÍ¶½µ×´Ì¬£¬ÄãÎÞ·¨ÉËº¦»ìãçÕóÓª", false);
                    ev.Amount = 0f;
                }
            }
            if (((ev.Player.GetRole() == RoleType.ClassD) || (ev.Player.GetRole() == RoleType.Scientist)) && (ev.DamageType == DamageTypes.Scp049))
            {
                for (int i = 0; i <= 100; i++)
                {
                    if (touxiang[i] == ev.Player.GetPlayerId())
                    {
                        touxiang[i] = 0;
                    }
                }
            }
            if (ev.Player.GetRole() == RoleType.Scp173)
            {
                if ((((ev.DamageType == DamageTypes.Logicer) || (ev.DamageType == DamageTypes.E11StandardRifle)) || ((ev.DamageType == DamageTypes.P90) || (ev.DamageType == DamageTypes.Mp7))) || (ev.DamageType == DamageTypes.Com15))
                {
                    ev.Amount = 3f;
                }
                if (ev.DamageType == DamageTypes.Usp)
                {
                    ev.Amount += 50f;
                }
            }
            if ((ev.Player.GetRole() == RoleType.Scp106) && (((((ev.DamageType == DamageTypes.Usp) || (ev.DamageType == DamageTypes.Logicer)) || ((ev.DamageType == DamageTypes.E11StandardRifle) || (ev.DamageType == DamageTypes.P90))) || (ev.DamageType == DamageTypes.Mp7)) || (ev.DamageType == DamageTypes.Com15) && (scp2818.GetPlayerId() != ev.Attacker.GetPlayerId())))
            {
                ev.Amount = 1f;
            }

            if ((LLBS233.Contains(ev.Player.GetPlayerId())) && (ev.Attacker.GetTeam() == Team.SCP) && (ev.Player.GetPlayerId() != scp650id))
            {
                ev.Amount = 20f;
            }
            if ((a127 == true) && (ev.DamageType == DamageTypes.Usp))
            {
                ev.Amount = 100;
                a127b++;
                if (a127b == 10)
                {
                    a127 = false;
                    a127c = true;
                    a127d = true;
                    Map.Broadcast("SCP127Á¦Á¿ÒÑ¾­ÏûÊ§", 10, false);
                }

            }
            if ((ev.Attacker.GetPlayerId() == scp650id) && (ev.DamageType != DamageTypes.Tesla) && (ev.DamageType != DamageTypes.Decont) && (ev.DamageType != DamageTypes.Falldown) && (ev.DamageType != DamageTypes.Flying) && (ev.DamageType != DamageTypes.Nuke) && (ev.DamageType != DamageTypes.Pocket) && (ev.DamageType != DamageTypes.Wall) && (ev.DamageType != DamageTypes.Lure))
            {
                ev.Amount = 0;
            }

            num = 0;
            num2 = 0;
        }
        public void OnPocketDimEscaped(PocketDimEscapedEvent ev)
        {
            int num = new System.Random().Next(1, 4);
            if (num == 1)
            {
                ev.Player.AddItem(ItemType.Radio);
                ev.Player.Broadcast(10, "<color=#FF1493>ÄãÔÚ¿Ú´üÀïËÑ¹Îµ½ÁË</color>\n¶Ô½²»ú", false);
            }
            else if (num == 2)
            {
                ev.Player.AddItem(ItemType.Medkit);
                ev.Player.Broadcast(10, "<color=#FF1493>ÄãÔÚ¿Ú´üÀïËÑ¹Îµ½ÁË</color>\nÒ½ÁÆ°ü", false);
            }
            else if (num == 3)
            {
                ev.Player.AddItem(ItemType.Flashlight);
                ev.Player.Broadcast(10, "<color=#FF1493>ÄãÔÚ¿Ú´üÀïËÑ¹Îµ½ÁË</color>\nÉÁ¹âµ¯", false);
            }
        }
        public void OnScp079LvlGain(Scp079LvlGainEvent ev)
        {
            if (h == true)
            {
                ev.Player.scp079PlayerScript.NetworkmaxMana = 130;
                ev.Player.Broadcast(10, "<color=#FFC0CB>[ÏûÏ¢]</color>\nÄãÉý¼¶ÁË,µ«ÊÇÄãµÄ\n" + "ÄãµÄµçÁ¿±»ÏÞÖÆµ½ÁË130µãQAQ", false);
            }
        }
        public void OnSetClass(SetClassEvent ev)
        {
            if (ev.Player.GetRole() == RoleType.Scp079)
            {
                this.scp079id = ev.Player.GetPlayerId();
                if (choise == false)
                {
                    ev.Player.SendMessage("==========SCP079============");
                    ev.Player.SendMessage(".scp         Ñ¡Ôñ±¾¾Ö°ïÖúSCP");
                    ev.Player.SendMessage(".h           Ñ¡Ôñ±¾¾Ö°ïÖúÈËÀà");
                    ev.Player.SetRank("SCP079 - ×î´óµçÁ¦:130 | µçÁ¦»Ö¸´:3AP/s   Î´Ñ¡Ôñ°ïÖúÇãÏò", "aqua", true);
                    ev.Player.Broadcast(15, "<color=#FFC0CB>---[SCP079]---</color>\n<color=#00FFFF>HP:ÎÞÏÞ  </color><color=aqua>Äã¿ÉÒÔºÄ·ÑµçÁ¿¿ªÃÅºÍËøÃÅ \n Çåµã¼üÅÌÊý×Ö¼ü1×ó±ßµÄ~¼üÑ¡Ôñ±¾¾ÖËùÊôÕóÓª£¬Èç¹û¿´²»µ½ÌáÊ¾ÔòÏòÉÏ·­</color>", false);
                }
                if (choise == true)
                {
                    if (scp79 == true)
                    {
                        ev.Player.SetRank("SCP079 -  °ïÖúSCP", "aqua", true);
                        ev.Player.Broadcast(15, "<color=#FFC0CB>---[SCP079]---</color>\n<color=#00FFFF>HP:ÎÞÏÞ  </color><color=aqua>Äã¿ÉÒÔºÄ·ÑµçÁ¿¿ªÃÅºÍËøÃÅ \n ±¾¾Ö079Ñ¡Ôñ°ïÖúSCP</color>", false);
                    }
                    if (h == true)
                    {
                        ev.Player.SetRank("SCP079 - ×î´óµçÁ¦:130 | µçÁ¦»Ö¸´:3AP/s   °ïÖúÈËÀà", "aqua",  true);
                        ev.Player.Broadcast(15, "<color=#FFC0CB>---[SCP079]---</color>\n<color=#00FFFF>HP:ÎÞÏÞ  </color><color=aqua>Äã¿ÉÒÔºÄ·ÑµçÁ¿¿ªÃÅºÍËøÃÅ \n ±¾¾Ö079Ñ¡Ôñ°ïÖúÈËÀà</color>", false);
                    }

                }
            }
            if (ev.Player.GetRole() == RoleType.Scp173)
            {
                ev.Player.Broadcast(10, "<color=#FFC0CB>---[SCP173]---</color>\n<color=#00FFFF>HP:4200  </color>ÄãÓµÓÐÒ»ÖÖÌØÊâÄÜÁ¦\nÊÜµ½³ýÊÖÅÚÒÔÍâµÄ<color=#FFD700>Ç¹ÐµÉËº¦Ö»ÓÐ3µã</color>", false);
                SCP173 = "SCP173";
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player, 4200)));
                s173 = 1;
            }
            if (ev.Player.GetRole() == RoleType.Scp049)
            {
                ev.Player.SetRank("µ±Ç°µÈ¼¶:" + lv + "¾­ÑéÖµ:" + xp, "pink", true);
                SCP049 = "SCP049";
                s173 = 1;
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player,3000)));

                ev.Player.Broadcast(10, "<color=#FFC0CB>---[SCP049]---</color>\n<color=#FFC0CB>ÄãÒ»¹²3¼¶¶à¸´»îÐ¡½©Ê¬°Éqwq</color>", false);
            }
            if (ev.Player.GetRole() == RoleType.Scp079)
            {
                SCP079 = "SCP079";
            }
            if (ev.Player.GetRole() == RoleType.Scp096)
            {
                ev.Player.Broadcast(15, "<color=#FFC0CB>---[SCP096]---</color>\n<color=#00FFFF>HP:5000  </color>ÄãÓµÓÐÒ»ÖÖÌØÊâÄÜÁ¦\n<color=#FFD700>°´E 3%¸ÅÂÊ ´ò¿ªËùÓÐÃÅ</color>", false);
                SCP096 = "SCP096";
                s096 = 1;
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player, 1500)));
            }
            if (ev.Player.GetRole() == RoleType.Scp93989)
            {
                ev.Player.Broadcast(10, "<color=#FFC0CB>---[SCP939_89]---</color>\n<color=#00FFFF>HP:6000  </color>ÄãÓµÓÐÒ»ÖÖÌØÊâÄÜÁ¦\nÊÜµ½<color=#FFD700>¹¥»÷Ê±</color>Äã»á¼ÓËÙ,Äã¿ÉÒÔ±¼ÅÜ", false);
                SCP939_89 = "SCP939_89";
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player, 6000)));

                s939_89 = 1;
            }
            if (ev.Player.GetRole() == RoleType.Scp93953)
            {
                ev.Player.Broadcast(10, "<color=#FFC0CB>---[SCP939_53]---</color>\n<color=#00FFFF>HP:6000  </color>ÄãÓµÓÐÒ»ÖÖÌØÊâÄÜÁ¦\nÊÜµ½<color=#FFD700>¹¥»÷Ê±</color>Äã»á¼ÓËÙ,Äã¿ÉÒÔ±¼ÅÜ", false);
                SCP939_53 = "SCP939_53";
                s939_53 = 1;
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player, 6000)));

            }
            if (ev.Player.GetRole() == RoleType.Scp106)
            {
                ev.Player.Broadcast(10, "<color=#FFC0CB>---[SCP106]---</color>\n<color=#00FFFF>HP:650  </color>ÄãÓµÓÐÒ»ÖÖÌØÊâÄÜÁ¦\nÊÜµ½<color=#FFD700>Ç¹ÐµÉËº¦Ö»ÓÐ1µã</color>", false);
                SCP106 = "SCP106";
                s106 = 1;
            }
            if (ev.Player.GetRole() == RoleType.Scp0492)
            {
                ev.Player.Broadcast(10, "<color=#FFC0CB>---[SCP049_2]---</color>\n<color=#00FFFF>HP:1400</color>", false);
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player, 1400)));

                xp = xp + 50;
                if (xp == 100)
                {
                    lv = 1;
                }
                if (xp == 400)
                {
                    lv = 2;
                }
                if (xp == 800)
                {
                    lv = 3;
                }
                foreach (ReferenceHub player in Player.GetHubs())
                {
                    if (player.GetRole() == RoleType.Scp049)
                    {
                        player.AddHealth(100);
                        player.SetRank("µ±Ç°µÈ¼¶:" + lv + " ¾­ÑéÖµ:" + xp, "pink", true);
                    }
                }
            }
            if (ev.Role == RoleType.NtfCommander)
            {
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 400);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 400);
            }
            if (ev.Role == RoleType.NtfLieutenant)
            {
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 450);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 400);
            }
            if (ev.Role == RoleType.Scientist)
            {
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 450);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 450);
            }
            if (ev.Role == RoleType.NtfCadet)
            {
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 40);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 0xa5);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 450);
            }
            if (ev.Role == RoleType.FacilityGuard)
            {
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 400);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 450);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 400);
            }
            if (ev.Role == RoleType.ChaosInsurgency)
            {
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped5, 0);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(EXILED.ApiObjects.AmmoType.Dropped9, 0);
            }
        }
        public void OnPlayerSpawn(PlayerSpawnEvent ev)
        {

            starttimer = true;
            roundstart = true;

            if(ev.Player.GetPlayerId() != D9341id)
            {
                if (ev.Player.GetRole() == RoleType.ClassD)
                {
                    if (d == 0)
                    {
                        scp181 = ev.Player;
                        scp181id = ev.Player.GetPlayerId();
                        card = new System.Random().Next(1, 11);
                        Log.Info("²âÊÔ5");
                        Log.Info(card.ToString());
                        scp181.SetRank("scp181", "pink", true);
                        scp181.Broadcast(10, "ÄãÊÇ[<color=red>SCP-181</color>]\nÕýÔÚÎªÄã·ÖÅäÒ»ÕÅ³õÊ¼¿¨Æ¬ÄãÓÐ20%¼¸ÂÊ¼ñÆð¿¨Éý¼¶ ´ÎÊýÎÞÏÞ Äã¿ÉÒÔÈËÈâ¿ªÃÅ2´Î¼ÓÓÍÅ¶", false);
                        scp181.Broadcast(10, "[<color=red>SCP-181</color>]\nÄã»¹¿ÉÒÔºÏ³ÉÇ¹ ÄãÒ²¿ÉÒÔºÏ³ÉÉÁ¹âµ¯", false);

                    }
                    if (d == 1)
                    {
                        cxk = ev.Player;
                        cxkid = cxk.GetPlayerId();
                        cxkyes = true;
                        cxkflash = true;
                        cxk.SetRank("²ÌÐìÀ¤", "red", true);
                        cxk.Broadcast(10, "ÄãÊÇ[<color=red>SCP-²ÌÐìÀ¤</color>]\n<color=lime>¶ªÏÂÊÖµçÍ²Ê¹ÓÃ¼¼ÄÜ¼¦ÄãÌ«ÃÀ</color>", false);
                    }
                    if (d == 2)
                    {
                        scp817 = ev.Player;
                        scp817yes = true;
                        scp817id = scp817.GetPlayerId();
                        scp817.SetRank("SCP817", "red", true);
                        scp817.Broadcast(10, "ÄãÊÇ[<color=red>SCP-817</color>]\n<color=lime>150Ãë±ä»»Ò»´ÎÉí·Ý</color>", false);
                    }
                    if (d == 3)
                    {
                        D9341 = ev.Player;
                        D9341js = RoleType.Spectator;
                        D9341id = D9341.GetPlayerId();
                        d9341flash = true;

                        D9341.SetRank("D-9341", "red", true);
                        D9341.Broadcast(6, "ÄãÊÇ[<color=red>D-9341</color>]<color=lime>ÄãÓÐ´æµµÄÜÁ¦ ¶ªµôÉÁ¹âµ¯</color><color=red>(´ò¿ª±³°üÓÒ¼ü²»ÊÇ×ó¼üÈÓ³öÈ¥)</color><color=lime>´æµµ</color>\n<color=lime>ËÀÍö»ò¶ªÊÖµç»á»ØµµÒ»¹²5´Î»ú»á</color>", false);
                    }
                    if (d == 4)
                    {
                        scp2006 = ev.Player;
                        scp2006id = scp2006.GetPlayerId();
                        scp2006.Broadcast(10, "ÄãÊÇ[<color=red>SCP-2006</color>]\n<color=lime>¶ªÏÂÒ»¸öÓ²±Ò¾Í»á±»Ëæ»ú´«ËÍµ½Ò»¸öµØ·½</color>", false);
                        scp2006coin = true;

                        scp2006a.Add(scp2006.GetUserId());
                    }
                    if (d == 5)
                    {
                        scp035 = ev.Player;
                        scp035.Broadcast(10, "ÄãÊÇ[<color=red>SCP035</color>]\n<color=lime>HP:300</color><color=red>É±µôÒ»¸öÈËºó ¿¿½üÊ¬Ìå¸½ÉíËûµÄÈËÎï</color><color=red>Ã¿5Ãë¿Û³ý5HP ¸½ÉíºóHP»Ö¸´Îª500</color>", false);
                        scp035health = true;
                        scp035id = scp035.GetPlayerId();
                        scp035item2 = true;
                        scp035.AddItem(ItemType.GunUSP);
                    }
                    if (d == 6)
                    {
                        xtd = ev.Player;
                        xtdid = xtd.GetPlayerId();
                        xtd.Broadcast(10, "ÄãÊÇ[<color=red>Ð¡Íµ</color>]\n<color=lime>ÊäÈë.stealÍµÈ¡ÎïÆ·300sÒ»´Î</color>", false);
                        xtd.SetRank("Ð¡Íµ", "lime", true);
                    }
                    d++;
                }
            }
            if (ev.Player.GetRole() == RoleType.Scientist)
            {
                if (s == 0)
                {
                    scpqbl = ev.Player;
                    scpqblid = scpqbl.GetUserId();
                }
                if (s == 1)
                {
                    int yes = new System.Random().Next(1, 100);
                    if (yes >= 60)
                    {
                        scp914m = ev.Player;
                        scp914m.SetRank("SCP914-M", "pink", true);
                        scp914mid = scp914m.GetPlayerId();
                        scp914m.Broadcast(10, "ÄãÊÇ[<color=red>SCP914-M</color>]\nÄã¾ÍÊÇ914µÄ»¯Éí", false);
                    }
                }
                if (s == 2)
                {
                    scp076 = ev.Player;
                    scp076.SetRole(RoleType.NtfCommander);
                    scp076iteam = true;
                    scp076id = scp076.GetPlayerId();
                    scp076.SetRank("SCP-076", "red", true);
                    scp076yes = true;
                    scp076.Broadcast(10, "[<color=red>SCP-076</color>]\n<color=lime>ÄãÓÐÇ¿´óµÄSCP¿¹ÐÔÒÔ¼°×Óµ¯¿¹ÐÔ£¬ÄãÃ»ÓÐ¿¨ÇëµÈ´ýÆäËûÈËÎªÄã¿ªÃÅ</color>", false);
                    foreach (Inventory.SyncItemInfo item in scp076.GetAllItems())
                    {
                        scp076.RemoveItem(item);
                    }
                }
                if (s == 3)
                {
                    scp650yes = true;
                    scp650 = ev.Player;
                    scp650.SetRole(RoleType.Scp173);
                    scp650.SetHealth(1);
                    scp650id = scp650.GetPlayerId();
                    scp650.SetGodMode(true);
                    scp650.SetRank("SCP-650", "red", true);
                    scp076.Broadcast(10, "[<color=red>SCP-650</color>]\n<color=lime>ÄãÊÇÎÞµÐµÄµ«ÊÇÄãÃ»ÓÐÉËº¦ ÄãµÄÔðÈÎ¾ÍÊÇÏÅÈËqwq</color>", false);
                }
                if(s == 4)
                {
                    hpsz = ev.Player;
                    hpszid = hpsz.GetPlayerId();
                }
                s++;
            }

            int playerId = ev.Player.GetPlayerId();
            if ((ev.Player.GetRole() == RoleType.Scp93989) && (new System.Random().Next(0, 100) <= 20))
            {
                ev.Player.SetRank("SCP-682", "red", true);
                ev.Player.Broadcast(10, "<color=#FF0000>ÄãÊÇSCP682´óÒ¯¼Ç×¡ÄãµÄÉí·ÝÅ¶qwq</color>", false);
                scp682.Add(ev.Player.GetUserId());
                Log.Info(ev.Player.GetNickname() + "³ÉÎªSCP682");
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player, 6000)));


            }
            if (ev.Player.GetRole() == RoleType.Scp93953)
            {
                ev.Player.SetRank("SCP-939-3", "red", true);
                ev.Player.Broadcast(10, "<color=#FF0000>ÄãÊÇSCP-939-3Äã¹¥»÷ÉËº¦Îª100µãÅ¶qwq</color>", false);
                Log.Info(ev.Player.GetNickname() + "939-3");
                scp939id = ev.Player.GetPlayerId();
                Coroutines.Add(Timing.RunCoroutine(RunRestoreMaxHp(ev.Player, 6000)));

            }
            if (ev.Player.GetRole() == RoleType.ChaosInsurgency)
            {
                ev.Player.Broadcast(10, "<color=#FFC0CB>[»ìãç·ÖÁÑÕß]</color>\n<color=#00FFFF>ÄãµÄÈÎÎñÊÇ¾È³öD¼¶É±¹â¾ÅÎ²»òÓëSCPºÏ×÷</color>\nÄã¶ÔSCPÔì³ÉµÄÉËº¦<color=#FFD700>+5</color>", false);
                if(times2 == 3)
                {
                    if(mzyes == false)
                    {
                        mz = ev.Player;
                        mzid = mz.GetPlayerId();
                        mzzb = false;
                        mzyes = true;
                    }
                    times2 = 4;
                }
                if (times2 == 2)
                {
                    Map.Broadcast("SCP1143Í»ÆÆÊÕÈÝ", 6, false);
                    scp1143 = ev.Player;
                    scp1143.SetRank("SCP-1143", "red",  true);
                    scp1143.Broadcast(6, "ÄãÊÇSCP1143 30Ãë»áË¢Ò»¸öÀ×»òÉÁ¹âµ¯", false);
                    scp1143a = true;
                    scp1143id = scp1143.GetPlayerId();
                    times2 = 3;
                }
                if ((times2 == 1))
                {
                    HDZHG = ev.Player;
                    hhzhgzb = false;
                    times2 = 2;
                }

            }
            if ((ev.Player.GetRole() == RoleType.NtfCadet) && (jw.Contains(ev.Player.GetPlayerId())))
            {
                if ((times == 8) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    if (scp550shuachu == false)
                    {
                        scp550 = ev.Player;
                        scp550id = scp550.GetPlayerId();
                        scp550item = true;
                        scp550yes = true;
                        scp550shuachu = true;
                        scp550lv = 0;
                        scp550.SetRole(RoleType.Tutorial);
                        tssl = 0;
                    }
                    times = 9;

                }
                if ((times == 7) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    if(jwhngshuachu == false)
                    {
                        jwhng = ev.Player;
                        jwhngid = jwhng.GetPlayerId();
                        jwhngwufashanghai = true;
                        jwhngyes = true;
                        jwhngitem = false;
                    }
                    times = 8;

                }
                if ((times == 6) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    jwhhk = ev.Player;
                    jwhhkid = jwhhk.GetPlayerId();

                    jw.Remove(ev.Player.GetPlayerId());
                    jwhhk.SetRank("¾ÅÎ²ºüºÚ¿Í", "red", true);
                    jwhhk.Broadcast(5, "<color=lime>ÄãÊÇ¾ÅÎ²ºüºÚ¿Í</color>:ÊäÈë.hk¿ÉÒÔºÚÈëÊµÑéÊÒ", false);
                    times = 7;
                }
                if ((tiems == 5) && (jljy1 == false) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    times = 6;
                    jljy1 = true;
                    jljy = ev.Player;
                    jw.Remove(ev.Player.GetPlayerId());
                    jljy.Broadcast(5, "ÄãÊÇ¼ªÁ¼¼ªÓ°ÇëÉÔµÈÄúµÄ×°±¸ÂíÉÏÅÉ·¢", false);
                    jljy.SetRole(RoleType.FacilityGuard);
                    jljyzb = true;
                }
                if ((tiems == 4) && (bpb == false) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    times = 5;
                    bpb = true;
                    jw.Remove(ev.Player.GetPlayerId());
                    bpb2.Add(ev.Player.GetPlayerId());
                    ev.Player.SetRank("¾ÅÎ²ºü±¬ÆÆ±ø", "red", true);
                    ev.Player.Broadcast(5, "<color=red>ÄãÊÇ¾ÅÎ²ºü±¬ÆÆ±ø</color>:¼ñÆð¶Ô½²»úºÍÉÁ¹âµ¯¿ÉÒÔ±ä³ÉÊÖÀ×", false);
                }
                if ((tiems == 3) && (scp073a == false) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    tiems = 4;
                    scp073 = ev.Player;
                    scp073a = true;
                    scp073id = scp073.GetPlayerId();
                    jw.Remove(ev.Player.GetPlayerId());
                    ev.Player.SetRank("SCP-073", "red", true);
                    ev.Player.Broadcast(5, "<color=#FF0000>ÄãÊÇ¾ÅÎ²ºüSCP-073</color>\n<color=lime>Èç¹ûSCP¹¥»÷Äã Ö»ÓÐ10µãÉËº¦ ÇÒ·´ÉË50 Ç¹Ðµ¹¥»÷ÉËº¦Îª1ÇÒ·´ÉË5</color>", false);
                    scp073zb = false;
                }
                if ((tiems == 2) && (ylb1 == false) && (ev.Player.GetRole() == RoleType.NtfCadet) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    ylb1 = true;
                    ev.Player.SetRank("¾ÅÎ²Ò½ÁÆ±ø", "yellow",  true);
                    ev.Player.Broadcast(5, "<color=#FF0000>ÄãÊÇ¾ÅÎ²ºüÒ½ÁÆ±ø</color>:ÔÚÄãÖÜÎ§µÄÈË»á»ØÑª£¬¼ñÆð¶Ô½²»úºÍÉÁ¹âµ¯¿ÉÒÔ±ä³ÉÑª°ü", false);
                    ylb = ev.Player;
                    ylb2.Add(ylb.GetUserId());
                    tiems = 3;
                    jw.Remove(ev.Player.GetPlayerId());
                }
                if ((ev.Player.GetRole() == RoleType.NtfCadet) && (tiems == 1) && (jw.Contains(ev.Player.GetPlayerId())))
                {
                    jw.Remove(ev.Player.GetPlayerId());
                    mrfish = ev.Player;
                    mrfish.SetRank("Mr.Fish", "yellow", true);
                    Map.Broadcast("<color=#FF0000>Mr.Fish:</color>ÄãÃÇÌ«²ËÁË¿´ÎÒ°ÑSCP¶¼ÊÕÈÝÁË", 10, false);
                    LLBS233.Add(mrfish.GetPlayerId());
                    tiems = 2;
                    mrfishzb = false;
                }
                ev.Player.SetAmmo(AmmoType.Dropped5, 400);
                ev.Player.SetAmmo(AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(AmmoType.Dropped9, 400);
            }
            if (ev.Player.GetRole() == RoleType.NtfCommander)
            {
                ev.Player.SetAmmo(AmmoType.Dropped5, 400);
                ev.Player.SetAmmo(AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(AmmoType.Dropped9, 400);
                ev.Player.Broadcast(10, "<color=#FFC0CB>[¾ÅÎ²ºüÖ¸»Ó¹Ù]</color>\n<color=#00FFFF>Äã¿ÉÒÔ¸øËùÓÐ¾ÅÎ²ºüÕóÓª·¢ËÍÐÅÏ¢,ÀäÈ´80Ãë</color>\nÏêÏ¸<color=#FFD700>°´~¼ü¼¤»î¿ØÖÆÌ¨ÊäÈë.help²é¿´°ïÖú</color>", false);
            }
            if (ev.Player.GetRole() == RoleType.FacilityGuard)
            {
                ev.Player.SetAmmo(AmmoType.Dropped5, 400);
                ev.Player.SetAmmo(AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(AmmoType.Dropped9, 400);
                ev.Player.Broadcast(10, "<color=#FFC0CB>[ÉèÊ©±£°²]</color>\n<color=#00FFFF>ÄãµÄÈÎÎñÊÇÀ¦°ó¾È³öD¼¶¿ÆÑ§¼ÒÉ±¹âSCPÓë»ìãç</color>\nÄã¿ÉÒÔÇ°Íù<color=#FFD700>ÌÓÍÑµã</color>»ñµÃÎï×Ê", false);
            }
            if (ev.Player.GetRole() == RoleType.NtfLieutenant)
            {
                ev.Player.SetAmmo(AmmoType.Dropped5, 400);
                ev.Player.SetAmmo(AmmoType.Dropped7, 400);
                ev.Player.SetAmmo(AmmoType.Dropped9, 400);
            }

        }
        public void OnPlayerLeave(PlayerLeaveEvent ev)
        {

            if(ev.Player.GetPlayerId()==jwhhkid)
            {
                jwhng = null;
                jwhngyes = false;
                jwhngid = 0;
                jwhngwufashanghai = false;
                jwhngitem = true;
            }
            if(ev.Player.GetPlayerId() == scp035id)
            {
                scp035 = null;
                scp035id = 0;
                scp035goout = false;
                scp035yes = false;
            }
            if(ev.Player.GetPlayerId() == scp550id)
            {
                scp550id = 0;
                scp550yes = false;
                scp550 = null;
                scp550lv = 0;
                tssl = 0;
                Map.Broadcast("----[<color=#32CD32>[SCP550]</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == hpszid)
            {
                hpsz = null;
                hpszid = 0;
            }
            if ((scp650yes == true) && (ev.Player.GetPlayerId() == scp650id))
            {
                scp650 = null;
                scp650id = 0;
                scp650yes = false;
                Map.Broadcast("----[<color=#32CD32>[SCP650]</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == jwhhkid)
            {
                jwhhkid = 0;
                jwhhk = null;
            }
            if (ev.Player.GetPlayerId() == scp073id)
            {
                scp073 = null;
                scp073id = 0;
                Map.Broadcast("----[<color=#32CD32>SCP073</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == scp076id)
            {
                scp076 = null;
                scp076id = 0;
                scp076yes = false;
                Map.Broadcast("----[<color=#32CD32>SCP076</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == scp005aid)
            {
                scp005aid = 0;
            }
            if (ev.Player.GetPlayerId() == scp457id)
            {
                scp457 = null;
                scp457a = false;
                scp457die = true;
                scp457b = new Vector3();
                ev.Player.SetRank("white", "", true);
                scp457id = 0;
                Map.Broadcast("----[<color=#32CD32>SCP457</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == xtdid)
            {
                xtd = null;
                xtdid = 0;
            }
            if ((qblcq2 == true) && (qblcq.GetPlayerId() == ev.Player.GetPlayerId()))
            {
                qblcq2 = false;
                qblcq = null;

            }
            if (scp682.Contains(ev.Player.GetUserId()))
            {
                scp682.Remove(ev.Player.GetUserId());
                Map.Broadcast("----[<color=#32CD32>SCP682</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (scp939id == ev.Player.GetPlayerId())
            {
                scp939id = 0;
            }
            if (ev.Player.GetPlayerId() == scp914mid)
            {
                scp914m = null;
                scp914mid = 0;
                Map.Broadcast("----[<color=#32CD32>SCP914-M</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);
            }
            if (ev.Player.GetPlayerId() == scpqblid2)
            {
                scpqblid2 = 0;
                Map.Broadcast("----[<color=#32CD32>SCPÇÇ±ÌÂÜ</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (ev.Player.GetPlayerId() == scp181id)
            {
                scp181id = 0;
                Map.Broadcast("----[<color=#32CD32>SCP181</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == scp035id)
            {
                Map.Broadcast("----[<color=#32CD32>SCP035</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);
                scp035 = null;
                scp035id = 0;
                scp035goout = false;
                scp035yes = false;
            }
            if (scp2006a.Contains(ev.Player.GetUserId()))
            {
                scp2006a.Clear();
                scp2006 = null;
                Map.Broadcast("----[<color=#32CD32>SCP2006</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == cxkid)
            {
                cxkid = 0;
                cxk = null;
                cxkyes = false;
                Map.Broadcast("----[<color=#32CD32>SCP²ÌÐìÀ¤</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == scp817id)
            {
                scp817id = 0;
                scp817 = null;
                scp817yes = false;
                Map.Broadcast("----[<color=#32CD32>SCP817</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);
                ev.Player.SetRank("white", "", true);

            }
            if (ev.Player.GetPlayerId() == D9341id)
            {
                if (times >= 5)
                {
                    D9341 = null;
                    D9341id = 0;
                    D9341Item = null;
                    D9341yes = false;
                    D9341zb = new Vector3();
                    ev.Player.SetRank("white", "", true);
                    Map.Broadcast("----[<color=#32CD32>D-9341</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

                }
            }
            if (bpb2.Contains(ev.Player.GetPlayerId()))
            {
                bpb = false;
                bpb2.Clear();
            }
            if (LLBS233.Contains(ev.Player.GetPlayerId()))
            {
                Map.Broadcast("<color=#FFFF33>Mr.fish:</color>\n×°±ÆÊ§°Ü", 5, false);
                LLBS233.Remove(ev.Player.GetPlayerId());
                ev.Player.SetRank("white", "", true);

            }
            if (Dio2.Contains(ev.Player.GetUserId()))
            {
                Map.Broadcast("<color=#FFFF33>Dio:</color>\n×°±ÆÊ§°Ü", 5, false);
                Dio2.Remove(ev.Player.GetUserId());
                Dio = null;

            }
            if (scp1143id == ev.Player.GetPlayerId())
            {
                scp1143 = null;
                scp1143id = 0;
                scp1143a = false;
                Map.Broadcast("----[<color=#32CD32>SCP1143</color>]----\n<color=#FF0000>[ÊÕÈÝ³É¹¦]</color>\nÊÕÈÝÕß: <color=#40E0D0>" + "µôÏßÁË" + "</color>", 6, false);

            }
            if (ylb2.Contains(ev.Player.GetUserId()))
            {
                ylb = null;
                ylb1 = false;
                ylb2.Clear();

            }
            if (HDZHG2.Contains(ev.Player.GetUserId()))
            {
                HDZHG2.Remove(ev.Player.GetUserId());
            }
        }
    }
}